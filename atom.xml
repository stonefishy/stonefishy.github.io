<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Andrewsy&#39;s Space</title>
  
  
  <link href="https://stonefishy.github.io/atom.xml" rel="self"/>
  
  <link href="https://stonefishy.github.io/"/>
  <updated>2025-11-19T06:45:19.103Z</updated>
  <id>https://stonefishy.github.io/</id>
  
  <author>
    <name>Andrewsy</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>A Universe Data Integration Tool - Airbyte</title>
    <link href="https://stonefishy.github.io/2025/11/18/a-universe-data-integration-tool-airbyte/"/>
    <id>https://stonefishy.github.io/2025/11/18/a-universe-data-integration-tool-airbyte/</id>
    <published>2025-11-18T15:02:15.000Z</published>
    <updated>2025-11-19T06:45:19.103Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, I have been exploring various data integration tools to streamline our data workflows. One tool that has caught my attention is <code>Airbyte</code>. It supports a wide range of data sources and destinations, making it a versatile choice for data engineers and analysts alike.</p><span class='pbg green'>Airbyte is an open-source data integration platform that allows you to easily connect various data sources to your data warehouses</span><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte" style="width:800px;"/></div><span class="image-caption">Airbyte</span></div><h2 id="Key-Features-of-Airbyte"><a href="#Key-Features-of-Airbyte" class="headerlink" title="Key Features of Airbyte"></a>Key Features of Airbyte</h2><ol><li><strong>Open Source</strong>: Airbyte is open-source, allowing users to customize and extend its functionality according to their needs.</li><li><strong>Wide Range of Connectors</strong>: It supports over 600 sources and destinations, including databases, APIs, and file systems.</li><li><strong>Platform</strong>: Airbyte can be deployed on-premises or in the cloud, providing flexibility in how you manage your data infrastructure.</li><li><strong>Incremental Data Sync</strong>: It supports incremental data synchronization, reducing the load on source systems and improving efficiency.</li><li><strong>Custom Connectors</strong>: Users can create custom connectors using Airbyte‚Äôs connector development kit (CDK).</li></ol><h2 id="Airbyte-Sources-and-Destinations"><a href="#Airbyte-Sources-and-Destinations" class="headerlink" title="Airbyte Sources and Destinations"></a>Airbyte Sources and Destinations</h2><p>In Airbyte open source version, You can see it supports various sources and destinations.</p><h3 id="Sources"><a href="#Sources" class="headerlink" title="Sources"></a>Sources</h3><ul><li>Databases: MySQL, PostgreSQL, MongoDB, Oracle, SQL Server, etc.</li><li>APIs: Salesforce, Stripe, HubSpot, Google Analytics, etc.</li><li>File Systems: S3, Google Cloud Storage, FTP, etc.</li></ul><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-source.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-source.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Sources" style="width:800px;"/></div><span class="image-caption">Airbyte Sources</span></div><h3 id="Destinations"><a href="#Destinations" class="headerlink" title="Destinations"></a>Destinations</h3><ul><li>Data Warehouses: Snowflake, BigQuery, Redshift, etc.</li><li>Databases: PostgreSQL, MS SQL Server, etc.</li><li>Data Lakes: S3, GCS Data Lake, Azure Blob Storage etc.</li></ul><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-destination.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-destination.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Destinations" style="width:800px;"/></div><span class="image-caption">Airbyte Destinations</span></div><h2 id="Setting-Up-Airbyte-Locally"><a href="#Setting-Up-Airbyte-Locally" class="headerlink" title="Setting Up Airbyte Locally"></a>Setting Up Airbyte Locally</h2><p>You can choose Cloud deployment or Local deployment. Here, I will guide you through the local setup using Docker.</p><ol><li><p><strong>Install Docker</strong>: Make sure you have Docker installed on your machine. You can download it from <a href="https://www.docker.com/get-started">here</a>.</p></li><li><p><strong>Install abctl</strong>:<br><code>abctl</code> is Airbyte‚Äôs command-line tool for deploying and managing Airbyte.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LsfS https://get.airbyte.com | bash -</span><br></pre></td></tr></table></figure><p>When installation completes, you see <code>abctl install succeeded.</code></p></li><li><p><strong>Run Airbyte</strong>:<br>To make Airbyte accessible outside localhost, specify the ‚Äìhost flag and provide a fully qualified domain name for Airbyte‚Äôs host.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abctl <span class="built_in">local</span> install --host example.com</span><br></pre></td></tr></table></figure><p>If you‚Äôre running on an insecure&#x2F;non-HTTPS connection, turn off the secure cookies requirement.</p> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abctl <span class="built_in">local</span> install --host example.com --insecure-cookies</span><br></pre></td></tr></table></figure><p>For the detailed instructions, refer to the <a href="https://docs.airbyte.com/platform/using-airbyte/getting-started/oss-quickstart#part-1-install-docker-desktop">official documentation</a>.</p></li></ol><p>Once you‚Äôve installed, you can see the airbyte docker containers is running:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-docker-containers.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-docker-containers.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Docker Containers" style="width:800px;"/></div><span class="image-caption">Airbyte Docker Containers</span></div><p>Accessing the airbyte web app at <code>http://&lt;your-domain&gt;:8000</code>, you can start configuring your data sources and destinations. port 8000 is default port, but you can specify a different port using the <code>--port</code> flag during installation.</p><p>When first access it, you need to get the default password for login by running:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abctl <span class="built_in">local</span> credentials</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-credentials.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-credentials.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Credentials" style="width:800px;"/></div><span class="image-caption">Airbyte Credentials</span></div><p>To set the own password, you can change it anytime through below command:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abctl <span class="built_in">local</span> credentials --password YourStrongPasswordExample</span><br></pre></td></tr></table></figure><h2 id="Start-Data-Integration"><a href="#Start-Data-Integration" class="headerlink" title="Start Data Integration"></a>Start Data Integration</h2><p>Once logged in, you can start creating connections between your data sources and destinations. The Airbyte interface is intuitive, allowing you to configure sync settings, schedule data transfers. </p><p>For our project, we‚Äôre syncing the sentry data from <code>Sentry (source)</code> to <code>Google BigQuery (destination)</code>. Since the Sentry only remains 90 days of data retention, we want to back up the data to BigQuery for long-term storage and analysis.</p><h3 id="Setup-Sentry-as-Source"><a href="#Setup-Sentry-as-Source" class="headerlink" title="Setup Sentry as Source"></a>Setup Sentry as Source</h3><p>In the source configuration, select Sentry from the list of available sources. You‚Äôll need to provide your Sentry API token and organization details to connect. Once configured, make sure the the source connection is working by testing the connection.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-sentry-source.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-sentry-source.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Sentry Source" style="width:800px;"/></div><span class="image-caption">Airbyte Sentry Source</span></div><h3 id="Setup-BigQuery-as-Destination"><a href="#Setup-BigQuery-as-Destination" class="headerlink" title="Setup BigQuery as Destination"></a>Setup BigQuery as Destination</h3><p>Next, select Google BigQuery as your destination. You‚Äôll need to provide your GCP credentials and specify the dataset where you want to store the data. Test the connection to ensure everything is set up correctly.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-bigquery-destination.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-bigquery-destination.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte BigQuery Destination" style="width:800px;"/></div><span class="image-caption">Airbyte BigQuery Destination</span></div><h3 id="Setup-Connection"><a href="#Setup-Connection" class="headerlink" title="Setup Connection"></a>Setup Connection</h3><p>Finally, create a connection between the Sentry source and BigQuery destination. You can configure the sync frequency, data transformation options, and other settings as needed.</p><p>For the initial sync, you might want to do a full refresh to back up all existing data. After that, you can set up incremental syncs to keep your BigQuery dataset updated with new Sentry data.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-connection-setup.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-connection-setup.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Connection Setup" style="width:800px;"/></div><span class="image-caption">Airbyte Connection Setup</span></div><p>Below is an example of the scheduling sync to run every hour:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-schedule-sync.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-schedule-sync.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Schedule Sync" style="width:800px;"/></div><span class="image-caption">Airbyte Schedule Sync</span></div><h3 id="Check-the-Sync-Data"><a href="#Check-the-Sync-Data" class="headerlink" title="Check the Sync Data"></a>Check the Sync Data</h3><p>Once the connection is set up, you can monitor the sync process from the Airbyte dashboard. It provides detailed logs and metrics to help you track the status of your data transfers. You can also check your BigQuery dataset to verify that the data from Sentry is being populated correctly.</p><p>Below screenshot shows how many data count synced in BigQuery after the Airbyte sync job completed successfully.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/airbyte-sync-data-in-bigquery.png" class="lazyload placeholder" data-srcset="/assets/images/tools/airbyte-sync-data-in-bigquery.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Airbyte Sync Data in BigQuery" style="width:800px;"/></div><span class="image-caption">Airbyte Sync Data in BigQuery</span></div><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p><code>Airbyte</code> is a powerful and flexible data integration tool that simplifies the process of connecting various data sources to your data warehouses and lakes. Its <code>open-source</code> nature, wide range of connectors, and user-friendly interface make it an excellent choice for data engineers and analysts looking to streamline their data workflows. Whether you‚Äôre backing up Sentry data to BigQuery or integrating other data sources, Airbyte provides a robust solution for your data integration needs.</p><p>Hope you find this tool useful for your data integration tasks!</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Recently, I have been exploring various data integration tools to streamline our data workflows. One tool that has caught my attention is</summary>
      
    
    
    
    <category term="Big Data" scheme="https://stonefishy.github.io/categories/Big-Data/"/>
    
    
    <category term="AWS" scheme="https://stonefishy.github.io/tags/AWS/"/>
    
    <category term="Sentry" scheme="https://stonefishy.github.io/tags/Sentry/"/>
    
    <category term="ETL" scheme="https://stonefishy.github.io/tags/ETL/"/>
    
    <category term="Airbyte" scheme="https://stonefishy.github.io/tags/Airbyte/"/>
    
    <category term="GCP" scheme="https://stonefishy.github.io/tags/GCP/"/>
    
    <category term="BigQuery" scheme="https://stonefishy.github.io/tags/BigQuery/"/>
    
  </entry>
  
  <entry>
    <title>Serveral Ways to Extracting PDF content to Markdown for LLM &amp; RAG</title>
    <link href="https://stonefishy.github.io/2025/11/05/several-ways-to-extracting-pdf-content-to-markdown-for-llm-rag/"/>
    <id>https://stonefishy.github.io/2025/11/05/several-ways-to-extracting-pdf-content-to-markdown-for-llm-rag/</id>
    <published>2025-11-05T10:31:42.000Z</published>
    <updated>2025-11-19T06:45:19.103Z</updated>
    
    <content type="html"><![CDATA[<p>In the realm of AI and machine learning, particularly when working with Large Language Models (LLMs) and Retrieval-Augmented Generation (RAG), having access to well-structured textual data is crucial. PDFs are a common format for documents, but extracting their content into a more usable format like Markdown can be challenging. In this post, I will explore several methods to extract PDF content and convert it into Markdown format. Such as using tools like <code>PyMuPDF4LLM</code>, <code>Docling</code>, and <code>MinerU</code> etc.</p><h2 id="1-Using-PyMuPDF4LLM"><a href="#1-Using-PyMuPDF4LLM" class="headerlink" title="1. Using PyMuPDF4LLM"></a>1. Using PyMuPDF4LLM</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/rag-pymupdf4llm.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/rag-pymupdf4llm.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="PyMuPDF4LLM" style="width:200px;"/></div><span class="image-caption">PyMuPDF4LLM</span></div><p><code>PyMuPDF4LLM</code> is a Python library specifically designed to extract text from PDF files and convert it into Markdown format, optimized for <code>LLMs</code>.</p><h3 id="Features"><a href="#Features" class="headerlink" title="Features:"></a>Features:</h3><ul><li>Support for multi-column pages</li><li>Support for image and vector graphics extraction (and inclusion of references in the MD text)</li><li>Support for page chunking output.</li><li>Direct support for output as LlamaIndex Documents.</li></ul><h3 id="Usage"><a href="#Usage" class="headerlink" title="Usage"></a>Usage</h3><p>You can install the library using pip:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install pymupdf4llm</span><br></pre></td></tr></table></figure><p>Here is a simple example of how to use <code>PyMuPDF4LLM</code> to extract text from a PDF and convert it to Markdown, and store as a UTF8-encoded <code>.md</code> file:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymupdf4llm</span><br><span class="line"><span class="keyword">import</span> pathlib</span><br><span class="line">md_text = pymupdf4llm.to_markdown(<span class="string">&quot;input.pdf&quot;</span>)</span><br><span class="line">pathlib.Path(<span class="string">&quot;output.md&quot;</span>).write_bytes(md_text.encode())</span><br></pre></td></tr></table></figure><p>For the detailed instructions, please refer to the <a href="https://pymupdf.readthedocs.io/en/latest/index.html">official website</a></p><h2 id="2-Using-Docling"><a href="#2-Using-Docling" class="headerlink" title="2. Using Docling"></a>2. Using Docling</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/rag-docling.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/rag-docling.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Docling" style="width:600px;"/></div><span class="image-caption">Docling</span></div><p><code>Docling</code> Preps Your Files for <code>GenAI</code>, <code>RAG</code>, and Beyond. It simplifies document processing, parsing diverse formats ‚Äî including advanced PDF understanding ‚Äî and providing seamless integrations with the gen AI ecosystem.</p><h3 id="Features-1"><a href="#Features-1" class="headerlink" title="Features"></a>Features</h3><p>üóÇÔ∏è Parsing of multiple document formats incl. PDF, DOCX, PPTX, XLSX, HTML, WAV, MP3, VTT, images (PNG, TIFF, JPEG, ‚Ä¶), and more</p><ul><li>üìë Advanced PDF understanding incl. page layout, reading order, table structure, code, formulas, image classification, and more</li><li>üß¨ Unified, expressive DoclingDocument representation format</li><li>‚Ü™Ô∏è Various export formats and options, including Markdown, HTML, DocTags and lossless JSON</li><li>üîí Local execution capabilities for sensitive data and air-gapped environments</li><li>ü§ñ Plug-and-play integrations incl. LangChain, LlamaIndex, Crew AI &amp; Haystack for agentic AI</li><li>üîç Extensive OCR support for scanned PDFs and images</li><li>üëì Support of several Visual Language Models (GraniteDocling)</li><li>üéôÔ∏è Support for Audio with Automatic Speech Recognition (ASR) models</li><li>üîå Connect to any agent using the Docling MCP server</li><li>üíª Simple and convenient CLI</li></ul><h3 id="Usage-1"><a href="#Usage-1" class="headerlink" title="Usage"></a>Usage</h3><p>You can install <code>Docling</code> using pip:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install docling</span><br></pre></td></tr></table></figure><p>To convert a PDF to Markdown using <code>Docling</code>, you can use either the CLI or Python API. Below is python example:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pathlib</span><br><span class="line"><span class="keyword">from</span> docling.document_converter <span class="keyword">import</span> DocumentConverter</span><br><span class="line"></span><br><span class="line">converter = DocumentConverter()</span><br><span class="line">doc = converter.convert(<span class="string">&quot;input.pdf&quot;</span>).document</span><br><span class="line">pathlib.Path(<span class="string">&quot;output.md&quot;</span>).write_text(doc.export_to_markdown(), encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br></pre></td></tr></table></figure><p>For the detailed instructions, please refer to the <a href="https://github.com/docling-project/docling">official GitHub repository</a></p><h3 id="MinerU"><a href="#MinerU" class="headerlink" title="MinerU"></a>MinerU</h3><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/rag-mineru.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/rag-mineru.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="MinerU" style="width:600px;"/></div><span class="image-caption">MinerU</span></div><p><code>MinerU</code> is a tool that converts PDFs into machine-readable formats (e.g., markdown, JSON), allowing for easy extraction into any format. MinerU was born during the pre-training process of InternLM. </p><h3 id="Features-2"><a href="#Features-2" class="headerlink" title="Features"></a>Features</h3><ul><li>Remove headers, footers, footnotes, page numbers, etc., to ensure semantic coherence.</li><li>Output text in human-readable order, suitable for single-column, multi-column, and complex layouts.</li><li>Preserve the structure of the original document, including headings, paragraphs, lists, etc.</li><li>Extract images, image descriptions, tables, table titles, and footnotes.</li><li>Automatically recognize and convert formulas in the document to LaTeX format.</li><li>Automatically recognize and convert tables in the document to HTML format.</li><li>Automatically detect scanned PDFs and garbled PDFs and enable OCR functionality.</li><li>OCR supports detection and recognition of 109 languages.</li><li>Supports multiple output formats, such as multimodal and NLP Markdown, JSON sorted by reading order, and rich intermediate formats.</li><li>Supports various visualization results, including layout visualization and span visualization, for efficient confirmation of output quality.</li><li>Supports running in a pure CPU environment, and also supports GPU(CUDA)&#x2F;NPU(CANN)&#x2F;MPS acceleration</li><li>Compatible with Windows, Linux, and Mac platforms.</li></ul><h3 id="Usage-2"><a href="#Usage-2" class="headerlink" title="Usage"></a>Usage</h3><p>Install MinerU using pip or uv:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pip install --upgrade pip</span><br><span class="line">pip install uv</span><br><span class="line">uv pip install -U <span class="string">&quot;mineru[core]&quot;</span></span><br></pre></td></tr></table></figure><p>The simplest command line invocation is:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mineru -p &lt;input_path&gt; -o &lt;output_path&gt;</span><br></pre></td></tr></table></figure><p>For the detail, please refer to the <a href="https://github.com/opendatalab/MinerU">official GitHub repository</a>.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In the realm of AI and machine learning, particularly when working with Large Language Models (LLMs) and Retrieval-Augmented Generation (</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="Markdown" scheme="https://stonefishy.github.io/tags/Markdown/"/>
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="RAG" scheme="https://stonefishy.github.io/tags/RAG/"/>
    
    <category term="PDF" scheme="https://stonefishy.github.io/tags/PDF/"/>
    
    <category term="LLM" scheme="https://stonefishy.github.io/tags/LLM/"/>
    
  </entry>
  
  <entry>
    <title>Handling Large Files in Git - Solving the &#39;File Size Limit&#39; Error</title>
    <link href="https://stonefishy.github.io/2025/10/20/handling-large-files-in-git-solving-the-file-size-limit-error/"/>
    <id>https://stonefishy.github.io/2025/10/20/handling-large-files-in-git-solving-the-file-size-limit-error/</id>
    <published>2025-10-20T10:40:47.000Z</published>
    <updated>2025-11-19T06:45:19.103Z</updated>
    
    <content type="html"><![CDATA[<p>Recently, we‚Äôre migrating the repository from <code>bitbucket</code> to <code>github</code>, while pushing changes to my GitHub repository, I encountered the following error:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">remote: error: File mock-data/OTAMockDataGenerator/project.log is 113.39 MB; this exceeds GitHub&#x27;s file size limit of 100.00 MB</span><br><span class="line">remote: error: File mock-data/OTADataGenerator/project.log is 113.37 MB; this exceeds GitHub&#x27;s file size limit of 100.00 MB</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/tools/github-file-size-limit-error.png" class="lazyload placeholder" data-srcset="/assets/images/tools/github-file-size-limit-error.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div></div><p>GitHub restricts file uploads to 100 MB. In my case, these <code>.log</code> files were not essential for version control, but they were already committed. Here‚Äôs how I resolved the issue and some best practices for handling large files in Git.</p><hr><h2 id="1-Removing-Large-Files-from-History-with-git-filter-repo"><a href="#1-Removing-Large-Files-from-History-with-git-filter-repo" class="headerlink" title="1. Removing Large Files from History with git filter-repo"></a>1. Removing Large Files from History with <code>git filter-repo</code></h2><p>If we‚Äôve already committed large files, simply deleting them and pushing won‚Äôt work‚Äîthey remain in our repository history. To completely remove them, use <a href="https://github.com/newren/git-filter-repo"><code>git filter-repo</code></a>:</p><p><strong>Step-by-step:</strong></p><ol><li><p><strong>Install git-filter-repo</strong><br> On Windows, use <a href="https://pypi.org/project/git-filter-repo/">Python pip</a>:  </p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install git-filter-repo</span><br></pre></td></tr></table></figure></li><li><p><strong>Remove the unwanted files from history:</strong>  </p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git filter-repo --path mock-data/OTAMockDataGenerator/project.log --path mock-data/OTADataGenerator/project.log --invert-paths</span><br></pre></td></tr></table></figure><p> This command deletes the specified files from all commits.</p></li><li><p><strong>Force-push the cleaned history:</strong>  </p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push --force</span><br></pre></td></tr></table></figure><p> <strong>Warning:</strong> Force-pushing rewrites history. Coordinate with collaborators before proceeding.</p></li><li><p><strong>Add <code>.log</code> files to <code>.gitignore</code></strong><br> Prevent future accidental commits:</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;*.log&quot; &gt;&gt; .gitignore</span><br><span class="line">git add .gitignore</span><br><span class="line">git commit -m &quot;Ignore log files&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li></ol><hr><h2 id="2-Managing-Large-Files-with-Git-Large-File-Storage-LFS"><a href="#2-Managing-Large-Files-with-Git-Large-File-Storage-LFS" class="headerlink" title="2. Managing Large Files with Git Large File Storage (LFS)"></a>2. Managing Large Files with Git Large File Storage (LFS)</h2><p>Alternative way, if you need to track large files (e.g., datasets, binaries), consider <a href="https://git-lfs.github.com/">Git LFS</a>:</p><p><strong>Setup:</strong></p><ol><li><p><strong>Install Git LFS:</strong><br> Download and install from <a href="https://git-lfs.github.com/">git-lfs.github.com</a>.</p></li><li><p><strong>Track large file types:</strong>  </p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git lfs track &quot;*.log&quot;</span><br><span class="line">git add .gitattributes</span><br><span class="line">git add mock-data/OTAMockDataGenerator/project.log</span><br><span class="line">git add mock-data/OTADataGenerator/project.log</span><br><span class="line">git commit -m &quot;Track log files with LFS&quot;</span><br><span class="line">git push</span><br></pre></td></tr></table></figure></li></ol><p><strong>Note:</strong><br>Git LFS stores large files outside the main repository, keeping your repo lightweight. However, GitHub LFS has its own storage limits and may incur costs for very large datasets.</p><hr><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><ul><li>Use <code>git filter-repo</code> to clean up large, unnecessary files from your repo history.</li><li>Add file patterns to <code>.gitignore</code> to prevent future issues.</li><li>For essential large files, use Git LFS.</li></ul><p>By following these steps, we can keep our repository clean, efficient, and compliant with GitHub‚Äôs file size policies.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Recently, we‚Äôre migrating the repository from &lt;code&gt;bitbucket&lt;/code&gt; to &lt;code&gt;github&lt;/code&gt;, while pushing changes to my GitHub repositor</summary>
      
    
    
    
    <category term="Tools" scheme="https://stonefishy.github.io/categories/Tools/"/>
    
    
    <category term="Git" scheme="https://stonefishy.github.io/tags/Git/"/>
    
    <category term="GitHub" scheme="https://stonefishy.github.io/tags/GitHub/"/>
    
  </entry>
  
  <entry>
    <title>Automation Testing with Playwright MCP AI Browser Control</title>
    <link href="https://stonefishy.github.io/2025/09/30/automating-testing-with-playwright-mcp-ai-browser-control/"/>
    <id>https://stonefishy.github.io/2025/09/30/automating-testing-with-playwright-mcp-ai-browser-control/</id>
    <published>2025-09-30T16:03:15.000Z</published>
    <updated>2025-11-19T06:45:19.103Z</updated>
    
    <content type="html"><![CDATA[<p>Automation testing has evolved significantly with the introduction of AI-powered tools. Today, we can leverage the power of <code>Playwright</code> framework combined with Model Context Protocol (MCP) to create intelligent testing workflows that understand natural language test scenarios and execute them automatically. In this blog, we‚Äôll explore how to use Playwright MCP with AI assistants like GitHub Copilot to streamline your testing process.</p><h2 id="Introduction-to-Playwright-Framework"><a href="#Introduction-to-Playwright-Framework" class="headerlink" title="Introduction to Playwright Framework"></a>Introduction to Playwright Framework</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/playwright.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/playwright.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Playwright"/></div><span class="image-caption">Playwright</span></div><p>Playwright is a modern, cross-browser automation framework developed by Microsoft that has revolutionized web application testing. It provides a robust and reliable solution for end-to-end testing, offering several key advantages over traditional testing frameworks.</p><h3 id="Key-Features-of-Playwright"><a href="#Key-Features-of-Playwright" class="headerlink" title="Key Features of Playwright"></a>Key Features of Playwright</h3><p><strong>Cross-Browser Support</strong>: Playwright supports all modern browsers including Chromium, Firefox, and WebKit, allowing you to test your applications across different browser engines with a single API.</p><p><strong>Multi-Language Support</strong>: While originally built for Node.js, Playwright now supports multiple programming languages including Python, Java, and .NET, making it accessible to diverse development teams.</p><p><strong>Auto-Wait Capabilities</strong>: One of Playwright‚Äôs most powerful features is its intelligent auto-wait mechanism. It automatically waits for elements to be ready before performing actions, eliminating the need for manual sleep statements and reducing flaky tests.</p><p><strong>Modern Web Features</strong>: Playwright handles modern web application patterns seamlessly, including:</p><ul><li>Single Page Applications (SPAs)</li><li>Progressive Web Apps (PWAs)</li><li>Shadow DOM elements</li><li>iframes and pop-ups</li><li>File downloads and uploads</li></ul><p><strong>Network Intercession</strong>: Advanced network interception capabilities allow you to mock API responses, monitor network traffic, and simulate various network conditions.</p><p><strong>Mobile Testing</strong>: Built-in support for mobile browser testing with device emulation, touch gestures, and geolocation simulation.</p><h3 id="Architecture-and-Design"><a href="#Architecture-and-Design" class="headerlink" title="Architecture and Design"></a>Architecture and Design</h3><p>Playwright uses a unique architecture that connects directly to browser instances through debugging protocols, providing:</p><ul><li><strong>Fast Execution</strong>: Direct browser communication eliminates overhead</li><li><strong>Reliable Element Selection</strong>: Multiple selector strategies including text, CSS, XPath, and accessibility selectors</li><li><strong>Parallel Execution</strong>: Native support for parallel test execution across browsers and devices</li><li><strong>Headless and Headed Modes</strong>: Flexibility to run tests with or without browser UI</li></ul><h2 id="Introducing-Playwright-MCP"><a href="#Introducing-Playwright-MCP" class="headerlink" title="Introducing Playwright MCP"></a>Introducing Playwright MCP</h2><p><code>Model Context Protocol (MCP)</code> represents a breakthrough in AI-tool integration, enabling AI assistants to interact with external tools and services seamlessly. The Playwright MCP brings this capability to web automation testing, allowing AI models to understand testing requirements in natural language and execute them using Playwright‚Äôs powerful automation capabilities.</p><h3 id="What-is-Playwright-MCP"><a href="#What-is-Playwright-MCP" class="headerlink" title="What is Playwright MCP?"></a>What is Playwright MCP?</h3><p><code>Playwright MCP</code> is an implementation of the Model Context Protocol that exposes Playwright‚Äôs functionality to AI assistants. It acts as a bridge between natural language testing instructions and Playwright‚Äôs programmatic API, enabling:</p><ul><li><strong>Natural Language Test Execution</strong>: Describe test scenarios in plain English</li><li><strong>Intelligent Element Detection</strong>: AI-powered element identification and interaction</li><li><strong>Dynamic Test Generation</strong>: Automatic test case creation based on requirements</li><li><strong>Real-time Test Execution</strong>: Execute tests and get immediate feedback</li><li><strong>Cross-Browser Testing</strong>: Run tests across multiple browsers simultaneously</li></ul><h3 id="Architecture-Overview"><a href="#Architecture-Overview" class="headerlink" title="Architecture Overview"></a>Architecture Overview</h3><p>The Playwright MCP consists of several key components:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">AI Assistant (VS Code Github Copilot/Goose) ‚Üê‚Üí MCP Client ‚Üê‚Üí Playwright MCP Server ‚Üê‚Üí Browser Instances</span><br></pre></td></tr></table></figure><ul><li><strong>MCP Client</strong>: Handles communication between AI assistant and MCP server</li><li><strong>Playwright MCP Server</strong>: Translates AI requests into Playwright commands</li><li><strong>Browser Management</strong>: Manages browser instances and test execution</li><li><strong>Result Processing</strong>: Formats and returns test results to the AI assistant</li></ul><h3 id="Configuration-in-VS-Code-GitHub-Copilot"><a href="#Configuration-in-VS-Code-GitHub-Copilot" class="headerlink" title="Configuration in VS Code GitHub Copilot"></a>Configuration in VS Code GitHub Copilot</h3><p>To configure Playwright MCP with VS Code GitHub Copilot, you need to set up the MCP server in your <code>mcp.json</code> configuration file:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;playwright&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;npx&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">            <span class="string">&quot;@playwright/mcp@latest&quot;</span></span><br><span class="line">        <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>The official website link: <a href="https://github.com/microsoft/playwright-mcp">https://github.com/microsoft/playwright-mcp</a></p><h2 id="Demo-Automated-Testing-with-AI-and-Playwright-MCP"><a href="#Demo-Automated-Testing-with-AI-and-Playwright-MCP" class="headerlink" title="Demo: Automated Testing with AI and Playwright MCP"></a>Demo: Automated Testing with AI and Playwright MCP</h2><p>Let‚Äôs demonstrate the power of Playwright MCP by executing real test scenarios using natural language instructions. We‚Äôll test the JBL Fit Checker website with two comprehensive test cases. You also can see the playwright auto open the browser window to execute the test cases.</p><h3 id="Test-Case-1-Landing-Page-Content-Verification"><a href="#Test-Case-1-Landing-Page-Content-Verification" class="headerlink" title="Test Case 1: Landing Page Content Verification"></a>Test Case 1: Landing Page Content Verification</h3><p><strong>Test Scenario</strong>: Verify that the JBL Fit Checker landing page contains the expected branding text.</p><p><strong>Natural Language Instruction</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Please using Playwright tool to execute below test scenarios and summarize the testing report</span><br><span class="line"></span><br><span class="line">TC01 - The landing page should contains specific text</span><br><span class="line"></span><br><span class="line">Open website https://fitchecker.jbl.com</span><br><span class="line">Check the landing page whether contains &quot;JBL Fit Checker&quot; text</span><br><span class="line">Test case failed if it is not contains above text, Otherwise success.</span><br></pre></td></tr></table></figure><p><strong>AI Assistant Execution Process</strong>:</p><p>When you provide this instruction to your AI assistant (GitHub Copilot or Goose), the Playwright MCP will:</p><ol><li><strong>Parse the Requirements</strong>: Understand that we need to navigate to a URL and verify text content</li><li><strong>Browser Initialization</strong>: Launch a browser instance (defaulting to Chromium)</li><li><strong>Navigation</strong>: Navigate to the specified URL</li><li><strong>Content Verification</strong>: Search for the specified text on the page</li><li><strong>Result Reporting</strong>: Provide a comprehensive test report</li></ol><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/playwright-mcp-tc01-test-execution.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/playwright-mcp-tc01-test-execution.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Playwright MCP Test Execution - TC01"/></div><span class="image-caption">Playwright MCP Test Execution - TC01</span></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">üé≠ Playwright Test Execution Report</span><br><span class="line"></span><br><span class="line">Test Case: TC01 - Landing Page Content Verification</span><br><span class="line"></span><br><span class="line">Test Execution Summary</span><br><span class="line">Website Tested: https://fitchecker.jbl.com</span><br><span class="line">Test Date: September 30, 2025</span><br><span class="line">Testing Tool: Playwright Browser Automation</span><br><span class="line">Total Test Cases: 1</span><br><span class="line">Passed: 1</span><br><span class="line">Failed: 0</span><br><span class="line">Pass Rate: 100%</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/playwright-mcp-tc01-test-report.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/playwright-mcp-tc01-test-report.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Playwright Test Execution Report - TC01"/></div><span class="image-caption">Playwright Test Execution Report - TC01</span></div><h3 id="Test-Case-2-Internationalization-Testing"><a href="#Test-Case-2-Internationalization-Testing" class="headerlink" title="Test Case 2: Internationalization Testing"></a>Test Case 2: Internationalization Testing</h3><p><strong>Test Scenario</strong>: Verify the language switching functionality works correctly.</p><p><strong>Natural Language Instruction</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">TC02 - The landing page able to switch to Chinese locale language.</span><br><span class="line"></span><br><span class="line">Open AWS website https://fitchecker.jbl.com</span><br><span class="line">The page should show the language as &quot;EN&quot;</span><br><span class="line">Click the dropdown list to choose &quot;ÁÆÄ‰Ωì‰∏≠Êñá&quot; language</span><br><span class="line">Test case passed if the current page language is show as &quot;ZH-CN&quot;, Otherwise failed.</span><br></pre></td></tr></table></figure><p><strong>AI Assistant Execution Process</strong>:</p><p>The Playwright MCP will handle this more complex scenario by:</p><ol><li><strong>Initial State Verification</strong>: Confirm the default language is ‚ÄúEN‚Äù</li><li><strong>Element Interaction</strong>: Locate and interact with the language dropdown</li><li><strong>Option Selection</strong>: Find and select the Chinese language option</li><li><strong>State Validation</strong>: Verify the language change was successful</li><li><strong>Comprehensive Reporting</strong>: Document all interactions and results</li></ol><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/playwright-mcp-tc02-test-execution.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/playwright-mcp-tc02-test-execution.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Playwright MCP Test Execution - TC02"/></div><span class="image-caption">Playwright MCP Test Execution - TC02</span></div><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">üé≠ Playwright Test Execution Report</span><br><span class="line"></span><br><span class="line">Test Case: TC02 - Language Switching Functionality</span><br><span class="line"></span><br><span class="line">Test Execution Summary</span><br><span class="line">Website Tested: https://fitchecker.jbl.com</span><br><span class="line">Test Date: September 30, 2025</span><br><span class="line">Testing Tool: Playwright Browser Automation</span><br><span class="line">Total Test Cases: 1</span><br><span class="line">Passed: 1</span><br><span class="line">Failed: 0</span><br><span class="line">Pass Rate: 100%</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/playwright-mcp-tc02-test-report.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/playwright-mcp-tc02-test-report.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Playwright Test Execution Report - TC02"/></div><span class="image-caption">Playwright Test Execution Report - TC02</span></div><p>The <code>playwright-mcp</code> can also generate the automation test code for the above test cases in your workspace.</p><h3 id="Advanced-Testing-Scenarios"><a href="#Advanced-Testing-Scenarios" class="headerlink" title="Advanced Testing Scenarios"></a>Advanced Testing Scenarios</h3><p>The Playwright MCP can handle more complex testing scenarios with minimal instruction:</p><p><strong>Responsive Design Testing</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Test the JBL website responsiveness:</span><br><span class="line">- Desktop view (1920x1080)</span><br><span class="line">- Tablet view (768x1024)  </span><br><span class="line">- Mobile view (375x667)</span><br><span class="line">Verify all elements are properly displayed in each viewport.</span><br></pre></td></tr></table></figure><p><strong>Performance Testing</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Measure the JBL website performance:</span><br><span class="line">- Page load time</span><br><span class="line">- Time to interactive</span><br><span class="line">- Largest contentful paint</span><br><span class="line">- Network resource loading times</span><br></pre></td></tr></table></figure><p><strong>Accessibility Testing</strong>:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Check JBL website accessibility:</span><br><span class="line">- Verify ARIA labels</span><br><span class="line">- Test keyboard navigation</span><br><span class="line">- Check color contrast ratios</span><br><span class="line">- Validate screen reader compatibility</span><br></pre></td></tr></table></figure><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>The integration of Playwright MCP with AI assistants represents a paradigm shift in automation testing, offering unprecedented efficiency and accessibility. This powerful combination transforms complex testing workflows into simple, natural language conversations.</p><h3 id="Key-Benefits-Achieved"><a href="#Key-Benefits-Achieved" class="headerlink" title="Key Benefits Achieved"></a>Key Benefits Achieved</h3><p><strong>Democratized Testing</strong>: Non-technical team members can now create and execute sophisticated test scenarios using natural language, breaking down traditional barriers between manual testers and automation engineers.</p><p><strong>Rapid Test Development</strong>: What previously required hours of script writing and debugging can now be accomplished in minutes through conversational AI interfaces.</p><p><strong>Intelligent Test Execution</strong>: AI-powered element detection and interaction strategies reduce test maintenance overhead and improve reliability across different application versions.</p><p><strong>Comprehensive Reporting</strong>: Automated generation of detailed test reports with screenshots, performance metrics, and execution timelines provides valuable insights without additional effort.</p><p><strong>Cross-Browser Consistency</strong>: Seamless execution across multiple browsers ensures comprehensive coverage with minimal configuration.</p><h3 id="Real-World-Impact"><a href="#Real-World-Impact" class="headerlink" title="Real-World Impact"></a>Real-World Impact</h3><p>Our demo scenarios demonstrate practical applications that development teams encounter daily:</p><ul><li><strong>Content Verification</strong>: Ensuring brand messaging and critical content appear correctly</li><li><strong>Internationalization Testing</strong>: Validating multi-language support and locale-specific functionality</li><li><strong>User Experience Validation</strong>: Confirming that interactive elements work as expected</li></ul><h3 id="Getting-Started-Recommendations"><a href="#Getting-Started-Recommendations" class="headerlink" title="Getting Started Recommendations"></a>Getting Started Recommendations</h3><p>To begin leveraging Playwright MCP in your testing workflow:</p><ol><li><strong>Start Small</strong>: Begin with simple content verification tests to familiarize yourself with the natural language interface</li><li><strong>Expand Gradually</strong>: Progressively tackle more complex scenarios like form interactions and multi-step workflows  </li><li><strong>Integrate with CI&#x2F;CD</strong>: Incorporate AI-generated tests into your continuous integration pipeline</li><li><strong>Team Training</strong>: Educate both technical and non-technical team members on natural language test creation</li><li><strong>Best Practices</strong>: Develop organizational standards for test scenario descriptions and reporting formats</li></ol><h3 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h3><p>Playwright MCP with AI assistants represents more than just a technological advancement‚Äîit‚Äôs a fundamental reimagining of how we approach quality assurance. By bridging the gap between human intent and automated execution, this technology enables teams to focus on what matters most: delivering exceptional user experiences.</p><p>The democratization of automation testing through natural language interfaces will undoubtedly accelerate software quality improvements across the industry. As AI capabilities continue to evolve, we can expect even more sophisticated testing scenarios to become as simple as having a conversation with your AI assistant.</p><p>The future of testing is here, and it speaks your language.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Automation testing has evolved significantly with the introduction of AI-powered tools. Today, we can leverage the power of &lt;code&gt;Playwri</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="MCP" scheme="https://stonefishy.github.io/tags/MCP/"/>
    
    <category term="GitHub Copilot" scheme="https://stonefishy.github.io/tags/GitHub-Copilot/"/>
    
    <category term="Goose" scheme="https://stonefishy.github.io/tags/Goose/"/>
    
    <category term="Playwright" scheme="https://stonefishy.github.io/tags/Playwright/"/>
    
    <category term="Automation Testing" scheme="https://stonefishy.github.io/tags/Automation-Testing/"/>
    
  </entry>
  
  <entry>
    <title>Building a Jira Ticket Developer AI Agent with GitHub Copilot</title>
    <link href="https://stonefishy.github.io/2025/09/28/a-jira-ticket-developer-agent-base-on-github-copilot-custom-chat-mode/"/>
    <id>https://stonefishy.github.io/2025/09/28/a-jira-ticket-developer-agent-base-on-github-copilot-custom-chat-mode/</id>
    <published>2025-09-28T16:03:15.000Z</published>
    <updated>2025-11-19T06:45:19.103Z</updated>
    
    <content type="html"><![CDATA[<p>Have you ever dreamed of an AI assistant that can automatically create feature branches and implement code based on Jira ticket requirements? With the power of GitHub Copilot‚Äôs Custom Chat Modes, this dream becomes reality. In this blog, I‚Äôll show you how I built a specialized AI agent called ‚Äúonecloud-developer‚Äù that streamlines the entire development workflow from Jira ticket to code implementation.</p><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Modern software development often involves a repetitive workflow: reading Jira tickets, understanding requirements, creating feature branches, implementing code, and committing changes. This process, while necessary, can be time-consuming and prone to human error. With the advent of AI-powered development tools, we now have the opportunity to automate and streamline these workflows.</p><p>GitHub Copilot has evolved beyond simple code completion to offer sophisticated chat modes that can understand context, execute commands, and perform complex development tasks. By leveraging Custom Chat Modes, we can create specialized AI agents tailored to specific workflows and organizational needs.</p><p>The motivation behind creating the ‚Äúonecloud-developer‚Äù agent was to eliminate the manual overhead of:</p><ul><li>Switching between Jira and VS Code repeatedly</li><li>Creating properly named feature branches</li><li>Translating business requirements into technical implementation</li><li>Managing git operations and code commits</li><li>Ensuring consistent development practices across the team</li></ul><h2 id="Understanding-GitHub-Copilot-Custom-Chat-Modes"><a href="#Understanding-GitHub-Copilot-Custom-Chat-Modes" class="headerlink" title="Understanding GitHub Copilot Custom Chat Modes"></a>Understanding GitHub Copilot Custom Chat Modes</h2><p>GitHub Copilot‚Äôs Custom Chat Modes represent a significant advancement in AI-powered development assistance. Available as of VS Code release 1.101, these modes allow developers to create specialized AI agents tailored for specific tasks or workflows.</p><h3 id="Built-in-Chat-Modes"><a href="#Built-in-Chat-Modes" class="headerlink" title="Built-in Chat Modes"></a>Built-in Chat Modes</h3><p>VS Code comes with three built-in chat modes, each optimized for different use cases:</p><ul><li><strong>Ask Mode</strong>: Optimized for answering questions about your codebase, coding concepts, and general technology topics. Perfect for understanding how code works or exploring new technologies.</li><li><strong>Edit Mode</strong>: Designed for making code edits across multiple files in your project, with changes applied directly in the editor for in-place review.</li><li><strong>Agent Mode</strong>: Built for autonomous edits across multiple files, including running terminal commands and tools for less well-defined tasks.</li></ul><h3 id="Custom-Chat-Mode-Architecture"><a href="#Custom-Chat-Mode-Architecture" class="headerlink" title="Custom Chat Mode Architecture"></a>Custom Chat Mode Architecture</h3><p>Custom chat modes are defined using <code>.chatmode.md</code> Markdown files with a specific structure:</p><p><strong>YAML Frontmatter Header:</strong></p><ul><li><code>description</code>: Brief description displayed as placeholder text and hover tooltips</li><li><code>tools</code>: List of available tools and tool sets (built-in tools, MCP tools, or extension-contributed tools)</li><li><code>model</code>: Specific AI model to use (optional, defaults to current selection)</li></ul><p><strong>Markdown Body:</strong></p><ul><li>Detailed instructions and guidelines for the AI to follow</li><li>Can reference external instruction files using Markdown links</li><li>Provides context-specific prompts and workflows</li></ul><h3 id="Storage-and-Sharing-Options"><a href="#Storage-and-Sharing-Options" class="headerlink" title="Storage and Sharing Options"></a>Storage and Sharing Options</h3><p>Custom chat modes can be stored in two locations:</p><ol><li><strong>Workspace</strong>: Stored in <code>.github/chatmodes</code> folder, shareable with team members</li><li><strong>User Profile</strong>: Personal modes that sync across devices via Settings Sync</li></ol><p>This flexibility allows for both personal productivity enhancements and team-wide standardization of development practices.</p><h2 id="Introducing-the-‚Äúonecloud-developer‚Äù-Custom-Chat-Mode"><a href="#Introducing-the-‚Äúonecloud-developer‚Äù-Custom-Chat-Mode" class="headerlink" title="Introducing the ‚Äúonecloud-developer‚Äù Custom Chat Mode"></a>Introducing the ‚Äúonecloud-developer‚Äù Custom Chat Mode</h2><p>Building upon the foundation of GitHub Copilot‚Äôs Custom Chat Modes, I created the ‚Äúonecloud-developer‚Äù agent - a specialized AI assistant designed to handle the complete lifecycle of Jira ticket development. This agent combines multiple tools and follows a structured workflow to ensure consistent and efficient development practices.</p><h3 id="Key-Features-and-Capabilities"><a href="#Key-Features-and-Capabilities" class="headerlink" title="Key Features and Capabilities"></a>Key Features and Capabilities</h3><p>The ‚Äúonecloud-developer‚Äù agent is configured with the following tools:</p><ul><li><strong>edit</strong>: For making code modifications across multiple files</li><li><strong>runCommands</strong>: For executing git and terminal commands</li><li><strong>todos</strong>: For tracking and managing development tasks</li><li><strong>mcp-atlassian</strong>: For integration with Jira and Confluence systems</li></ul><h3 id="Workflow-Architecture"><a href="#Workflow-Architecture" class="headerlink" title="Workflow Architecture"></a>Workflow Architecture</h3><p>The agent follows a comprehensive 10-step workflow designed to handle every aspect of feature development:</p><h4 id="1-Environment-Preparation"><a href="#1-Environment-Preparation" class="headerlink" title="1. Environment Preparation"></a>1. Environment Preparation</h4><p>The agent begins by checking the current git status using <code>git status</code> to identify any uncommitted changes. If changes exist, it prompts the user for appropriate action (commit, stash, or discard) and executes the chosen operation to ensure a clean working environment.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-check-git-repo-status.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-check-git-repo-status.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI analyzing Jira ticket requirements" style="width:900px;"/></div><span class="image-caption">AI analyzing Jira ticket requirements</span></div><h4 id="2-Branch-Management"><a href="#2-Branch-Management" class="headerlink" title="2. Branch Management"></a>2. Branch Management</h4><p>The agent verifies that the current branch is <code>main</code> and switches if necessary, then pulls the latest changes using <code>git pull origin main</code> to ensure the local repository is synchronized with the remote.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-switch-to-main-branch.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-switch-to-main-branch.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI switching to main branch and pulling latest changes" style="width:900px;"/></div><span class="image-caption">AI switching to main branch and pulling latest changes</span></div><h4 id="3-Jira-Integration"><a href="#3-Jira-Integration" class="headerlink" title="3. Jira Integration"></a>3. Jira Integration</h4><p>Using the <code>mcp-atlassian</code> tool, the agent fetches comprehensive details about the specified Jira ticket, including title, description, acceptance criteria, and any additional context needed for implementation.</p><h4 id="4-Automated-Branch-Creation"><a href="#4-Automated-Branch-Creation" class="headerlink" title="4. Automated Branch Creation"></a>4. Automated Branch Creation</h4><p>Based on the Jira ticket information, the agent creates a properly named feature branch following the format <code>&#123;JIRA-KEY&#125;-&#123;short-description&#125;</code>. The short description is automatically generated from the ticket title, converted to lowercase, with words separated by hyphens and limited to 20 characters for consistency.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-create-feature-branch.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-create-feature-branch.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI creating feature branch based on Jira ticket" style="width:900px;"/></div><span class="image-caption">AI creating feature branch based on Jira ticket</span></div><h4 id="5-Implementation-Assistance"><a href="#5-Implementation-Assistance" class="headerlink" title="5. Implementation Assistance"></a>5. Implementation Assistance</h4><p>The agent analyzes the Jira ticket requirements and assists in implementing the necessary code changes using the <code>edit</code> tool. It can modify multiple files, create new components, and ensure the implementation aligns with the specified requirements.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-implement-code-1.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-implement-code-1.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI implementing code based on requirements 1" style="width:900px;"/></div><span class="image-caption">AI implementing code based on requirements 1</span></div><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-implement-code-2.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-implement-code-2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI implementing code based on requirements 2" style="width:900px;"/></div><span class="image-caption">AI implementing code based on requirements 2</span></div><h4 id="6-Task-Management"><a href="#6-Task-Management" class="headerlink" title="6. Task Management"></a>6. Task Management</h4><p>Throughout the development process, the agent uses the <code>todos</code> tool to maintain a structured task list, ensuring all requirements are addressed and providing visibility into the development progress.</p><h4 id="7-Code-Review-Process"><a href="#7-Code-Review-Process" class="headerlink" title="7. Code Review Process"></a>7. Code Review Process</h4><p>After implementation, the agent prompts the user to review all code changes, providing an opportunity for feedback and refinement before proceeding to the commit phase.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-review-code-changes-1.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-review-code-changes-1.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI prompting user to review code changes 1" style="width:900px;"/></div><span class="image-caption">AI prompting user to review code changes 1</span></div><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-review-code-changes-2.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-review-code-changes-2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI prompting user to review code changes 2" style="width:900px;"/></div><span class="image-caption">AI prompting user to review code changes 2</span></div><h4 id="8-Automated-Commit-Process"><a href="#8-Automated-Commit-Process" class="headerlink" title="8. Automated Commit Process"></a>8. Automated Commit Process</h4><p>Upon user approval, the agent creates a descriptive commit message following the format <code>&#123;JIRA-KEY&#125;: &#123;short-description&#125;</code> and commits all changes. The commit message is automatically generated based on the ticket title and implementation details, with the description limited to 30 characters for consistency.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-commit-changes.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-commit-changes.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI committing code changes with descriptive message" style="width:900px;"/></div><span class="image-caption">AI committing code changes with descriptive message</span></div><h4 id="9-Remote-Synchronization"><a href="#9-Remote-Synchronization" class="headerlink" title="9. Remote Synchronization"></a>9. Remote Synchronization</h4><p>The agent pushes the feature branch to the remote repository, making it available for pull request creation and team review.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-push-feature-branch.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-push-feature-branch.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI pushing feature branch to remote repository" style="width:900px;"/></div><span class="image-caption">AI pushing feature branch to remote repository</span></div><h4 id="10-Completion-Summary"><a href="#10-Completion-Summary" class="headerlink" title="10. Completion Summary"></a>10. Completion Summary</h4><p>Finally, the agent provides a comprehensive summary of all changes made and reminds the user to create a pull request on the appropriate platform (GitHub, GitLab, Bitbucket) to merge the feature branch into the main branch.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/developer-agent-completion-summary.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/developer-agent-completion-summary.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI providing completion summary and next steps" style="width:900px;"/></div><span class="image-caption">AI providing completion summary and next steps</span></div><h3 id="Configuration-Details"><a href="#Configuration-Details" class="headerlink" title="Configuration Details"></a>Configuration Details</h3><p>The agent‚Äôs configuration demonstrates the power and flexibility of Custom Chat Modes:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;The onecloud jira ticket development chat mode is designed to assist users to create branch, read jira ticket, and implement the code based on the jira ticket description.&#x27;</span></span><br><span class="line"><span class="attr">tools:</span> [<span class="string">&#x27;edit&#x27;</span>, <span class="string">&#x27;runCommands&#x27;</span>, <span class="string">&#x27;todos&#x27;</span>, <span class="string">&#x27;mcp-atlassian&#x27;</span>]</span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure><p>The detailed instructions ensure consistent behavior and provide clear guidelines for handling various scenarios, from conflict resolution to error handling.</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">You are in the onecloud jira ticket development chat mode. Your task is to assist users in reading Jira ticket requirements, creating feature branch and implementing code based on the Jira ticket descriptions on this feature branch.</span><br><span class="line"></span><br><span class="line">When a user provides a Jira ticket ID, you should define a plan and list your plans to user, and then execute the plan step by step:</span><br><span class="line"><span class="bullet">1.</span> You should using <span class="code">`git status`</span> to check current branch has changes files or not using the <span class="code">`runCommands`</span> tool. If there are changes, you should ask the user actions (commit, stash, discard) to handle these changes before starting new ticket. Base on user response, you should stash or discard these changes using the <span class="code">`runCommands`</span> tool, if the user wants to commit these changes, you should assist the user to commit these changes using the <span class="code">`edit`</span> tool and <span class="code">`runCommands`</span> tool, The commit message should be provided by the user.</span><br><span class="line"></span><br><span class="line"><span class="bullet">2.</span> Check current branch is on <span class="code">`main`</span> branch. If not, you should switch to <span class="code">`main`</span> branch using the <span class="code">`runCommands`</span> tool, and then pull the latest changes from the remote repository to ensure the local <span class="code">`main`</span> branch is up to date via <span class="code">`git pull origin main`</span> command.</span><br><span class="line"></span><br><span class="line"><span class="bullet">3.</span> Then fetch the Jira ticket details using the <span class="code">`mcp-atlassian`</span> tool.</span><br><span class="line"></span><br><span class="line"><span class="bullet">4.</span> Base on jira ticket title and description, you should create a new feature branch using the <span class="code">`runCommands`</span> tool. The branch name should follow the format <span class="code">`&#123;JIRA-KEY&#125;-&#123;short-description&#125;`</span>, where <span class="code">`&#123;JIRA-KEY&#125;`</span> is the Jira ticket ID and <span class="code">`&#123;short-description&#125;`</span> is a concise summary of the ticket title (e.g., for a ticket titled &quot;Implement user authentication&quot;, the branch name could be <span class="code">`JIRA-1234-user-authentication`</span>). the <span class="code">`&#123;short-description&#125;`</span> should be in lowercase and words should be separated by hyphens, and words lenght should be less than 20 characters.</span><br><span class="line"></span><br><span class="line"><span class="bullet">5.</span> After creating the branch, you should inform the user about the branch creation.</span><br><span class="line"></span><br><span class="line"><span class="bullet">6.</span> You should then assist the user in implementing the code based on the Jira ticket description.</span><br><span class="line"></span><br><span class="line"><span class="bullet">7.</span> You should use the <span class="code">`edit`</span> tool to modify the code files as needed.</span><br><span class="line"></span><br><span class="line"><span class="bullet">8.</span> You should use the <span class="code">`todos`</span> tool to keep track of tasks that need to be completed for the Jira ticket.</span><br><span class="line"></span><br><span class="line"><span class="bullet">8.</span> Ask the user to review the code changes and provide feedback. </span><br><span class="line"></span><br><span class="line"><span class="bullet">9.</span> If the user is satisfied with the changes, you should ask user to commit message or not. If the user response to commit the changes, you should assist the user in committing the changes using the <span class="code">`edit`</span> tool and <span class="code">`runCommands`</span> tool. The commit message should be based on the Jira ticket title and description. The commit message should be concise and descriptive, summarizing the changes made in the commit, the message format should be <span class="code">`&#123;JIRA-KEY&#125;: &#123;short-description&#125;`</span>, where <span class="code">`&#123;JIRA-KEY&#125;`</span> is the Jira ticket ID and <span class="code">`&#123;short-description&#125;`</span> is a concise summary of the changes made (e.g., for a ticket titled &quot;Implement user authentication&quot;, the commit message could be <span class="code">`JIRA-1234: implement user authentication`</span>). The <span class="code">`&#123;short-description&#125;`</span> should be in lowercase and words length should be less than 30 characters. After committing the changes, you should push the feature branch to the remote repository using the <span class="code">`runCommands`</span> tool.</span><br><span class="line"></span><br><span class="line"><span class="bullet">10.</span> Finally, you should inform the user that the implementation is complete and provide a summary of the changes made. You should also remind the user to create a pull request on the remote repository platform (e.g., GitHub, GitLab, Bitbucket) to merge the feature branch into the main branch based on the current git repository.</span><br></pre></td></tr></table></figure><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>The ‚Äúonecloud-developer‚Äù Custom Chat Mode represents a significant step forward in AI-assisted development workflows. By combining GitHub Copilot‚Äôs powerful AI capabilities with structured workflows and specialized tools, we can automate the entire process from Jira ticket analysis to code implementation and version control management.</p><h3 id="Key-Benefits-Achieved"><a href="#Key-Benefits-Achieved" class="headerlink" title="Key Benefits Achieved"></a>Key Benefits Achieved</h3><p><strong>Workflow Automation</strong>: The agent eliminates the manual overhead of switching between tools, creating branches, and managing git operations, allowing developers to focus on the actual implementation logic.</p><p><strong>Consistency and Standards</strong>: By enforcing naming conventions for branches and commit messages, the agent ensures consistency across the development team and maintains clean project history.</p><p><strong>Error Reduction</strong>: The structured workflow reduces the likelihood of common mistakes such as working on outdated branches, improper branch naming, or incomplete requirement implementation.</p><p><strong>Productivity Enhancement</strong>: Developers can process Jira tickets more efficiently, with the AI handling routine tasks while providing intelligent assistance for complex implementation decisions.</p><p><strong>Knowledge Transfer</strong>: The agent‚Äôs detailed workflow and consistent practices help standardize development processes across team members, making it easier for new developers to adopt best practices.</p><h3 id="Getting-Started"><a href="#Getting-Started" class="headerlink" title="Getting Started"></a>Getting Started</h3><p>To implement your own version of the ‚Äúonecloud-developer‚Äù agent:</p><ol><li>Ensure you have VS Code 1.101 or later with GitHub Copilot enabled</li><li>Set up the necessary MCP tools (such as mcp-atlassian) for your environment</li><li>Create a <code>.chatmode.md</code> file in your user profile or workspace</li><li>Customize the workflow steps and tool configurations to match your team‚Äôs practices</li><li>Test the agent with sample Jira tickets to refine the workflow</li></ol><p>The future of software development lies in intelligent automation that augments human creativity rather than replacing it. Custom Chat Modes like ‚Äúonecloud-developer‚Äù demonstrate how AI can handle routine tasks while empowering developers to focus on solving complex problems and delivering innovative solutions.</p><p>By embracing these technologies and creating tailored AI assistants, development teams can achieve higher productivity, better consistency, and more enjoyable development experiences. The ‚Äúonecloud-developer‚Äù agent is just the beginning - the possibilities for AI-assisted development workflows are limited only by our imagination and willingness to experiment with new approaches.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Have you ever dreamed of an AI assistant that can automatically create feature branches and implement code based on Jira ticket requireme</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="React" scheme="https://stonefishy.github.io/tags/React/"/>
    
    <category term="MCP" scheme="https://stonefishy.github.io/tags/MCP/"/>
    
    <category term="GitHub Copilot" scheme="https://stonefishy.github.io/tags/GitHub-Copilot/"/>
    
    <category term="AI Agents" scheme="https://stonefishy.github.io/tags/AI-Agents/"/>
    
    <category term="Typescript" scheme="https://stonefishy.github.io/tags/Typescript/"/>
    
    <category term="Javascript" scheme="https://stonefishy.github.io/tags/Javascript/"/>
    
  </entry>
  
  <entry>
    <title>Building an MCP Server for Automated Diagnosis Simulator Management</title>
    <link href="https://stonefishy.github.io/2025/09/25/building-an-mcp-server-for-automated-diagnosis-simulator-management/"/>
    <id>https://stonefishy.github.io/2025/09/25/building-an-mcp-server-for-automated-diagnosis-simulator-management/</id>
    <published>2025-09-25T11:30:06.000Z</published>
    <updated>2025-11-19T06:45:19.103Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Background-The-Challenge-of-Manual-Simulator-Management"><a href="#Background-The-Challenge-of-Manual-Simulator-Management" class="headerlink" title="Background: The Challenge of Manual Simulator Management"></a>Background: The Challenge of Manual Simulator Management</h2><p>In our development workflow, we rely heavily on a diagnosis simulator that mimics real device behavior by responding to device data requests through <code>MQTT</code>. This simulator is crucial for testing various scenarios without requiring actual hardware. The simulator operates in two separate environments:</p><ul><li><strong>Stage environment</strong>: Used for development and pre-production testing</li><li><strong>Production environment</strong>: Used for final testing and validation</li></ul><p>Both environments run as <code>Docker</code> containers on remote <code>AWS EC2</code> instances, providing isolated and consistent testing environments. However, managing these simulators manually has become a significant pain point for our team:</p><ul><li><strong>Manual container management</strong>: Starting, stopping, and restarting containers requires SSH access and Docker commands</li><li><strong>Configuration updates</strong>: Modifying simulator device data for different test scenarios involves editing JSON files and container restarts</li><li><strong>Team accessibility</strong>: Only team members with AWS access and Docker knowledge can manage the simulators</li><li><strong>Time-consuming processes</strong>: Each configuration change requires multiple manual steps</li></ul><p>To address these challenges, I decided to build a <code>Model Context Protocol (MCP)</code> server that would automate simulator management and make it accessible to all team members through familiar AI interfaces.</p><h2 id="What-is-MCP-Model-Context-Protocol"><a href="#What-is-MCP-Model-Context-Protocol" class="headerlink" title="What is MCP (Model Context Protocol)?"></a>What is MCP (Model Context Protocol)?</h2><p>The <code>Model Context Protocol (MCP)</code> is an open-source standard that enables AI assistants to securely connect to external data sources and tools. Think of it as a bridge between AI models and real-world applications, allowing AI assistants to interact with your systems in a controlled and secure manner.</p><h3 id="Key-Benefits-of-MCP"><a href="#Key-Benefits-of-MCP" class="headerlink" title="Key Benefits of MCP:"></a>Key Benefits of MCP:</h3><ol><li><strong>Standardized Integration</strong>: MCP provides a uniform way for AI models to access external tools and data</li><li><strong>Security</strong>: All interactions are controlled and auditable</li><li><strong>Extensibility</strong>: Easy to add new tools and capabilities</li><li><strong>Multi-client Support</strong>: Works with various AI clients like Claude Desktop, GitHub Copilot, and Goose</li><li><strong>Developer Friendly</strong>: Simple SDK for building custom servers</li></ol><h3 id="MCP-Architecture"><a href="#MCP-Architecture" class="headerlink" title="MCP Architecture:"></a>MCP Architecture:</h3><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-arch.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-arch.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Brief MCP Architecture"/></div><span class="image-caption">Brief MCP Architecture</span></div><p>The common architecture involves an AI client (like Claude or Copilot) communicating with an MCP server that exposes specific tools. The MCP server, in turn, interacts with external systems such as Docker containers or databases. Below is common architecture screenshot:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/mcp-architecture.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/mcp-architecture.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Common MCP Architecture"/></div><span class="image-caption">Common MCP Architecture</span></div><p>There is a growing ecosystem of AI clients that support MCP, allowing users to leverage their preferred tools while interacting with custom MCP servers. Examples include:</p><ul><li><strong>Claude Desktop</strong>: A popular AI assistant that can connect to MCP servers for enhanced capabilities</li><li><strong>GitHub Copilot</strong>: Integrated into Visual Studio Code, enabling developers to use MCP tools directly from their IDE</li><li><strong>Goose</strong>: A open source lightweight AI assistant that can also connect to MCP servers for various tasks</li></ul><p>The MCP server acts as a middleware layer, exposing specific tools that AI clients can use to interact with your systems safely and efficiently.</p><h2 id="Building-Our-Diagnosis-Simulator-MCP-Server"><a href="#Building-Our-Diagnosis-Simulator-MCP-Server" class="headerlink" title="Building Our Diagnosis Simulator MCP Server"></a>Building Our Diagnosis Simulator MCP Server</h2><h3 id="Project-Structure-and-Setup"><a href="#Project-Structure-and-Setup" class="headerlink" title="Project Structure and Setup"></a>Project Structure and Setup</h3><p>Our MCP server is built using the <code>FastMCP</code> framework, which simplifies the process of creating MCP-compliant servers in Python. Here‚Äôs our project structure:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">diagnosis-simulator-mcp/</span><br><span class="line">‚îú‚îÄ‚îÄ server.py              # Main MCP server implementation</span><br><span class="line">‚îú‚îÄ‚îÄ pyproject.toml         # Project dependencies</span><br><span class="line">‚îú‚îÄ‚îÄ uv.lock               # Dependency lock file</span><br><span class="line">‚îú‚îÄ‚îÄ run_server.bat        # Windows startup script</span><br><span class="line">‚îú‚îÄ‚îÄ run_server.sh         # Linux/macOS startup script</span><br><span class="line">‚îî‚îÄ‚îÄ README.md             # Documentation</span><br></pre></td></tr></table></figure><h3 id="Dependencies-and-Configuration"><a href="#Dependencies-and-Configuration" class="headerlink" title="Dependencies and Configuration"></a>Dependencies and Configuration</h3><p>First, I define our project dependencies in <code>pyproject.toml</code>:</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[project]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;diagnosis-simulator-mcp&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;MCP server for managing diagnosis simulators&quot;</span></span><br><span class="line"><span class="attr">readme</span> = <span class="string">&quot;README.md&quot;</span></span><br><span class="line"><span class="attr">requires-python</span> = <span class="string">&quot;&gt;=3.10&quot;</span></span><br><span class="line"><span class="attr">dependencies</span> = [</span><br><span class="line">    <span class="string">&quot;mcp[cli]&gt;=1.14.1&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>The MCP Python SDK provides everything we need to build a robust server with minimal boilerplate code.</p><h3 id="Core-Server-Implementation"><a href="#Core-Server-Implementation" class="headerlink" title="Core Server Implementation"></a>Core Server Implementation</h3><p>Let‚Äôs break down our server implementation:</p><h4 id="1-Server-Initialization-and-Configuration"><a href="#1-Server-Initialization-and-Configuration" class="headerlink" title="1. Server Initialization and Configuration"></a>1. Server Initialization and Configuration</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> argparse</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="keyword">from</span> mcp.server.fastmcp <span class="keyword">import</span> FastMCP</span><br><span class="line"></span><br><span class="line"><span class="comment"># Parse command-line arguments for container names and config paths</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">parse_args</span>():</span><br><span class="line">    parser = argparse.ArgumentParser(description=<span class="string">&quot;Diagnosis Simulator MCP Server&quot;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--stage-container&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;Docker container name for stage&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--prod-container&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;Docker container name for prod&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--stage-config&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;Path to stage config JSON&#x27;</span>)</span><br><span class="line">    parser.add_argument(<span class="string">&#x27;--prod-config&#x27;</span>, required=<span class="literal">True</span>, <span class="built_in">help</span>=<span class="string">&#x27;Path to prod config JSON&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> parser.parse_args()</span><br><span class="line"></span><br><span class="line">args = parse_args()</span><br><span class="line">STAGE_CONTAINER = args.stage_container</span><br><span class="line">PROD_CONTAINER = args.prod_container</span><br><span class="line">STAGE_CONFIG_PATH = args.stage_config</span><br><span class="line">PROD_CONFIG_PATH = args.prod_config</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialize the MCP server</span></span><br><span class="line">mcp = FastMCP(name=<span class="string">&quot;diagnosis-simulator-mcp&quot;</span>, host=<span class="string">&quot;0.0.0.0&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="2-Docker-Container-Management"><a href="#2-Docker-Container-Management" class="headerlink" title="2. Docker Container Management"></a>2. Docker Container Management</h4><p>We created utility functions to manage Docker containers:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">restart_container</span>(<span class="params">env: <span class="built_in">str</span></span>):</span><br><span class="line">    container = STAGE_CONTAINER <span class="keyword">if</span> env == <span class="string">&#x27;stage&#x27;</span> <span class="keyword">else</span> PROD_CONTAINER</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        subprocess.run([<span class="string">&quot;docker&quot;</span>, <span class="string">&quot;restart&quot;</span>, container], check=<span class="literal">True</span>, capture_output=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Restarted <span class="subst">&#123;env&#125;</span> container: <span class="subst">&#123;container&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Failed to restart <span class="subst">&#123;env&#125;</span> container: <span class="subst">&#123;e.stderr.decode().strip()&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">stop_container</span>(<span class="params">env: <span class="built_in">str</span></span>):</span><br><span class="line">    container = STAGE_CONTAINER <span class="keyword">if</span> env == <span class="string">&#x27;stage&#x27;</span> <span class="keyword">else</span> PROD_CONTAINER</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        subprocess.run([<span class="string">&quot;docker&quot;</span>, <span class="string">&quot;stop&quot;</span>, container], check=<span class="literal">True</span>, capture_output=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Stopped <span class="subst">&#123;env&#125;</span> container: <span class="subst">&#123;container&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">f&quot;Failed to stop <span class="subst">&#123;env&#125;</span> container: <span class="subst">&#123;e.stderr.decode().strip()&#125;</span>&quot;</span></span><br></pre></td></tr></table></figure><h4 id="3-Configuration-Management"><a href="#3-Configuration-Management" class="headerlink" title="3. Configuration Management"></a>3. Configuration Management</h4><p>Our simulator uses complex JSON configuration files. We implemented functions to read, update, and manage these configurations:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">read_config_json</span>(<span class="params">env: <span class="built_in">str</span></span>) -&gt; <span class="type">Any</span>:</span><br><span class="line">    config_path = get_config_path(env)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(config_path, <span class="string">&#x27;r&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">return</span> json.load(f)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_config_json</span>(<span class="params">env: <span class="built_in">str</span>, data: <span class="type">Any</span></span>):</span><br><span class="line">    config_path = get_config_path(env)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(config_path, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        json.dump(data, f, indent=<span class="number">2</span>)</span><br></pre></td></tr></table></figure><h4 id="4-MCP-Tools-Definition"><a href="#4-MCP-Tools-Definition" class="headerlink" title="4. MCP Tools Definition"></a>4. MCP Tools Definition</h4><p>The heart of our MCP server is the tool definitions. Each tool is exposed to AI clients as a callable function:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">start_simulator</span>(<span class="params">env: <span class="built_in">str</span> = <span class="string">&#x27;stage&#x27;</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Start the diagnosis simulator device based on environment (default: stage).&quot;&quot;&quot;</span></span><br><span class="line">    msg = restart_container(env)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;result&quot;</span>: msg&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">stop_simulator</span>(<span class="params">env: <span class="built_in">str</span> = <span class="string">&#x27;stage&#x27;</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Stop the diagnosis simulator device based on environment (default: stage).&quot;&quot;&quot;</span></span><br><span class="line">    msg = stop_container(env)</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;result&quot;</span>: msg&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read_simulator_data</span>(<span class="params">env: <span class="built_in">str</span> = <span class="string">&#x27;stage&#x27;</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Read and return the diagnosis simulator data for the specified environment.&quot;&quot;&quot;</span></span><br><span class="line">    data = read_config_json(env)</span><br><span class="line">    <span class="keyword">return</span> data</span><br><span class="line"></span><br><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">reset_simulator_data</span>(<span class="params">env: <span class="built_in">str</span> = <span class="string">&#x27;stage&#x27;</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;Reset the config file for the specified environment from the corresponding &#x27;-reset&#x27; file if it exists.&quot;&quot;&quot;</span></span><br><span class="line">    config_path = get_config_path(env)</span><br><span class="line">    reset_path = reset_file_path(env)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(reset_path):</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;error&quot;</span>: <span class="string">f&quot;Reset file does not exist: <span class="subst">&#123;reset_path&#125;</span>&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        shutil.copyfile(reset_path, config_path)</span><br><span class="line">        msg = restart_container(env)</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;result&quot;</span>: <span class="string">f&quot;Config for <span class="subst">&#123;env&#125;</span> reset from <span class="subst">&#123;reset_path&#125;</span> and container restarted. <span class="subst">&#123;msg&#125;</span>&quot;</span>&#125;</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="keyword">return</span> &#123;<span class="string">&quot;error&quot;</span>: <span class="built_in">str</span>(e)&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@mcp.tool()</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">update_simulator_data</span>(<span class="params">key: <span class="built_in">str</span>, value: <span class="type">Any</span>, env: <span class="built_in">str</span> = <span class="string">&#x27;stage&#x27;</span></span>) -&gt; <span class="built_in">dict</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    Update a value in the config JSON for the specified environment (key must exist), validate, and restart simulator.</span></span><br><span class="line"><span class="string">    If the reset file does not exist, copy the current config to create it before updating.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    Supports:</span></span><br><span class="line"><span class="string">    - Updating nested dict values (e.g., device_info.result.device_info.fwVersion)</span></span><br><span class="line"><span class="string">    - Updating values in a list of dicts by &#x27;key&#x27; (e.g., diagnosis-wifi.result.diagnosis-wifi.SSID)</span></span><br><span class="line"><span class="string">    - Directly replacing lists (e.g., command_list.result.command_list)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    # --- Hardcoded JSON schema and example for context ---</span></span><br><span class="line"><span class="string">    # The config is a nested JSON with keys like:</span></span><br><span class="line"><span class="string">    # &#123;</span></span><br><span class="line"><span class="string">    #   &quot;device_info&quot;: &#123;&quot;result&quot;: &#123;&quot;device_info&quot;: &#123;&quot;fwVersion&quot;: &quot;11.11.11.11.11&quot;, ...&#125;&#125;&#125;,</span></span><br><span class="line"><span class="string">    #   &quot;diagnosis-wifi&quot;: &#123;&quot;result&quot;: &#123;&quot;diagnosis-wifi&quot;: [&#123;&quot;key&quot;: &quot;Wi-Fi&quot;, &quot;value&quot;: &quot;Connected&quot;&#125;, ...]&#125;&#125;,</span></span><br><span class="line"><span class="string">    #   &quot;command_list&quot;: &#123;&quot;result&quot;: &#123;&quot;command_list&quot;: [&quot;play&quot;, &quot;pause&quot;, &quot;next&quot;, ...]&#125;&#125;,</span></span><br><span class="line"><span class="string">    #   ...</span></span><br><span class="line"><span class="string">    # &#125;</span></span><br><span class="line"><span class="string">    # Example update paths:</span></span><br><span class="line"><span class="string">    #   key = &quot;device_info.result.device_info.fwVersion&quot;, value = &quot;22.22.22.22.22&quot;</span></span><br><span class="line"><span class="string">    #   key = &quot;diagnosis-wifi.result.diagnosis-wifi.SSID&quot;, value = &quot;NEWSSID&quot;</span></span><br><span class="line"><span class="string">    #   key = &quot;command_list.result.command_list&quot;, value = [&quot;newcmd1&quot;, &quot;newcmd2&quot;]</span></span><br><span class="line"><span class="string">    # For lists, the last key is matched to the &#x27;key&#x27; field in the list of dicts.</span></span><br><span class="line"><span class="string">    # If the target is a list and the value is a list, the list is replaced directly.</span></span><br><span class="line"><span class="string">    # See full schema in documentation or above for more details.</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    <span class="comment"># Implementation handles nested JSON updates and automatic container restart</span></span><br><span class="line">    <span class="comment"># ... (detailed implementation in the full code)</span></span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure><p>The <code>FASTMCP</code> framework automatically generates the necessary MCP metadata for these tools, making them discoverable by AI clients. It is also supportss custom routes for additional endpoints: for example, a health check endpoint. If you want to add a health check endpoint, you can do it like below:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Health check endpoint, in case needed for monitoring</span></span><br><span class="line"><span class="meta">@mcp.custom_route(<span class="params"><span class="string">&quot;/health&quot;</span>, methods=[<span class="string">&quot;GET&quot;</span>]</span>)</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">def</span> <span class="title function_">health_check</span>(<span class="params">request: Request</span>):</span><br><span class="line">    <span class="keyword">return</span> JSONResponse(&#123;<span class="string">&quot;status&quot;</span>: <span class="string">&quot;ok&quot;</span>&#125;)</span><br></pre></td></tr></table></figure><h4 id="5-Advanced-Configuration-Updates"><a href="#5-Advanced-Configuration-Updates" class="headerlink" title="5. Advanced Configuration Updates"></a>5. Advanced Configuration Updates</h4><p>One of the most complex features is the ability to update nested JSON configurations. Our simulator config has a structure like:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;device_info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;result&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;device_info&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;fwVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;11.11.11.11.11&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;hwVersion&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1.0.0&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;diagnosis-wifi&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;result&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;diagnosis-wifi&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Wi-Fi&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Connected&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span><span class="attr">&quot;key&quot;</span><span class="punctuation">:</span> <span class="string">&quot;SSID&quot;</span><span class="punctuation">,</span> <span class="attr">&quot;value&quot;</span><span class="punctuation">:</span> <span class="string">&quot;TestNetwork&quot;</span><span class="punctuation">&#125;</span></span><br><span class="line">      <span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;command_list&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;result&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;command_list&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;play&quot;</span><span class="punctuation">,</span> <span class="string">&quot;pause&quot;</span><span class="punctuation">,</span> <span class="string">&quot;next&quot;</span><span class="punctuation">]</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Our <code>update_simulator_data</code> tool supports:</p><ul><li><strong>Nested updates</strong>: <code>device_info.result.device_info.fwVersion</code></li><li><strong>List item updates</strong>: <code>diagnosis-wifi.result.diagnosis-wifi.SSID</code></li><li><strong>List replacement</strong>: <code>command_list.result.command_list</code></li></ul><h3 id="Running-the-Server"><a href="#Running-the-Server" class="headerlink" title="Running the Server"></a>Running the Server</h3><p>The server can be started with configuration parameters:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">uv run python server.py \</span><br><span class="line">  --stage-container my-stage-simulator \</span><br><span class="line">  --prod-container my-prod-simulator \</span><br><span class="line">  --stage-config /path/to/stage-config.json \</span><br><span class="line">  --prod-config /path/to/prod-config.json</span><br></pre></td></tr></table></figure><p>Or using environment variables with provided scripts:</p><ul><li><code>run_server.bat</code> for Windows</li><li><code>run_server.sh</code> for Linux&#x2F;macOS</li></ul><h2 id="Demo-Using-the-MCP-Server"><a href="#Demo-Using-the-MCP-Server" class="headerlink" title="Demo: Using the MCP Server"></a>Demo: Using the MCP Server</h2><p>Our MCP server works with multiple AI clients. Here are examples of how it can be used:</p><h3 id="Visual-Studio-Code-with-GitHub-Copilot"><a href="#Visual-Studio-Code-with-GitHub-Copilot" class="headerlink" title="Visual Studio Code with GitHub Copilot"></a>Visual Studio Code with GitHub Copilot</h3><p>Let‚Äôs host this MCP server at the remote AWS EC2 instance which the simulator containers are running. The MCP server is accessible over the internet with proper security measures in place. The address like: <a href="http://remote-server-address:8000/mcp">http://remote-server-address:8000/mcp</a>.</p><p>In Visual Studio Code, we can leverage GitHub Copilot to interact with our MCP server. To config this remote MCP server in Copilot, you can add the following to your <code>mcp.json</code>:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;diagnosis-simulator&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;url&quot;</span><span class="punctuation">:</span> <span class="string">&quot;http://remote-server-address:8000/mcp&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Once connected to GitHub Copilot, you can see the available MCP tools and their descriptions.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-copilot.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-copilot.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Diagnosis Simulator MCP Tools"/></div><span class="image-caption">Diagnosis Simulator MCP Tools</span></div><p>Now you can use natural language to interact with your simulators:</p><p><strong>Example interactions:</strong></p><ul><li>‚ÄúStart the stage diagnosis simulator‚Äù</li><li>‚ÄúUpdate the firmware version in production environment to 22.22.22.22.22‚Äù</li><li>‚ÄúChange the Network WiFi status in stage environment to ‚ÄòDisconnected‚Äô‚Äù</li><li>‚ÄúStop the production simulator‚Äù</li><li>‚ÄúRead the current configuration for stage environment‚Äù</li><li>‚ÄúReset the prod simulator configuration to default‚Äù</li></ul><p>You can see below screenshots of how the interaction looks in GitHub Copilot and Goose clients. The AI client translates your natural language requests into precise MCP tool calls, executes them, and returns the results.</p><p><strong>Github Copilot Screenshots:</strong></p><p><strong>Screenshot 1: Start Simulator</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ü§ñ GitHub Copilot  </span><br><span class="line">User: Start the stage diagnosis simulator</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-start.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-start.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Start Simulator"/></div><span class="image-caption">Start Simulator</span></div><p><strong>Screenshot 2: Update Simulator Device Firmware</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ü§ñ GitHub Copilot  </span><br><span class="line">User: Update the firmware version to 22.22.22.22.22 in the stage environment</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-update.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-update.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Update Simulator Device Firmware"/></div><span class="image-caption">Update Simulator Device Firmware</span></div><h3 id="Goose-Client-Integration"><a href="#Goose-Client-Integration" class="headerlink" title="Goose Client Integration"></a>Goose Client Integration</h3><p><code>Goose</code> is another open source AI client that can connect to MCP servers and automates engineering taks. We can create a custom extension in Goose to connect to our diagnosis simulator MCP server.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-goose.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-goose.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Diagnosis Simulator MCP on Goose client"/></div><span class="image-caption">Diagnosis Simulator MCP on Goose client</span></div><p><strong>Goose Screenshots:</strong></p><p><strong>Screenshot 1: Update Simulator WiFi Status</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ü™ø Goose</span><br><span class="line">User: I need to test a scenario with WiFi disconnected. Can you update the Network WiFi status to &quot;Disconnected&quot; in the stage environment?</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-update2.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-update2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Update Simulator WiFi Status"/></div><span class="image-caption">Update Simulator WiFi Status</span></div><p><strong>Screenshot 2: Stop Simulator</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ü™ø Goose</span><br><span class="line">User: Stop the production simulator</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-stop.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-stop.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Stop Simulator"/></div><span class="image-caption">Stop Simulator</span></div><p><strong>Screenshot 3: Read Simulator Configuration</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ü™ø Goose</span><br><span class="line">User: Read the current configuration for stage environment</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-read.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-read.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Read Simulator Configuration"/></div><span class="image-caption">Read Simulator Configuration</span></div><p><strong>Screenshot 4: Reset Simulator Configuration</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ü™ø Goose</span><br><span class="line">User: Reset the prod simulator configuration to default</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-reset.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/diagnosis-simulator-mcp-demo-reset.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Reset Simulator Configuration"/></div><span class="image-caption">Reset Simulator Configuration</span></div><p>We tested the MCP server 6 tools with both <code>GitHub Copilot</code> and <code>Goose</code> clients. The interactions were smooth, and the AI clients successfully translated natural language requests into MCP tool calls, allowing us to manage our diagnosis simulators without needing direct Docker or AWS access.</p><h3 id="Key-Features-Demonstrated"><a href="#Key-Features-Demonstrated" class="headerlink" title="Key Features Demonstrated:"></a>Key Features Demonstrated:</h3><ol><li><strong>Natural Language Interface</strong>: Team members can use everyday language instead of Docker commands</li><li><strong>Environment Safety</strong>: Clear separation between stage and prod environments</li><li><strong>Automatic Validation</strong>: Configuration updates are validated before application</li><li><strong>Immediate Feedback</strong>: Real-time status updates and error messages</li><li><strong>No Technical Expertise Required</strong>: Anyone can manage simulators through AI chat</li></ol><h2 id="Benefits-and-Impact"><a href="#Benefits-and-Impact" class="headerlink" title="Benefits and Impact"></a>Benefits and Impact</h2><p>Since implementing our MCP server, we‚Äôve seen significant improvements in our development workflow:</p><h3 id="Time-Savings"><a href="#Time-Savings" class="headerlink" title="Time Savings"></a>Time Savings</h3><ul><li><strong>Before</strong>: 5-10 minutes per configuration change (SSH + Docker commands + manual file editing)</li><li><strong>After</strong>: 30 seconds via natural language AI interaction</li><li><strong>Daily impact</strong>: Saves 2-3 hours per developer per day</li></ul><h3 id="Team-Accessibility"><a href="#Team-Accessibility" class="headerlink" title="Team Accessibility"></a>Team Accessibility</h3><ul><li><strong>Before</strong>: Only 3 team members could manage simulators</li><li><strong>After</strong>: All 12 team members can manage simulators</li><li><strong>Result</strong>: Reduced bottlenecks and improved testing velocity</li></ul><h3 id="Error-Reduction"><a href="#Error-Reduction" class="headerlink" title="Error Reduction"></a>Error Reduction</h3><ul><li><strong>Automated validation</strong>: Prevents invalid configurations</li><li><strong>Environment safety</strong>: Clear separation prevents prod accidents</li></ul><h3 id="Developer-Experience"><a href="#Developer-Experience" class="headerlink" title="Developer Experience"></a>Developer Experience</h3><ul><li><strong>Natural language</strong>: No need to remember Docker commands or JSON paths</li><li><strong>Multi-client support</strong>: Works with preferred AI tools</li><li><strong>Self-documenting</strong>: Tool descriptions provide built-in help</li></ul><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Building an MCP server for our diagnosis simulator management has transformed how our team approaches testing and development. What started as a solution to eliminate manual Docker container management has evolved into a powerful automation platform that makes complex infrastructure accessible through simple AI conversations.</p><h3 id="Key-Takeaways"><a href="#Key-Takeaways" class="headerlink" title="Key Takeaways:"></a>Key Takeaways:</h3><ol><li><strong>MCP Simplifies Integration</strong>: The protocol provides a standardized way to connect AI assistants to real-world systems</li><li><strong>FastMCP Reduces Complexity</strong>: The Python SDK makes building MCP servers straightforward</li><li><strong>Natural Language APIs</strong>: AI clients can translate human intent into precise tool calls</li><li><strong>Team Empowerment</strong>: Complex technical operations become accessible to non-technical team members</li><li><strong>Scalable Architecture</strong>: Easy to extend with new tools and capabilities</li></ol><h3 id="Future-Enhancements"><a href="#Future-Enhancements" class="headerlink" title="Future Enhancements:"></a>Future Enhancements:</h3><ul><li><strong>Monitoring Integration</strong>: Add health checks and performance metrics</li><li><strong>Advanced Scheduling</strong>: Support for automated test scenarios</li><li><strong>Multi-Environment Support</strong>: Extend beyond stage&#x2F;prod to support feature branches</li><li><strong>Integration Testing</strong>: Automated test execution after configuration changes</li></ul><p>The combination of MCP‚Äôs standardized protocol and AI‚Äôs natural language interface creates a powerful paradigm for infrastructure management. By wrapping our technical operations in MCP tools, we‚Äôve made our development infrastructure more accessible, reliable, and efficient.</p><p>Whether you‚Äôre managing Docker containers, cloud resources, or any other technical systems, consider building an MCP server to bridge the gap between AI assistance and your operational needs. The investment in building these tools pays dividends in team productivity and system reliability.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Background-The-Challenge-of-Manual-Simulator-Management&quot;&gt;&lt;a href=&quot;#Background-The-Challenge-of-Manual-Simulator-Management&quot; class=&quot;h</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="Docker" scheme="https://stonefishy.github.io/tags/Docker/"/>
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Python" scheme="https://stonefishy.github.io/tags/Python/"/>
    
    <category term="Cloud" scheme="https://stonefishy.github.io/tags/Cloud/"/>
    
    <category term="AWS" scheme="https://stonefishy.github.io/tags/AWS/"/>
    
    <category term="MCP" scheme="https://stonefishy.github.io/tags/MCP/"/>
    
    <category term="Github Copilot" scheme="https://stonefishy.github.io/tags/Github-Copilot/"/>
    
    <category term="Goose" scheme="https://stonefishy.github.io/tags/Goose/"/>
    
  </entry>
  
  <entry>
    <title>Leverage AI Tools to write code base on Jira ticket requirements.</title>
    <link href="https://stonefishy.github.io/2025/09/12/auto-coding-by-follow-jira-ticket-requirements/"/>
    <id>https://stonefishy.github.io/2025/09/12/auto-coding-by-follow-jira-ticket-requirements/</id>
    <published>2025-09-12T16:03:15.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>Have you ever imagined if AI can help you write code based on Jira ticket requirements? The AI technology is advancing rapidly, and there are now tools available that can assist developers in generating code snippets, functions, or even entire modules by interpreting the requirements specified in Jira tickets.</p><p>In this blog, we will explore how to leverage AI tools to automatically generate code by following the specifications outlined in Jira tickets.</p><h2 id="Set-up-Atlassian-MCP"><a href="#Set-up-Atlassian-MCP" class="headerlink" title="Set up Atlassian MCP"></a>Set up Atlassian MCP</h2><p>To get started, we need a <code>MCP</code> (Model Context Protocol) tool to interact with Jira. Fortunately, there is an open-source <code>mcp-atlassian</code> project available on GitHub that provides the necessary functionality to interact with Jira and extract ticket information. The github project link is <a href="https://github.com/sooperset/mcp-atlassian">https://github.com/sooperset/mcp-atlassian</a>. It supports <code>Cloud</code> and <code>Data Center</code> and <code>Server</code> versions of Jira.</p><p>My company JIRA server is <code>Data Center</code> version, so I follow the <code>Data Center</code> setup instructions to set up the MCP server. </p><p>First, you need to create your personal tokens for jira and confluence. And make sure you already installed <code>docker</code> on your local environment. Open the universal editor <code>Visual Studio Code</code>, add the <code>mcp-atlassian</code> mcp server configuration in <code>mcp.json</code> file. like below:</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;mcpServers&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;mcp-atlassian&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;command&quot;</span><span class="punctuation">:</span> <span class="string">&quot;docker&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;args&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">&quot;run&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;--rm&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-i&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-e&quot;</span><span class="punctuation">,</span> <span class="string">&quot;CONFLUENCE_URL&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-e&quot;</span><span class="punctuation">,</span> <span class="string">&quot;CONFLUENCE_PERSONAL_TOKEN&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-e&quot;</span><span class="punctuation">,</span> <span class="string">&quot;CONFLUENCE_SSL_VERIFY&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-e&quot;</span><span class="punctuation">,</span> <span class="string">&quot;JIRA_URL&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-e&quot;</span><span class="punctuation">,</span> <span class="string">&quot;JIRA_PERSONAL_TOKEN&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;-e&quot;</span><span class="punctuation">,</span> <span class="string">&quot;JIRA_SSL_VERIFY&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">&quot;ghcr.io/sooperset/mcp-atlassian:latest&quot;</span></span><br><span class="line">      <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">      <span class="attr">&quot;env&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">        <span class="attr">&quot;CONFLUENCE_URL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://confluence.your-company.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;CONFLUENCE_PERSONAL_TOKEN&quot;</span><span class="punctuation">:</span> <span class="string">&quot;your_confluence_pat&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;CONFLUENCE_SSL_VERIFY&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;JIRA_URL&quot;</span><span class="punctuation">:</span> <span class="string">&quot;https://jira.your-company.com&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;JIRA_PERSONAL_TOKEN&quot;</span><span class="punctuation">:</span> <span class="string">&quot;your_jira_pat&quot;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="attr">&quot;JIRA_SSL_VERIFY&quot;</span><span class="punctuation">:</span> <span class="string">&quot;false&quot;</span></span><br><span class="line">      <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>Please update above environment variables with your own values. Below is my configuration.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/atlassian-mcp.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/atlassian-mcp.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Atlassian MCP Configuration" style="width:600px;"/></div><span class="image-caption">Atlassian MCP Configuration</span></div><p> If you don‚Äôt want the confluence integration, you can remove the related environment variables.</p><h2 id="Let‚Äôs-play-with-it"><a href="#Let‚Äôs-play-with-it" class="headerlink" title="Let‚Äôs play with it"></a>Let‚Äôs play with it</h2><p>Once done, Open the <code>Github Copilot</code> panel in <code>Visual Studio Code</code>. Let‚Äôs ask AI to return us the requirements of a Jira ticket. Below is an example of a Jira ticket.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/atlassian-jira-example.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/atlassian-jira-example.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Jira ticket Example" style="width:900px;"/></div><span class="image-caption">Jira ticket Example</span></div>.<p>Let‚Äôs ask AI to return the requirements of this ticket. Below is the prompt I used.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">what&#x27;s the description of the jira ticket HOP-35704</span><br></pre></td></tr></table></figure><p>And below is the result returned by AI.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/atlassian-jira-ai-response.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/atlassian-jira-ai-response.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI return Jira requirements" style="width:900px;"/></div><span class="image-caption">AI return Jira requirements</span></div><p>From above screenshot, we can see AI can return the ticket description correctly via the tool <code>jira_get_issue</code> of the <code>mcp-atlassian</code> mcp server.</p><p>We can also ask AI to write code based on the ticket requirements. Let‚Äôs keep using the same ticket as an example. </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update the code base on jira ticket HOP-35704</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/atlassian-jira-ai-code-1.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/atlassian-jira-ai-code-1.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" style="width:900px;"/></div></div><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/atlassian-jira-ai-code-2.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/atlassian-jira-ai-code-2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AI Coding base on JIRA requirements" style="width:900px;"/></div><span class="image-caption">AI Coding base on JIRA requirements</span></div><p>From the screenshot, we can see the AI can understand the ticket requirements and search the related code file in the project and updat the code. In above screenshot, since I already use AI to update the code and commit it. So you can see the AI is checking each requirements carefully and make sure the code is updated correctly.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Leveraging AI tools to write code based on Jira ticket requirements can significantly enhance productivity and streamline the development process. By integrating tools like <code>mcp-atlassian</code> with AI models, developers can automate the generation of code snippets and functions, allowing them to focus on more complex tasks. This approach not only saves time but also reduces the chances of human error, leading to more efficient and reliable software development.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Have you ever imagined if AI can help you write code based on Jira ticket requirements? The AI technology is advancing rapidly, and there</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="MCP" scheme="https://stonefishy.github.io/tags/MCP/"/>
    
    <category term="Github Copilot" scheme="https://stonefishy.github.io/tags/Github-Copilot/"/>
    
  </entry>
  
  <entry>
    <title>Flask return http status 413 content too large.</title>
    <link href="https://stonefishy.github.io/2025/09/03/flask-return-http-status-413-content-too-large/"/>
    <id>https://stonefishy.github.io/2025/09/03/flask-return-http-status-413-content-too-large/</id>
    <published>2025-09-03T09:50:17.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p>Recently, we‚Äôre resolving the blackduck scan security issue, and we never upgrade any flask package version or any code changes. Besides the application works well before. But after this changes, we start to receive http status 413 (content too large) error. It‚Äôs very wired. Below is the error:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/flask-413-code.png" class="lazyload placeholder" data-srcset="/assets/images/python/flask-413-code.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Flask 413 Content too large Error" style="width:600px;"/></div><span class="image-caption">Flask 413 Content too large Error</span></div><p>In AWS CloudWatch logs, the error message is the same.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/flask-413-cloudwatch.png" class="lazyload placeholder" data-srcset="/assets/images/python/flask-413-cloudwatch.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Flask 413 Error in AWS CloudWatch" style="width:900px;"/></div><span class="image-caption">Flask 413 Error in AWS CloudWatch</span></div><h2 id="Root-Cause"><a href="#Root-Cause" class="headerlink" title="Root Cause"></a>Root Cause</h2><p>After some investigation, we found the root cause is the <code>werkzeug</code> package version upgrade. The <code>Flask</code> package depends on <code>werkzeug</code>, and the new version introduced stricter request size limits, resulting in the 413 error.</p><p>The <code>werkzeug</code> package set the default <code>max_form_memory_size</code> to 500kb instead of unlimited from 3.1.0 which published on 2024-11-1. And our application last build and deployment time is before this change. Below is <code>werkzeug</code> package source code mentioned.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/flask-werkzeug-code.png" class="lazyload placeholder" data-srcset="/assets/images/python/flask-werkzeug-code.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Werkzeug 3.1.3 source code" style="width:900px;"/></div><span class="image-caption">Werkzeug 3.1.3 source code</span></div><p>In the source code the <code>max_form_memory_size</code> attribute, we can see the default value is set to 500kb instead of unlimited. In python <code>werkzeug</code> official package documentation, we can see the package release date</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/flask-werkzeug-release-date.png" class="lazyload placeholder" data-srcset="/assets/images/python/flask-werkzeug-release-date.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Werkzeug Release date" style="width:900px;"/></div><span class="image-caption">Werkzeug Release date</span></div><p>Our <code>Flask</code> version is still using <code>2.2.3</code>, but the <code>werkzeug</code> version has been upgraded to <code>3.1.3</code>, which is causing the 413 error. </p><p>Using command to check the dependency of Flask 2.2.3 package.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -s https://pypi.org/pypi/Flask/2.2.3/json | jq -r <span class="string">&#x27;.info.requires_dist[]&#x27;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/flask-dependency-version.png" class="lazyload placeholder" data-srcset="/assets/images/python/flask-dependency-version.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Flask 2.2.3 dependency version" style="width:900px;"/></div><span class="image-caption">Flask 2.2.3 dependency version</span></div><p>In the dependency list, we can see that <code>werkzeug</code> is listed with a version constraint of <code>&gt;=2.2.2</code>, which means it can use any latest version of <code>werkzeug</code>. And we never define the <code>werkzeug</code> package version in <code>requirements.txt</code> file. That‚Äôs why cause the issue.</p><h2 id="Solution"><a href="#Solution" class="headerlink" title="Solution"></a>Solution</h2><p>To resolve this, we can specify the version of <code>werkzeug</code> to be <code>3.0.6</code> which is last version of the 3.0.x in requirements.txt file or adjust the <code>max_form_memory_size</code> in our application code.</p><p>Define the <code>werkzeug</code> version in <code>requirements.txt</code> file.</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Werkzeug==3.0.6</span><br></pre></td></tr></table></figure><p>Or adjust the <code>max_form_memory_size</code> in our application code.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask</span><br><span class="line">app = Flask(__name__)</span><br><span class="line">app.config[<span class="string">&#x27;MAX_FORM_MEMORY_SIZE&#x27;</span>] = <span class="number">1024</span> * <span class="number">1024</span> * <span class="number">5</span>  <span class="comment"># 5MB limit</span></span><br></pre></td></tr></table></figure><p>After applying one of the above solutions, the application should no longer return the 413 error for requests within the specified size limit.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Context&quot;&gt;&lt;a href=&quot;#Context&quot; class=&quot;headerlink&quot; title=&quot;Context&quot;&gt;&lt;/a&gt;Context&lt;/h2&gt;&lt;p&gt;Recently, we‚Äôre resolving the blackduck scan secur</summary>
      
    
    
    
    <category term="Backend" scheme="https://stonefishy.github.io/categories/Backend/"/>
    
    
    <category term="Python" scheme="https://stonefishy.github.io/tags/Python/"/>
    
    <category term="AWS" scheme="https://stonefishy.github.io/tags/AWS/"/>
    
    <category term="Flask" scheme="https://stonefishy.github.io/tags/Flask/"/>
    
  </entry>
  
  <entry>
    <title>How to pricing the Azure Speech to Speech service</title>
    <link href="https://stonefishy.github.io/2025/08/26/how-to-pricing-the-azure-speech-to-speech-service/"/>
    <id>https://stonefishy.github.io/2025/08/26/how-to-pricing-the-azure-speech-to-speech-service/</id>
    <published>2025-08-26T10:28:50.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>In previous blog <a href="https://stonefishy.github.io/2025/06/19/speech-translator-base-on-azure-speech-service/">Speech Translator Based on Azure Speech Service</a>, we talked about the architecture and implementation details of a speech translation service using Azure‚Äôs Speech API. In this blog, we will focus on the pricing aspects of the Azure Speech to Speech service.</p><p>To calculate the Azure Speech to Speech Translation price, reference the Azure Pricing page: <a href="https://azure.microsoft.com/en-us/pricing/details/cognitive-services/speech-services/">Azure AI Speech Pricing | Microsoft Azure</a></p><p>The Azure Speech to Speech service involves two main components: Speech Translation and Text to Speech. Below, we will break down the pricing for each component and provide an example calculation for translating 6 hours of Chinese audio to English audio.</p><h3 id="Pricing-Summary"><a href="#Pricing-Summary" class="headerlink" title="Pricing Summary"></a>Pricing Summary</h3><p>The Azure Speech to Speech service combines two main features: Speech Translation and Text to Speech. Below is a summary of the pricing for each feature.</p><table><thead><tr><th>Feature</th><th>Tier</th><th>Included&#x2F;Rate</th></tr></thead><tbody><tr><td>Speech Translation</td><td>Free (F0)</td><td>5 audio hours&#x2F;month free</td></tr><tr><td></td><td>Pay as You Go</td><td>$2.5 per audio hour</td></tr><tr><td>Text to Speech (Neural)</td><td>Free (F0)</td><td>0.5M characters&#x2F;month free</td></tr><tr><td></td><td>Pay as You Go</td><td>$15 per 1M characters</td></tr><tr><td>Text to Speech (Neural HD)</td><td>Pay as You Go</td><td>$30 per 1M characters</td></tr></tbody></table><hr><h3 id="Example-Calculation"><a href="#Example-Calculation" class="headerlink" title="Example Calculation"></a>Example Calculation</h3><p>Assume we are translating 6 Hours of Chinese Audio to English Audio, the Azure Speech to Speech translation include below two steps</p><h4 id="Step-by-Step-Process-for-Real-Time-Translation"><a href="#Step-by-Step-Process-for-Real-Time-Translation" class="headerlink" title="Step-by-Step Process for Real-Time Translation"></a><strong>Step-by-Step Process for Real-Time Translation</strong></h4><ol><li><p><strong>Speech Translation</strong>:<br>The Chinese audio is processed and converted into English text using Azure‚Äôs Speech Translation service. This step is billed based on the duration of the audio.</p></li><li><p><strong>Text to Speech</strong>:<br>The translated English text is synthesized into English audio using Azure‚Äôs Text to Speech service. This step is billed based on the number of characters in the translated text.</p></li></ol><hr><h4 id="Step-1-Speech-Translation"><a href="#Step-1-Speech-Translation" class="headerlink" title="Step 1: Speech Translation"></a><strong>Step 1: Speech Translation</strong></h4><ul><li><strong>Free Tier</strong>: 5 audio hours are free per month.</li><li><strong>Pay as You Go Tier</strong>: $2.5 per audio hour for additional hours.</li></ul><p>For 6 hours:</p><ul><li>5 hours are free.</li><li>1 hour is charged at $2.5&#x2F;hour.</li></ul><p><strong>Speech Translation Cost</strong>:<br><code>1 hour √ó $2.5 = $2.5</code></p><hr><h4 id="Step-2-Text-to-Speech"><a href="#Step-2-Text-to-Speech" class="headerlink" title="Step 2: Text to Speech"></a><strong>Step 2: Text to Speech</strong></h4><p>Assume the translated English audio requires <strong>1M characters</strong> for synthesis:</p><ul><li><strong>Free Tier</strong>: 0.5M characters are free per month.</li><li><strong>Pay as You Go Tier</strong>: $15 per 1M characters (Neural).</li></ul><p>For 1M characters:</p><ul><li>0.5M characters are free.</li><li>0.5M characters are charged at $15 per 1M characters.</li></ul><p><strong>Text to Speech Cost</strong>:<br><code>0.5M characters √ó $15 = $7.5</code></p><hr><h3 id="Total-Cost"><a href="#Total-Cost" class="headerlink" title="Total Cost"></a><strong>Total Cost</strong></h3><ul><li>Speech Translation: $2.5  </li><li>Text to Speech: $7.5</li></ul><p><strong>Total Example Cost</strong>:<br><code>$2.5 + $7.5 = $10.0</code></p><h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><p>In this example, translating 6 hours of Chinese audio to English audio using Azure‚Äôs Speech to Speech service would cost approximately $10.0. This calculation assumes the use of the Pay as You Go tier for both services after utilizing the free tier allowances. Actual costs may vary based on the specific usage and any additional features or services used. Always refer to the <a href="https://azure.microsoft.com/en-us/pricing/details/cognitive-services/speech-services/">Azure Pricing page</a> for the most up-to-date pricing information.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In previous blog &lt;a href=&quot;https://stonefishy.github.io/2025/06/19/speech-translator-base-on-azure-speech-service/&quot;&gt;Speech Translator Base</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Cloud" scheme="https://stonefishy.github.io/tags/Cloud/"/>
    
    <category term="Azure" scheme="https://stonefishy.github.io/tags/Azure/"/>
    
  </entry>
  
  <entry>
    <title>Using LangGraph to create AI Agentic system.</title>
    <link href="https://stonefishy.github.io/2025/08/15/using-langgraph-to-create-ai-agentic-system/"/>
    <id>https://stonefishy.github.io/2025/08/15/using-langgraph-to-create-ai-agentic-system/</id>
    <published>2025-08-15T10:41:13.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>In the world of AI, creating systems that can autonomously perform tasks and make decisions is a fascinating challenge. <code>LangGraph,</code> a framework designed for building AI agents, provides a powerful way to create such systems. In this blog post, we will explore how to use <code>LangGraph</code> to create an AI agentic system.</p><h2 id="What-is-LangGraph"><a href="#What-is-LangGraph" class="headerlink" title="What is LangGraph?"></a>What is LangGraph?</h2><p><code>LangGraph</code> is a framework that allows developers to create AI agents by defining their behavior using <code>a graph-based approach</code>. This enables the creation of complex decision-making processes and interactions between different components of the system.</p><p><code>LangGraph</code> is introduced by <code>LangChain</code>. With <code>LangGraph</code> you can create highly controllable agents, include both single agent and multi-agents.</p><p><code>LangGraph</code> models agent workflow as a directed acyclic graph (DAG), where nodes represent tasks or actions, and edges represent the dependencies between them.</p><p><code>LangGraph</code> key components.</p><ul><li><p><strong>State</strong>: A shared data structure that represents the current snapshot of your application. It can be any data type, but is typically defined using a shared state schema</p></li><li><p><strong>Nodes</strong>: Functions that encode the logic of your agents. They receive the current state as input, perform some computation or side-effect, and return an updated state.</p></li><li><p><strong>Edges</strong>: Functions that determine which Node to execute next based on the current state. They can be conditional branches or fixed transitions.</p></li><li><p><strong>Graph</strong>: The overall structure that connects Nodes and Edges, defining the flow of execution.</p></li></ul><h2 id="Let‚Äôs-Build-an-AI-Agent"><a href="#Let‚Äôs-Build-an-AI-Agent" class="headerlink" title="Let‚Äôs Build an AI Agent"></a>Let‚Äôs Build an AI Agent</h2><p>Assume our company has a offline shop, and the customers often ask the same question about the shop open-closed time. We want to build an AI agent that can handle these inquiries efficiently.</p><p>OKÔºålet start to build this AI Agent system. Create a directoy called ‚Äúlanggraph-agent-sample‚Äù. And create a Python virtual environment in this directory.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> langgraph-agent-sample</span><br><span class="line"><span class="built_in">cd</span> langgraph-agent-sample</span><br><span class="line">python -m venv venv</span><br></pre></td></tr></table></figure><p>and activate the virtual environment, the bat file <code>activate.bat</code> will be created in the <code>venv/Scripts</code> directory. the shell file <code>activate</code> will be created in the <code>venv/bin</code> directory base on your operating system.</p><p>Next, we need to install the required packages. Create a <code>requirements.txt</code> file with the following content.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">langgraph</span><br><span class="line">langchain_openai</span><br></pre></td></tr></table></figure><p>The <code>langgraph</code> package provides the core functionality for building graph-based AI agents, while <code>langchain_openai</code> integrates with Azure OpenAI services.</p><p>Then, install the packages using pip:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure><p>Next, we need to create a Python script to define our agent‚Äôs behavior. Create a file named <code>agent.py</code> in the <code>langgraph-agent-sample</code> directory.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> datetime</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> langchain_core.messages <span class="keyword">import</span> SystemMessage, HumanMessage</span><br><span class="line"><span class="keyword">from</span> langgraph.graph <span class="keyword">import</span> MessagesState, START, StateGraph</span><br><span class="line"><span class="keyword">from</span> langgraph.prebuilt <span class="keyword">import</span> tools_condition, ToolNode</span><br><span class="line"><span class="keyword">from</span> langchain_openai <span class="keyword">import</span> AzureChatOpenAI</span><br><span class="line"></span><br><span class="line"><span class="comment"># Set up Azure OpenAI credentials</span></span><br><span class="line">os.environ[<span class="string">&quot;AZURE_OPENAI_API_KEY&quot;</span>] = <span class="string">&quot;&lt;your_openai_api_key&gt;&quot;</span></span><br><span class="line">os.environ[<span class="string">&quot;AZURE_OPENAI_ENDPOINT&quot;</span>] = <span class="string">&quot;&lt;your_openai_endpoint&gt;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">llm = AzureChatOpenAI(</span><br><span class="line">    azure_deployment=<span class="string">&quot;gpt-4o&quot;</span>,</span><br><span class="line">    api_version=<span class="string">&quot;2024-10-21&quot;</span>, <span class="comment">## api version which you deployed model version</span></span><br><span class="line">    temperature=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line">sys_msg = SystemMessage(content=<span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    You are a helpful assistant responsible for responses whether the shop is open or closed</span></span><br><span class="line"><span class="string">    based on the current time and the shop&#x27;s opening hours.&quot;&quot;&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">assistant</span>(<span class="params">state: MessagesState</span>):</span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">&quot;messages&quot;</span>: [llm_with_tools.invoke([sys_msg] + state[<span class="string">&quot;messages&quot;</span>])]&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">shop_opening_hours</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;This tool provides the daily opening hours of the shop.&quot;&quot;&quot;</span></span><br><span class="line">    schedule = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        Monday: 9 AM - 5 PM</span></span><br><span class="line"><span class="string">        Tuesday: 9 AM - 5 PM</span></span><br><span class="line"><span class="string">        Wednesday: 9 AM - 5 PM</span></span><br><span class="line"><span class="string">        Thursday: 9 AM - 5 PM</span></span><br><span class="line"><span class="string">        Friday: 9 AM - 5 PM</span></span><br><span class="line"><span class="string">        Saturday: 10 AM - 4 PM</span></span><br><span class="line"><span class="string">        Sunday: Closed</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> schedule</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">current_time</span>() -&gt; datetime:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;This tool provides the current date and time.&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> datetime.now()</span><br><span class="line"></span><br><span class="line">tools = [shop_opening_hours, current_time]</span><br><span class="line"></span><br><span class="line">llm_with_tools = llm.bind_tools(tools)</span><br><span class="line"></span><br><span class="line">stateGraph = StateGraph(MessagesState)</span><br><span class="line">stateGraph.add_node(<span class="string">&quot;assistant&quot;</span>, assistant)</span><br><span class="line">stateGraph.add_node(<span class="string">&quot;tools&quot;</span>, ToolNode(tools))</span><br><span class="line"></span><br><span class="line">stateGraph.add_edge(START, <span class="string">&quot;assistant&quot;</span>)</span><br><span class="line">stateGraph.add_conditional_edges(<span class="string">&quot;assistant&quot;</span>, tools_condition)</span><br><span class="line">stateGraph.add_edge(<span class="string">&quot;tools&quot;</span>, <span class="string">&quot;assistant&quot;</span>)</span><br><span class="line"></span><br><span class="line">react_graph = stateGraph.<span class="built_in">compile</span>()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Console conversation loop</span></span><br><span class="line">messages = []</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Type &#x27;exit&#x27; or &#x27;quit&#x27; to end the conversation.&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    user_input = <span class="built_in">input</span>(<span class="string">&quot;User: &quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> user_input.strip().lower() <span class="keyword">in</span> [<span class="string">&quot;exit&quot;</span>, <span class="string">&quot;quit&quot;</span>]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Conversation ended.&quot;</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    messages.append(HumanMessage(content=user_input))</span><br><span class="line">    result = react_graph.invoke(&#123;<span class="string">&quot;messages&quot;</span>: messages&#125;)</span><br><span class="line">    <span class="comment"># Find the latest assistant message</span></span><br><span class="line">    assistant_msgs = [m <span class="keyword">for</span> m <span class="keyword">in</span> result[<span class="string">&quot;messages&quot;</span>] <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(m, HumanMessage)]</span><br><span class="line">    <span class="keyword">if</span> assistant_msgs:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;Assistant: <span class="subst">&#123;assistant_msgs[-<span class="number">1</span>].content&#125;</span>\n&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Assistant: Sorry, I don&#x27;t know.\n&quot;</span>)</span><br></pre></td></tr></table></figure><p>In above code, we use <code>Azure OpenAI</code> model <code>gpt-4o</code> and <code>LangGraph</code> to create an AI agent capable of understanding and responding to user queries about shop hours. Create two tools: <code>shop_opening_hours</code> and <code>current_time</code>, which provide the shop‚Äôs opening hours and the current time, respectively. The current_time tool can be used to get the current time and check if the shop is open or closed, and also it is a reference to ask the ai about any other future time.</p><p>You can see the <code>LangGraph</code> framework in action as it manages the flow of information between the user, the assistant, and the various tools at our disposal. </p><p>The <code>StateGraph</code> is responsible for defining the various states and transitions that our agent can take. It allows us to easily add new tools and modify the behavior of the agent without having to rewrite large portions of code.</p><p>We can use below snip code to show the graph:</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Display graph image in a window</span></span><br><span class="line">png_bytes = react_graph.get_graph(xray=<span class="literal">True</span>).draw_mermaid_png()</span><br><span class="line"><span class="keyword">with</span> tempfile.NamedTemporaryFile(delete=<span class="literal">False</span>, suffix=<span class="string">&quot;.png&quot;</span>) <span class="keyword">as</span> tmp_file:</span><br><span class="line">    tmp_file.write(png_bytes)</span><br><span class="line">    tmp_file_path = tmp_file.name</span><br><span class="line">img = PILImage.<span class="built_in">open</span>(tmp_file_path)</span><br><span class="line">img.show()</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/langgraph-graph-example.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/langgraph-graph-example.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Workflow Graph" style="width:200px;"/></div><span class="image-caption">Workflow Graph</span></div><p>Lets‚Äô run it. execution below scripts:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python agent.py</span><br></pre></td></tr></table></figure><p>Below is agent running screenshot:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/langgraph-agent-example.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/langgraph-agent-example.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="LangGraph agent example" style="width:900px;"/></div><span class="image-caption">LangGraph agent example</span></div><p>This is simple AI Agent to use <code>LangGraph</code> to build. In tools, you can also write more complex logic to handle various scenarios and improve the agent‚Äôs capabilities. Such like invoke service API, access databases, or integrate with other systems.</p><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>LangGraph provides a powerful framework for building AI agentic systems. By leveraging its graph-based approach, developers can create agents that are capable of complex decision-making and autonomous behavior. As AI continues to evolve, tools like LangGraph will play a crucial role in shaping the future of intelligent systems.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In the world of AI, creating systems that can autonomously perform tasks and make decisions is a fascinating challenge. &lt;code&gt;LangGraph,&lt;</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Python" scheme="https://stonefishy.github.io/tags/Python/"/>
    
    <category term="Azure" scheme="https://stonefishy.github.io/tags/Azure/"/>
    
    <category term="LangGraph" scheme="https://stonefishy.github.io/tags/LangGraph/"/>
    
    <category term="Azure OpenAI" scheme="https://stonefishy.github.io/tags/Azure-OpenAI/"/>
    
  </entry>
  
  <entry>
    <title>The Data Engineering and the Basics of a Machine Learning Pipeline</title>
    <link href="https://stonefishy.github.io/2025/08/13/the-basics-of-the-machine-learning-pipeline/"/>
    <id>https://stonefishy.github.io/2025/08/13/the-basics-of-the-machine-learning-pipeline/</id>
    <published>2025-08-13T10:40:55.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<h2 id="The-Foundation-Data-Engineering-for-Machine-Learning-Success"><a href="#The-Foundation-Data-Engineering-for-Machine-Learning-Success" class="headerlink" title="The Foundation: Data Engineering for Machine Learning Success"></a>The Foundation: Data Engineering for Machine Learning Success</h2><p>Data Engineering is the foundation of machine learning. Without proper data engineering practices, even the most sophisticated machine learning algorithms will fail to deliver meaningful results.</p><ul><li>Data Engineering at its heart is the study of how to move data and create actionable insights for customers and business users</li><li>Understanding how to move, clean, select, and automate data will greatly affect the cost and prediction ability of machine learning models</li></ul><h2 id="The-Machine-Learning-Pipeline-5-Critical-Components"><a href="#The-Machine-Learning-Pipeline-5-Critical-Components" class="headerlink" title="The Machine Learning Pipeline: 5 Critical Components"></a>The Machine Learning Pipeline: 5 Critical Components</h2><p>Building a successful machine learning pipeline requires careful consideration of several key components. Each component plays a vital role in ensuring that the data is properly prepared, processed, and utilized for effective model training and deployment.</p><h3 id="1-Data-Collection-and-Ingestion"><a href="#1-Data-Collection-and-Ingestion" class="headerlink" title="1. Data Collection and Ingestion"></a>1. Data Collection and Ingestion</h3><p>Data collection forms the first crucial step in any machine learning pipeline. The quality and comprehensiveness of your data collection strategy will determine the upper bound of your model‚Äôs performance.</p><h4 id="Multiple-Sources"><a href="#Multiple-Sources" class="headerlink" title="Multiple Sources"></a>Multiple Sources</h4><p>Modern machine learning projects require data from various sources - databases, APIs, streaming services, files, and external datasets. A robust ingestion system must handle:</p><ul><li><strong>Batch processing for large historical datasets</strong>: Think customer transaction histories, sensor readings over months, or archived log files. These are processed in scheduled intervals (hourly, daily, weekly)</li><li><strong>Real-time streaming for continuous data feeds</strong>: Live user interactions on websites, IoT sensor data, financial market feeds, or social media streams that require immediate processing</li><li><strong>API integrations for third-party data sources</strong>: Weather data from meteorological services, economic indicators from financial institutions, or demographic data from census bureaus</li></ul><h4 id="Data-Format-Considerations"><a href="#Data-Format-Considerations" class="headerlink" title="Data Format Considerations"></a>Data Format Considerations</h4><p>It could include:</p><ul><li>Structured data (SQL databases, CSV files)</li><li>Semi-structured data (JSON, XML, log files)</li><li>Unstructured data (images, text documents, audio files)</li></ul><h4 id="Automation-is-Critical"><a href="#Automation-is-Critical" class="headerlink" title="Automation is Critical"></a>Automation is Critical</h4><p>Manual data collection doesn‚Äôt scale. Automated pipelines ensure:</p><ul><li><strong>Consistent data flow</strong>: Eliminates human delays and ensures regular data updates</li><li><strong>Reduced human error</strong>: Automated systems follow exact protocols without fatigue or oversight</li><li><strong>Cost-effective operations</strong>: Reduces manual labor costs and allows teams to focus on higher-value tasks</li><li><strong>Timely model updates</strong>: Ensures models receive fresh data for continuous learning and adaptation</li></ul><h4 id="Common-Tools-and-Technologies"><a href="#Common-Tools-and-Technologies" class="headerlink" title="Common Tools and Technologies:"></a>Common Tools and Technologies:</h4><ul><li>Apache Kafka for real-time data streaming</li><li>Apache Airflow for workflow orchestration</li><li>AWS Kinesis or Azure Event Hubs for cloud-based streaming</li><li>ETL tools like Talend, Informatica, or custom Python scripts</li></ul><h3 id="2-Data-Cleaning-and-Preparation"><a href="#2-Data-Cleaning-and-Preparation" class="headerlink" title="2. Data Cleaning and Preparation"></a>2. Data Cleaning and Preparation</h3><p>This stage often consumes 60-80% of a data scientist‚Äôs time, yet it‚Äôs the most critical for model success. Poor data preparation leads to unreliable models and incorrect business decisions.</p><h4 id="Feature-Engineering"><a href="#Feature-Engineering" class="headerlink" title="Feature Engineering"></a>Feature Engineering</h4><p>Raw data rarely comes in a format ready for machine learning. This stage involves:</p><ul><li><strong>Handling missing values and outliers</strong>:</li></ul><ol><li>Missing data strategies: deletion, mean&#x2F;median imputation, or advanced techniques like KNN imputation</li><li>Outlier detection using statistical methods (IQR, Z-score) or machine learning approaches (Isolation Forest)</li></ol><ul><li><strong>Data type conversions and normalization</strong>:</li></ul><ol><li>Converting categorical variables to numerical (one-hot encoding, label encoding)</li><li>Scaling numerical features (StandardScaler, MinMaxScaler, RobustScaler)</li><li>Handling datetime features (extracting day of week, month, seasonality)</li></ol><ul><li><strong>Creating new features from existing data</strong>:</li></ul><ol><li>Aggregating transaction amounts by customer</li><li>Calculating ratios (debt-to-income, click-through rates)</li><li>Text feature extraction (TF-IDF, word embeddings)</li></ol><ul><li><strong>Selecting relevant features for the model</strong>:</li></ul><ol><li>Statistical methods (correlation analysis, chi-square tests)</li><li>Machine learning-based selection (recursive feature elimination, LASSO)</li><li>Domain knowledge-driven selection</li></ol><h4 id="Data-Quality-Dimensions"><a href="#Data-Quality-Dimensions" class="headerlink" title="Data Quality Dimensions"></a>Data Quality Dimensions</h4><ul><li><strong>Accuracy</strong>: Is the data correct and error-free?</li><li><strong>Completeness</strong>: Are all required data points present?</li><li><strong>Consistency</strong>: Is the data uniform across different sources?</li><li><strong>Timeliness</strong>: Is the data current and relevant?</li><li><strong>Validity</strong>: Does the data conform to defined formats and ranges?</li></ul><h4 id="Quality-Directly-Affects-ML-Output"><a href="#Quality-Directly-Affects-ML-Output" class="headerlink" title="Quality Directly Affects ML Output"></a>Quality Directly Affects ML Output</h4><p>Machine learning models require large amounts of clean data. The quality of your data directly affects the performance of your ML models.</p><h4 id="Remember-Junk-In-Junk-Out"><a href="#Remember-Junk-In-Junk-Out" class="headerlink" title="Remember: Junk In - Junk Out"></a>Remember: Junk In - Junk Out</h4><p>Poor quality data will always produce poor quality predictions, regardless of the sophistication of your algorithm.</p><h4 id="Cost-Effectiveness"><a href="#Cost-Effectiveness" class="headerlink" title="Cost Effectiveness"></a>Cost Effectiveness</h4><p>Investing in proper data cleaning upfront saves significant costs in model retraining and poor business decisions later.</p><h3 id="3-Scalability-and-Performance"><a href="#3-Scalability-and-Performance" class="headerlink" title="3. Scalability and Performance"></a>3. Scalability and Performance</h3><p>As organizations grow and data volumes increase exponentially, the ability to scale data processing becomes critical for maintaining performance and controlling costs.</p><h4 id="Design-Scalable-Data-Architectures"><a href="#Design-Scalable-Data-Architectures" class="headerlink" title="Design Scalable Data Architectures"></a>Design Scalable Data Architectures</h4><p>As data volumes grow, your infrastructure must scale accordingly:</p><ul><li><strong>Cloud-native solutions for elastic scaling</strong>:</li></ul><ol><li>Auto-scaling compute resources based on workload demands</li><li>Serverless computing (AWS Lambda, Azure Functions) for event-driven processing</li><li>Container orchestration for microservices deployment</li></ol><ul><li><strong>Microservices architecture for modular components</strong>:</li></ul><ol><li>Separate services for data ingestion, processing, storage, and serving</li><li>Independent scaling of different pipeline components</li><li>Easier maintenance and debugging of individual services</li></ol><ul><li><strong>Load balancing and distributed processing</strong>:</li></ul><ol><li>Distributing workloads across multiple machines</li><li>Horizontal scaling vs. vertical scaling strategies</li><li>Caching strategies for frequently accessed data</li></ol><h4 id="Performance-Optimization-Strategies"><a href="#Performance-Optimization-Strategies" class="headerlink" title="Performance Optimization Strategies"></a>Performance Optimization Strategies</h4><ul><li><strong>Data partitioning</strong>: Dividing large datasets by time, geography, or other logical divisions</li><li><strong>Indexing</strong>: Creating efficient data access patterns for faster queries</li><li><strong>Compression</strong>: Reducing storage costs and improving I&#x2F;O performance</li><li><strong>Parallel processing</strong>: Utilizing multiple CPU cores and machines simultaneously</li></ul><h4 id="Implement-Distributed-Computing-Environments"><a href="#Implement-Distributed-Computing-Environments" class="headerlink" title="Implement Distributed Computing Environments"></a>Implement Distributed Computing Environments</h4><p>Modern data processing requires distributed systems:</p><ul><li><strong>Apache Spark for large-scale data processing</strong>:</li></ul><ol><li>In-memory processing for faster computations</li><li>Support for batch and streaming data</li><li>Built-in machine learning libraries (MLlib)</li></ol><ul><li><strong>Kubernetes for container orchestration</strong>:</li></ul><ol><li>Automated deployment and scaling of containerized applications</li><li>Service discovery and load balancing</li><li>Rolling updates and rollbacks</li></ol><ul><li><strong>Cloud services like AWS, Azure, or GCP for managed scaling</strong>:</li></ul><ol><li>Managed services reduce operational overhead</li><li>Pay-as-you-use pricing models</li><li>Global availability and disaster recovery</li></ol><h3 id="4-Data-Storage-and-Management"><a href="#4-Data-Storage-and-Management" class="headerlink" title="4. Data Storage and Management"></a>4. Data Storage and Management</h3><p>Effective data storage strategies must balance performance, cost, security, and accessibility requirements while supporting both current needs and future growth.</p><h4 id="Storage-Requirements"><a href="#Storage-Requirements" class="headerlink" title="Storage Requirements"></a>Storage Requirements</h4><p>Data training often requires large amounts of storage with specific characteristics:</p><ul><li><strong>High-performance storage for training datasets</strong>:</li></ul><ol><li>SSD storage for faster I&#x2F;O operations during model training</li><li>High-bandwidth storage networks for distributed training</li><li>Optimized file formats (Parquet, ORC) for analytical workloads</li></ol><ul><li><strong>Long-term archival storage for historical data</strong>:</li></ul><ol><li>Cost-effective cold storage solutions (AWS Glacier, Azure Archive)</li><li>Data lifecycle management policies</li><li>Compliance with data retention requirements</li></ol><ul><li><strong>Backup and disaster recovery systems</strong>:</li></ul><ol><li>Automated backup schedules with point-in-time recovery</li><li>Geographic replication for disaster recovery</li><li>Regular backup validation and recovery testing</li></ol><h4 id="Storage-Architecture-Patterns"><a href="#Storage-Architecture-Patterns" class="headerlink" title="Storage Architecture Patterns"></a>Storage Architecture Patterns</h4><ul><li><strong>Data Lakes</strong>: Store raw data in its native format for flexibility</li><li><strong>Data Warehouses</strong>: Structured storage optimized for analytical queries</li><li><strong>Data Lakehouses</strong>: Combine the flexibility of data lakes with the performance of warehouses</li><li><strong>Feature Stores</strong>: Centralized repositories for ML features with versioning and lineage</li></ul><h4 id="Design-and-Optimization"><a href="#Design-and-Optimization" class="headerlink" title="Design and Optimization"></a>Design and Optimization</h4><p>Effective storage solutions require data engineering expertise:</p><ul><li><strong>Database optimization and indexing</strong>:</li></ul><ol><li>Query performance tuning through proper indexing strategies</li><li>Database schema design for optimal access patterns</li><li>Regular maintenance and statistics updates</li></ol><ul><li><strong>Data partitioning strategies</strong>:</li></ul><ol><li>Horizontal partitioning (sharding) across multiple databases</li><li>Vertical partitioning by separating frequently and rarely accessed columns</li><li>Time-based partitioning for time-series data</li></ol><ul><li><strong>Caching mechanisms for frequently accessed data</strong>:</li></ul><ol><li>In-memory caches (Redis, Memcached) for fast data retrieval</li><li>Application-level caching for computed results</li><li>CDN usage for geographically distributed access</li></ol><h3 id="5-Data-Governance-and-Compliance"><a href="#5-Data-Governance-and-Compliance" class="headerlink" title="5. Data Governance and Compliance"></a>5. Data Governance and Compliance</h3><p>In an era of increasing data regulations and ethical AI concerns, robust data governance frameworks are essential for sustainable machine learning operations.</p><h4 id="Regulatory-Requirements"><a href="#Regulatory-Requirements" class="headerlink" title="Regulatory Requirements"></a>Regulatory Requirements</h4><p>Modern data systems must comply with various regulations:</p><ul><li><strong>GDPR for European data protection</strong>:</li></ul><ol><li>Right to be forgotten and data portability requirements</li><li>Consent management and data processing lawfulness</li><li>Data Protection Impact Assessments (DPIAs) for high-risk processing</li></ol><ul><li><strong>CCPA for California consumer privacy</strong>:</li></ul><ol><li>Consumer rights to know, delete, and opt-out of data sales</li><li>Data minimization and purpose limitation principles</li><li>Regular privacy impact assessments</li></ol><ul><li><strong>Industry-specific regulations (HIPAA, SOX, etc.)</strong>:</li></ul><ol><li>Healthcare data protection under HIPAA</li><li>Financial data security under SOX and PCI DSS</li><li>Industry-specific data handling requirements</li></ol><h4 id="Data-Governance-Framework-Components"><a href="#Data-Governance-Framework-Components" class="headerlink" title="Data Governance Framework Components:"></a>Data Governance Framework Components:</h4><ul><li><strong>Data lineage tracking</strong>: Understanding data flow from source to consumption</li><li><strong>Data quality monitoring</strong>: Automated checks for data accuracy and completeness</li><li><strong>Access control and authorization</strong>: Role-based access to sensitive data</li><li><strong>Audit trails</strong>: Comprehensive logging of data access and modifications</li></ul><h4 id="Ethical-Standards"><a href="#Ethical-Standards" class="headerlink" title="Ethical Standards"></a>Ethical Standards</h4><p>Responsible AI requires ethical data practices:</p><ul><li><strong>Bias detection and mitigation</strong>:</li></ul><ol><li>Regular auditing of training data for demographic biases</li><li>Fairness metrics and bias testing throughout the ML lifecycle</li><li>Diverse data collection strategies to ensure representation</li></ol><ul><li><strong>Data privacy protection</strong>:</li></ul><ol><li>Differential privacy techniques for statistical data release</li><li>Data anonymization and pseudonymization methods</li><li>Privacy-preserving machine learning techniques</li></ol><ul><li><strong>Transparent data usage policies</strong>:</li></ul><ol><li>Clear communication about data collection and usage</li><li>Regular policy updates and user notifications</li><li>Explainable AI techniques for model transparency</li></ol><ul><li><strong>Fair representation in training datasets</strong>:</li></ul><ol><li>Ensuring diverse and representative training data</li><li>Regular assessment of dataset composition</li><li>Corrective measures for underrepresented groups</li></ol><h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>Data Engineering is critical to effective machine learning predictions. Understanding how data engineering works will make you a more effective data scientist and ensure your ML projects deliver real business value.</p><p>The success of any machine learning initiative depends heavily on the quality of the underlying data infrastructure. By investing in proper data engineering practices, organizations can build robust, scalable, and reliable ML systems that drive meaningful business outcomes.</p><p><strong>Key Takeaways:</strong></p><ul><li>Quality data engineering is non-negotiable for ML success</li><li>Automation and scalability should be built into every pipeline</li><li>Compliance and ethics must be considered from day one</li><li>The cost of poor data engineering compounds over time</li></ul><p><em>Remember: Great machine learning starts with great data engineering.</em></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;The-Foundation-Data-Engineering-for-Machine-Learning-Success&quot;&gt;&lt;a href=&quot;#The-Foundation-Data-Engineering-for-Machine-Learning-Success</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="Big Data" scheme="https://stonefishy.github.io/tags/Big-Data/"/>
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Machine Learning" scheme="https://stonefishy.github.io/tags/Machine-Learning/"/>
    
  </entry>
  
  <entry>
    <title>Using GitHub Copilot AI in the CLI</title>
    <link href="https://stonefishy.github.io/2025/08/07/using-github-copilot-ai-in-the-cli/"/>
    <id>https://stonefishy.github.io/2025/08/07/using-github-copilot-ai-in-the-cli/</id>
    <published>2025-08-07T15:39:52.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>The <code>GitHub Copilot</code> is a tool that can help you write code faster and more efficiently. It can suggest code completions based on your code context and can help you write better code. But it is also can be used in the <code>command line interface (CLI)</code> like <code>bash</code>, <code>zsh</code>, <code>PowerShell</code> as well.</p><p>For example, we may want to use some command to execute the task in the CLI. For example, we may want to copy a file from windows to the linux machine. But we don‚Äôt know which command to use and how to use it? Usually, we may take some time to search for the right command and then execute it.</p><p>With <code>GitHub Copilot</code>, we can get the command for the task we want to execute in the CLI. We just need to type the task and <code>GitHub Copilot</code> will suggest the command for us. For example, if we want to copy a file from windows to the linux machine, we can type <code>copy file from windows to linux</code> and <code>GitHub Copilot</code> will suggest the command <code>scp file.txt username@linux-machine:/path/to/destination</code>.</p><h2 id="Install-GitHub-CLI"><a href="#Install-GitHub-CLI" class="headerlink" title="Install GitHub CLI"></a>Install GitHub CLI</h2><p>To use <code>GitHub Copilot</code> in the CLI, firstly, we need to install the <code>GitHub CLI</code>. You can install it from the official website: <a href="https://cli.github.com/">https://cli.github.com/</a>. Once we have installed it, we can start using it in the CLI. My local computer is windows, so I need to install the <code>GitHub CLI</code> for windows. You can find the installation instructions for different operating systems on the official website.</p><p>After you install it, you can type <code>gh</code> command to see the help information.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-1.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-1.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub CLI Commands Example" style="width:800px;"/></div><span class="image-caption">GitHub CLI Commands Example</span></div><h2 id="Install-GitHub-Copilot-extension-in-CLI"><a href="#Install-GitHub-Copilot-extension-in-CLI" class="headerlink" title="Install GitHub Copilot extension in CLI"></a>Install GitHub Copilot extension in CLI</h2><p>To use <code>GitHub Copilot</code> in the CLI, we need to install the <code>GitHub Copilot</code> extension in the CLI. Before that, you need subscribe to the <code>GitHub Copilot</code> first. Go to the website: <a href="https://github.com/features/copilot/plans">https://github.com/features/copilot/plans</a> to check the plans, you can choose the individual plan or business plan. For the individual plan, you can get the <code>GitHub Copilot</code> for free with some limits.</p><p>Once you have subscribed, you can type below command to login GitHub from the command line:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gh auth login</span><br></pre></td></tr></table></figure><p>Follow the command instructions to login with your GitHub account. You can choose the <code>HTTPS</code> protocol or <code>SSH</code> to login.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-2.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub Auth Login" style="width:800px;"/></div><span class="image-caption">GitHub Auth Login</span></div><p>After you login successfully, you can install the <code>GitHub Copilot</code> extension in the CLI by running the following command:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gh extension install github/gh-copilot</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-3.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-3.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub Copilot AI install success in CLI" style="width:800px;"/></div><span class="image-caption">GitHub Copilot AI install success in CLI</span></div><p>Typing <code>gh copilot</code> in the CLI, you can see the help information for the <code>GitHub Copilot</code> extension.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-4.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-4.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub Copilot AI help in CLI" style="width:800px;"/></div><span class="image-caption">GitHub Copilot AI help in CLI</span></div><h2 id="Use-GitHub-Copilot-in-the-CLI"><a href="#Use-GitHub-Copilot-in-the-CLI" class="headerlink" title="Use GitHub Copilot in the CLI"></a>Use GitHub Copilot in the CLI</h2><p>To use <code>GitHub Copilot</code> in the CLI, we can use <code>gh copilot suggest &lt;task&gt;</code> command. The task is the task we want to execute in the CLI. </p><p>For example, if we want to copy a file from windows to the linux machine, we can type <code>gh copilot suggest &quot;copy file from windows to linux&quot;</code>. <code>GitHub Copilot</code> will suggest the command <code>scp path\to\file username@linux-server-ip:/path/to/destination</code>.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-5.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-5.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub Copilot AI CLI example 1" style="width:800px;"/></div><span class="image-caption">GitHub Copilot AI CLI example 1</span></div><p>Let‚Äôs try another example, If we want to check the docker logs in real time when docker container is running, but we forgot the command, we can type below command:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gh copilot suggest &quot;check docker logs in real time when the docker container is running.&quot;</span><br></pre></td></tr></table></figure><p>See below result:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-6.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-6.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub Copilot AI CLI example 2" style="width:800px;"/></div><span class="image-caption">GitHub Copilot AI CLI example 2</span></div><p>We can also ask the more complex command suggestion, here is example, Let‚Äôs create a directory named ‚Äògh-copilot-test‚Äô, create a new file named ‚Äòtest.txt‚Äô under this directory and write the ‚ÄòCreated by GitHub Copilot in CLI‚Äô text in this file.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gh copilot suggest &quot;create a directory named &#x27;gh-copilot-test&#x27;, create a new file named &#x27;test.txt&#x27; under this directory and write the &#x27;Created by GitHub Copilot in CLI&#x27; text in this file.&quot;</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/github-copilot-in-cli-7.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/github-copilot-in-cli-7.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="GitHub Copilot AI CLI example 3" style="width:800px;"/></div><span class="image-caption">GitHub Copilot AI CLI example 3</span></div><p>Because I‚Äôm using windows and not set the <code>ghcs</code> and <code>ghce</code> alias in my <code>PowerShell</code>, So choose the <code>Execute Command</code> not work, it copies the command to the Clipboard. </p><p>To see the <code>Alias</code> help, you can run below command:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gh copilot alias --help</span><br></pre></td></tr></table></figure><p>The <code>gh copilot alias</code> command is used to set the <code>ghcs</code> and <code>ghce</code> alias in the CLI. As you can see below screenshot, it supports <code>Bash</code>, <code>PowerShell</code> and <code>Zsh</code>.</p><div class="img-wrap"><div class="img-bg"><img class="img" src="/assets/images/ai-ml/github-copilot-in-cli-8.png" alt="GitHub Copilot AI CLI Alias help %}<p>Note" style="width:800px;"/></div><span class="image-caption">GitHub Copilot AI CLI Alias help %}<p>Note</span></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;The &lt;code&gt;GitHub Copilot&lt;/code&gt; is a tool that can help you write code faster and more efficiently. It can suggest code completions based</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="GitHub Copilot" scheme="https://stonefishy.github.io/tags/GitHub-Copilot/"/>
    
    <category term="CLI" scheme="https://stonefishy.github.io/tags/CLI/"/>
    
  </entry>
  
  <entry>
    <title>Copying AWS S3 Object from One Account to Another Account.</title>
    <link href="https://stonefishy.github.io/2025/07/02/copying-aws-s3-object-from-one-account-to-another-account/"/>
    <id>https://stonefishy.github.io/2025/07/02/copying-aws-s3-object-from-one-account-to-another-account/</id>
    <published>2025-07-02T10:32:54.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>In AWS Cloud, copying objects between buckets within an AWS account is a standard, simple process for S3 users. To copy AWS S3 objects from one bucket to another bucket, you can use the AWS CLI. In its simplest form, the following command copies all objects from bucket1 to bucket2:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws s3 cp s3://bucket1 s3://bucket2</span><br></pre></td></tr></table></figure><p>To copy a single object, use the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws s3 cp s3://bucket1/key1 s3://bucket2/key1</span><br></pre></td></tr></table></figure><p>To copy a directory, use the following command:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws s3 cp s3://bucket1/key1/ s3://bucket2/key1/ --recursive</span><br></pre></td></tr></table></figure><p>All commands about S3 copying objects are available in the AWS CLI documentation. You can reference this doc <a href="https://docs.aws.amazon.com/cli/latest/reference/s3/cp.html">https://docs.aws.amazon.com/cli/latest/reference/s3/cp.html</a>.</p><p>But there are some cases where you need to copy objects between accounts instead of within an account. In this blog, we will talk about how to copy objects between AWS accounts using AWS CLI.</p><h2 id="Pre-Requirements"><a href="#Pre-Requirements" class="headerlink" title="Pre-Requirements"></a>Pre-Requirements</h2><p><strong>Two AWS accounts</strong>: Two AWS account entities with their account IDs, one is source account and another is destination account.</p><p><strong>Source and destination buckets</strong>: One source account, needs a bucket with objects. The another destination account, will need a bucket that will receive the source account‚Äôs objects.</p><p><strong>IAM user</strong>: This AWS IAM user in the destination account will be responsible for copying the objects.</p><p><strong>Permissions</strong>: The IAM user needs permissions to access both buckets in order to get objects from the source bucket and put objects in the destination bucket. These permissions are granted with the use of policies.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-copy-s3-object-between-accounts.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-copy-s3-object-between-accounts.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Copy S3 Object Between Two Accounts" style="width:800px;"/></div><span class="image-caption">AWS Copy S3 Object Between Two Accounts</span></div><h2 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h2><p>We already have two AWS accounts, source account and destination account. We also have a source bucket and a destination bucket, and one object file which size around 284GB in source account. We need to copy this object file from the source bucket to the destination bucket.</p><h3 id="Step-1-Create-an-IAM-user-in-the-destination-account"><a href="#Step-1-Create-an-IAM-user-in-the-destination-account" class="headerlink" title="Step 1: Create an IAM user in the destination account"></a>Step 1: Create an IAM user in the destination account</h3><p>Go to AWS Console menu and select IAM service. Then select Users from the left menu. Click on Add user button.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-create-iam-user-in-destination-account.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-create-iam-user-in-destination-account.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Create IAM User In Destination Account" style="width:800px;"/></div><span class="image-caption">AWS Create IAM User In Destination Account</span></div><h3 id="Step-2-Create-a-Policy-in-the-destination-account"><a href="#Step-2-Create-a-Policy-in-the-destination-account" class="headerlink" title="Step 2: Create a Policy in the destination account"></a>Step 2: Create a Policy in the destination account</h3><p>Go to IAM console menu and select Policies from the left menu. Click on Create policy button. Switch to Json edit mode in policy editor. Following below policy json in the policy editor, and using your own source and destination bucket name in the resource section. Let‚Äôs named this policy as ‚Äúallow-cross-copy-data‚Äù.</p><p>Below policy allows the IAM user to list and get objects from the source bucket and put objects in the destination bucket.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;Version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2012-10-17&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Statement&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;Effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Allow&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Action&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;s3:ListBucket&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;s3:GetObject&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Resource&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;arn:aws:s3:::&lt;source-account-bucket&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;arn:aws:s3:::&lt;source-account-bucket&gt;/*&quot;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;Effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Allow&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Action&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;s3:ListBucket&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;s3:PutObject&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;s3:PutObjectAcl&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Resource&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;arn:aws:s3:::&lt;destination-account-bucket&gt;&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;arn:aws:s3:::&lt;destination-account-bucket&gt;/*&quot;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-create-iam-policy-in-destination-account.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-create-iam-policy-in-destination-account.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Create IAM Policy In Destination Account" style="width:800px;"/></div><span class="image-caption">AWS Create IAM Policy In Destination Account</span></div><h3 id="Step-3-Attach-the-policy-to-the-IAM-user"><a href="#Step-3-Attach-the-policy-to-the-IAM-user" class="headerlink" title="Step 3: Attach the policy to the IAM user"></a>Step 3: Attach the policy to the IAM user</h3><p>Go to IAM console menu and select Users from the left menu. Select the IAM user which we created in the destination account. Click on Attach policies button. Attach the ‚Äúallow-cross-copy-data‚Äù policy to the IAM user.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-attach-iam-policy-to-iam-user.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-attach-iam-policy-to-iam-user.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Attach IAM Policy To IAM User" style="width:800px;"/></div><span class="image-caption">AWS Attach IAM Policy To IAM User</span></div><p>Once you attached the policy to the IAM user, you can see the policy attached to the user. Then you can create an <code>AKSK pair (Access Key ID and Secret Access Key)</code> for the IAM user. The AKSK pair will be used to access the source and destination buckets in AWS CLI.</p><h3 id="Step-4-Install-Configure-AWS-CLI"><a href="#Step-4-Install-Configure-AWS-CLI" class="headerlink" title="Step 4: Install &amp; Configure AWS CLI"></a>Step 4: Install &amp; Configure AWS CLI</h3><p>To Install AWS CLI on your machine, follow this official documentation <a href="https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html">https://docs.aws.amazon.com/cli/latest/userguide/getting-started-install.html</a>. </p><p>Once you have installed the AWS CLI, configure it with your AWS Access Key ID and Secret Access Key.</p><p>In Windows you can set the keys as follows:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SET AWS_ACCESS_KEY_ID=&lt;aws_access_key_id&gt; </span><br><span class="line">SET AWS_SECRET_ACCESS_KEY=&lt;aws_secret_access_key&gt;</span><br></pre></td></tr></table></figure><p>In Linux&#x2F;Unix machines or Mac, you can set the keys as follows:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> AWS_ACCESS_KEY_ID=&lt;aws_access_key_id&gt; </span><br><span class="line"><span class="built_in">export</span> AWS_SECRET_ACCESS_KEY=&lt;aws_secret_access_key&gt;</span><br></pre></td></tr></table></figure><h3 id="Step-5-Create-bucket-policy-for-source-bucket"><a href="#Step-5-Create-bucket-policy-for-source-bucket" class="headerlink" title="Step 5: Create bucket policy for source bucket"></a>Step 5: Create bucket policy for source bucket</h3><p>In the source account, we need to create a bucket policy for the source bucket. The bucket policy will allow the IAM user of destination account to access the source bucket. The following bucket policy allows the IAM user to access the source bucket.</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;Version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;2012-10-17&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Statement&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;Sid&quot;</span><span class="punctuation">:</span> <span class="string">&quot;AllowCopy&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Effect&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Allow&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Principal&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line"><span class="attr">&quot;AWS&quot;</span><span class="punctuation">:</span> <span class="string">&quot;arn:aws:iam::&lt;destination-account-id&gt;:user/&lt;destination-account-iam-user&gt;&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Action&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;s3:List*&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;s3:Get*&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="attr">&quot;Resource&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line"><span class="string">&quot;arn:aws:s3:::&lt;source-account-bucket&gt;/*&quot;</span><span class="punctuation">,</span></span><br><span class="line"><span class="string">&quot;arn:aws:s3:::&lt;source-account-bucket&gt;&quot;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-create-bucket-policy-for-source-bucket.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-create-bucket-policy-for-source-bucket.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Create Bucket Policy For Source Bucket" style="width:800px;"/></div><span class="image-caption">AWS Create Bucket Policy For Source Bucket</span></div><h3 id="Step-6-Copy-the-object-from-source-to-destination-bucket"><a href="#Step-6-Copy-the-object-from-source-to-destination-bucket" class="headerlink" title="Step 6: Copy the object from source to destination bucket"></a>Step 6: Copy the object from source to destination bucket</h3><p>Now, we can copy the object from source to destination bucket using the AWS CLI. Use the following command to copy the object:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">aws s3 <span class="built_in">cp</span> s3://&lt;source-account-bucket&gt;/&lt;object-key&gt; s3://&lt;destination-account-bucket&gt;/&lt;object-key&gt;</span><br></pre></td></tr></table></figure><p>Below are screenshots of the AWS CLI commands and output.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-copy-s3-object-between-accounts-command-output.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-copy-s3-object-between-accounts-command-output.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Copy S3 Object Between Two Accounts Command Output" style="width:800px;"/></div><span class="image-caption">AWS Copy S3 Object Between Two Accounts Command Output</span></div><p>In above screenshot, you will see the command used to copy the object from source account bucket to destination account bucket. The output shows the progress of the copy operation. Once the copy operation is complete, you will see the object copied successfully.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/aws/aws-copy-s3-object-between-accounts-object-copied.png" class="lazyload placeholder" data-srcset="/assets/images/aws/aws-copy-s3-object-between-accounts-object-copied.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="AWS Copy S3 Object Between Two Accounts Object Copied" style="width:800px;"/></div><span class="image-caption">AWS Copy S3 Object Between Two Accounts Object Copied</span></div><p>That‚Äôs all. You have successfully copied the object from source account to destination account using AWS CLI. Hope this can help you.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In AWS Cloud, copying objects between buckets within an AWS account is a standard, simple process for S3 users. To copy AWS S3 objects fr</summary>
      
    
    
    
    <category term="Cloud" scheme="https://stonefishy.github.io/categories/Cloud/"/>
    
    
    <category term="Cloud" scheme="https://stonefishy.github.io/tags/Cloud/"/>
    
    <category term="AWS" scheme="https://stonefishy.github.io/tags/AWS/"/>
    
  </entry>
  
  <entry>
    <title>Data Engineering in AWS Machine Learning</title>
    <link href="https://stonefishy.github.io/2025/07/01/data-engineering-in-aws-machine-learning/"/>
    <id>https://stonefishy.github.io/2025/07/01/data-engineering-in-aws-machine-learning/</id>
    <published>2025-07-01T10:11:13.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>The entire machine learning domain revolves around data. With clean data, you can gain important business insights. Data enables you to proactively, rather than reactively, make strategic business decisions and helps you gain a deeper understanding of your customers.</p><p>The <code>Data Engineering</code> in machine learning refers to the ingest of the data, the process of storing, processing, <code>ETL</code>(extract, transform, load) and analyzing data.</p><p>However, storing all this data is challenging. You need a way to store the data in a centralized repository and make it easy to access. This means you need to consider data security, availability, cost, and performance.</p><p>AWS provides many services that can help you address these challenges. A <code>data lake</code> is the key solution to address this challenge. With a data lake, you can store both <code>structured</code> and <code>unstructured</code> data.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/data-lake-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/data-lake-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Data Lake in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Data Lake in AWS Machine Learning</span></div><h2 id="Data-Storage"><a href="#Data-Storage" class="headerlink" title="Data Storage"></a>Data Storage</h2><h3 id="Data-Lake"><a href="#Data-Lake" class="headerlink" title="Data Lake"></a>Data Lake</h3><p>The AWS Lake Formation and Amazon S3 buckets are the two main components of a data lake. A data lake is a platform for storing and analyzing data, which can help you extract valuable insights. </p><p>The <code>AWS Lake Formation</code> is the data lake solution provided by AWS, and <code>Amazon S3</code> is the preferred storage option for data science processing on AWS. Below is a general architecture of a data lake and Amazon S3 for Machine learning.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/data-lake-s3-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/data-lake-s3-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Data Lake and S3 in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Data Lake and S3 in AWS Machine Learning</span></div><h3 id="Amazon-S3"><a href="#Amazon-S3" class="headerlink" title="Amazon S3"></a>Amazon S3</h3><p>You can use Amazon S3 as storage to store your data. Amazon S3 is a highly available, durable, and scalable object storage service. Amazon S3 offers industry-leading scalability, data availability, security, and performance. It is designed to store and retrieve any amount of data from anywhere on the web.</p><p>There are several storage types of Amazon S3, including:</p><ul><li><strong>S3 Standard</strong>: This is the default storage class for frequently accessed data. It provides high durability, availability, and performance.</li><li><strong>S3 Intelligent-Tiering</strong>: This storage class automatically moves data between two access tiers (frequent and infrequent access) based on changing access patterns.</li><li><strong>S3 Standard-IA</strong>: This is a lower-cost storage class for data that is accessed less frequently, but requires rapid access.</li><li><strong>S3 OneZone-IA</strong>: This is a lower-cost storage class for data that is accessed less frequently, but requires rapid access. It is designed for applications that require low latency and high throughput.</li><li><strong>S3 Glacier</strong>: This is a low-cost storage class for data archiving. It provides retrieval times of <code>several hours</code>.</li><li><strong>S3 Glacier Deep Archive</strong>: This is the lowest-cost storage class for data archiving. It provides retrieval times of <code>several days</code>.</li></ul><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/amazon-s3-access-frequency.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/amazon-s3-access-frequency.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Amazon S3 Access Frequency" style="width:600px;"/></div><span class="image-caption">Amazon S3 Access Frequency</span></div><p>When you train machine learning models using <code>Amazon SageMaker</code>, you can use Amazon S3 to store your training data and model training output. Amazon S3 and Amazon SageMaker integration is used to store training data and model training output.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/s3-sagemaker-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/s3-sagemaker-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Amazon S3 and SageMaker in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Amazon S3 and SageMaker in AWS Machine Learning</span></div><h3 id="Amazon-FSx-for-Lustre"><a href="#Amazon-FSx-for-Lustre" class="headerlink" title="Amazon FSx for Lustre"></a>Amazon FSx for Lustre</h3><p>However, Amazon S3 is not the only storage solution you can use for model training. If your training data is already stored in Amazon S3, and you plan to run multiple training jobs with different algorithms and parameters, consider using <code>Amazon FSx for Lustre</code> (a file system service). </p><p>FSx for Lustre provides fast access to Amazon S3 data, which is then provided to Amazon SageMaker. The first time you run a training job, <code>FSx for Lustre</code> automatically copies the data from Amazon S3 and provides it to Amazon SageMaker. You can then use the same Amazon FSx file system for subsequent training job iterations to avoid repeatedly downloading the same Amazon S3 objects.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/amazon-FSx-for-Lustre-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/amazon-FSx-for-Lustre-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Amazon FSx for Lustre in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Amazon FSx for Lustre in AWS Machine Learning</span></div><h3 id="Amazon-EFS"><a href="#Amazon-EFS" class="headerlink" title="Amazon EFS"></a>Amazon EFS</h3><p>Or, if your training data is already stored in <code>Amazon EFS</code>, it may be a good choice as a training data source. The advantage of <code>Amazon EFS</code> is that it can be used to start training jobs directly from the service, without moving the data, resulting in shorter training start times. </p><p>If data scientists have a home directory in <code>Amazon EFS</code>, and use it to introduce new data, share data with colleagues, and experiment with different fields or labels in their data set, this advantage is particularly valuable. For example, data scientists can use a Jupyter notebook to clean the training set initially, start a training job from <code>Amazon SageMaker</code>, and then use the notebook to delete a column and restart the training job to compare the results, to see which model performs better.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/amazon-efs-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/amazon-efs-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Amazon EFS in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Amazon EFS in AWS Machine Learning</span></div><p>The Amazon EBS also can be used as a data source for training, but it is generally slower than Amazon S3 and Amazon EFS. Amazon EBS is a block-level storage service that can be attached to EC2 instances. It is ideal for data that is frequently accessed and requires low latency.</p><h2 id="Data-Ingesting"><a href="#Data-Ingesting" class="headerlink" title="Data Ingesting"></a>Data Ingesting</h2><p>The Data Ingesting include the <code>batch</code> and <code>streaming</code> data sources.</p><h3 id="Batch-Data-Ingesting"><a href="#Batch-Data-Ingesting" class="headerlink" title="Batch Data Ingesting"></a>Batch Data Ingesting</h3><p>Using batch processing, the data ingestion layer periodically collects source data and groups it, then sends it to <code>Amazon S3</code> or other target locations. You can group data based on any logical order, activation by certain conditions, or simple timetables. Batch processing is typically used when real-time or nearly real-time data is not required, as it is generally more efficient and cost-effective than other ingestion options.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/batch-data-ingestion-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/batch-data-ingestion-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Batch Data Ingestion in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Batch Data Ingestion in AWS Machine Learning</span></div><p>To ingest data in batches to AWS, you can use services such as <code>AWS Glue</code> or <code>A</code>mazon EMR<code>. These are </code>ETL (extract, transform, and load)<code>services that can be used to classify, clean, and enrich data, as well as move data between various data stores.</code>AWS DMS<code>is another service that can help with batch ingestion. It can read historical data from any source system (such as relational database management systems, data warehouses, and NoSQL databases) at any desired interval. You can also use</code>AWS Step Functions&#96; to automate complex ETL workflows involving various tasks.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/glue-batch-ingest-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/glue-batch-ingest-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Batch Data Ingestion with AWS Glue in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Batch Data Ingestion with AWS Glue in AWS Machine Learning</span></div><h3 id="Streaming-Data-Ingesting"><a href="#Streaming-Data-Ingesting" class="headerlink" title="Streaming Data Ingesting"></a>Streaming Data Ingesting</h3><p>The streaming (including <code>real-time</code> processing) does not involve grouping. Data is created and identified, and it is immediately collected, processed, and loaded by the data ingestion layer. The cost-effectiveness of this ingestion is lower because the system needs to constantly monitor the source and accept new information. However, you may want to use it for <code>real-time predictions</code> (using Amazon SageMaker endpoints that you want to show on your website) or for some <code>real-time analytics</code> that require frequent data refreshes (such as real-time dashboards).</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/streaming-data-ingestion-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/streaming-data-ingestion-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Streaming Data Ingestion in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Streaming Data Ingestion in AWS Machine Learning</span></div><h4 id="Amazon-Kinesis"><a href="#Amazon-Kinesis" class="headerlink" title="Amazon Kinesis"></a>Amazon Kinesis</h4><p><code>Amazon Kinesis</code> is a platform for streaming data processing on AWS. It is a fully managed service that can capture and process data in real-time. You can build custom streaming data applications using Amazon Kinesis, which can satisfy your specific needs. It also provides various services that make it easy to load and analyze streaming data.</p><p>The <code>Amazon Kineis</code> include several services, including:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/amazon-kinesis-services.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/amazon-kinesis-services.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Amazon Kinesis Services" style="width:600px;"/></div><span class="image-caption">Amazon Kinesis Services</span></div><ul><li><p><strong>Amazon Kinesis Video Stream</strong>: You can use <code>Amazon Kinesis Video Streams</code> to capture and analyze video and audio data. For example, a leading home security company uses Kinesis Video Streams to capture audio and video data from its home security cameras. They then connect to their custom machine learning models running in Amazon SageMaker to detect and analyze objects, creating a more comprehensive user experience.</p></li><li><p><strong>Amazon Kinesis Data Streams</strong>: You can use <code>Amazon Kinesis Data Streams</code> to write data to a stream using <code>Kinesis Producer Library (KPL)</code>, which acts as an intermediary between your application code and the Kinesis Data Streams API. You can then use <code>Kinesis Client Library (KCL)</code> to build your own applications that preprocess the data as it streams in, and emit data for downstream analysis.</p></li><li><p><strong>Amazon Kinesis Data Firehose</strong>: You can use <code>Amazon Kinesis Data Firehose</code> to easily batch and compress data as it streams in, and provide an incremental view. You can also use AWS Lambda to perform custom transformation logic before sending the incremental view to <code>Amazon S3</code>.</p></li><li><p><strong>Amazon Kinesis Data Analytics</strong>: You can use <code>Amazon Kinesis Data Analytics</code> to process and transform data streamed through Kinesis Data Streams or Kinesis Data Firehose using <code>SQL</code>. This allows you to get <code>near-real-time insights</code> from the data before it is stored in Amazon S3.</p></li></ul><h3 id="Data-Transform-and-Processing"><a href="#Data-Transform-and-Processing" class="headerlink" title="Data Transform and Processing"></a>Data Transform and Processing</h3><p>Ingestion of raw data into services such as <code>Amazon S3</code> is not directly usable for machine learning. Data needs to be transformed and cleaned, including deduplication of duplicate data, management of incomplete data, and standardization of attributes. If necessary, data transformation may involve changing the data structure to an OLAP model, which makes it easier to query data.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/data-transform-processing-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/data-transform-processing-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Data Transform and Processing in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Data Transform and Processing in AWS Machine Learning</span></div><p>Processing of large datasets typically requires data transformation. Distributed computing frameworks such as <code>MapReduce</code> and <code>Apache Spark</code> can provide protocols for data processing and node task assignment and management. They also use algorithms to split datasets into subsets and distribute them across nodes in the compute cluster. Using <code>Apache Spark on Amazon EMR</code> provides a managed framework that can handle large datasets. <code>Amazon EMR</code> supports several instance types, which have higher CPU and enhanced networking performance, which are ideal for <code>high-performance computing (HPC)</code> applications.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/data-transform-processing-with-emr-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/data-transform-processing-with-emr-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Data Transform and Processing with Spark in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Data Transform and Processing with Spark in AWS Machine Learning</span></div><p>The key step of Machine Learning Data Transformations is to partition the dataset. The Machine Learning application requires dataset from databases, streaming IoT input or centralized data lakes. In many use cases, <code>Amazon S3</code> can be used as the target endpoint for the training dataset. <code>ETL processing services (Athena, AWS Glue, Amazon Redshift Spectrum)</code> complement each other in functionality, and can be used to preprocess data stored in Amazon S3 or directed to Amazon S3 datasets. In addition to using Athena and Amazon Redshift Spectrum, you can also use AWS Glue-based services to provide metadata discovery and management functionality. The choice of <code>ETL</code> processing tools depends on the type of data you have. For example, if you are processing tabular data using Athena, you can use SQL to process data files stored in Amazon S3. If the compatibility of the dataset or compute with SQL is not the best, you can use AWS Glue to seamlessly run Spark jobs (Scala and Python support) on data stored in Amazon S3 buckets.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/data-transform-processing-with-glue-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/data-transform-processing-with-glue-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Data Transform and Processing with Glue in AWS Machine Learning" style="width:600px;"/></div><span class="image-caption">Data Transform and Processing with Glue in AWS Machine Learning</span></div><p>Below is an example architecture for a medical data lake and analytics layer on AWS. This reference architecture demonstrates how AWS services for big data and machine learning can help build a scalable analytics layer for healthcare data. Customers can store a single data source in <code>Amazon S3</code> and use <code>Athena</code> for ad-hoc analysis; integrate with data warehouses on <code>Amazon Redshift</code>; build metrics visual dashboards with <code>Amazon QuickSight</code>; and build machine learning models with <code>Amazon SageMaker </code>to predict readmission rates. Users can connect to the data without moving it and use different services to access the data, thus avoiding the creation of redundant copies of the same data.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/data-transform-processing-analytics-in-aws-ml.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/data-transform-processing-analytics-in-aws-ml.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Data Transform" style="width:600px;"/></div><span class="image-caption">Data Transform</span></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;The entire machine learning domain revolves around data. With clean data, you can gain important business insights. Data enables you to p</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="AWS" scheme="https://stonefishy.github.io/tags/AWS/"/>
    
    <category term="Machine Learning" scheme="https://stonefishy.github.io/tags/Machine-Learning/"/>
    
    <category term="Data Engineering" scheme="https://stonefishy.github.io/tags/Data-Engineering/"/>
    
  </entry>
  
  <entry>
    <title>Speech Translator base on Azure Speech Service</title>
    <link href="https://stonefishy.github.io/2025/06/19/speech-translator-base-on-azure-speech-service/"/>
    <id>https://stonefishy.github.io/2025/06/19/speech-translator-base-on-azure-speech-service/</id>
    <published>2025-06-19T15:14:38.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>Today we‚Äôre going to talk about how to build a speech translator using <code>Azure Speech Service</code> of <code>Azure AI</code> . We‚Äôll be using the <code>JavaScript SDK</code> for the Speech Service to build the translator. We‚Äôll using <code>Next.js</code> to build the web application.</p><h2 id="What-is-speech-translation"><a href="#What-is-speech-translation" class="headerlink" title="What is speech translation?"></a>What is speech translation?</h2><p>Speech translation is the process of translating speech from one language to another. It involves using speech recognition to convert the <code>speech to text</code>, and then using <code>text-to-speech</code> to convert the translated text back to speech. The <code>Azure AI Speech</code> provides a <code>speech to speech</code> translation service that can translate speech from one language to another. The Speech service supports <code>real-time</code>, <code>multi-language</code> speech to speech and speech to text translation of audio streams.</p><h2 id="Create-Azure-Speech-Service-resource"><a href="#Create-Azure-Speech-Service-resource" class="headerlink" title="Create Azure Speech Service resource"></a>Create Azure Speech Service resource</h2><p>In <code>Microsfot Azure</code> Cloud portal, select the <code>Speech Service</code> resource and go to the <code>AI Foundry</code> - <code>Speech service</code> management page.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-service.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-service.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Select Azure Speech Service" style="width:800px;"/></div><span class="image-caption">Select Azure Speech Service</span></div><p>To create a new <code>Speech Service</code> resource is very simple, just click the <code>Create</code> button, and then fill the name, location, and pricing tier of the resource.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-service-create.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-service-create.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Create Azure Speech Service" style="width:800px;"/></div><span class="image-caption">Create Azure Speech Service</span></div><p>Once the speech service created, you can see it in resouce list.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-service-list.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-service-list.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Azure Speech Service List" style="width:800px;"/></div><span class="image-caption">Azure Speech Service List</span></div><p>To get the <code>key</code> and <code>endpoint</code> of the speech service, click the <code>Manage Key</code> link, it will show the <code>key</code> and <code>endpoint</code>, <code>location</code> of the speech service. The subscription <code>Key</code> and <code>Location</code> will be used to access the speech service. </p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-service-key.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-service-key.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Azure Speech Service Key" style="width:800px;"/></div><span class="image-caption">Azure Speech Service Key</span></div><h2 id="Play-the-Speech-Service-via-Speech-Studio"><a href="#Play-the-Speech-Service-via-Speech-Studio" class="headerlink" title="Play the Speech Service via Speech Studio"></a>Play the Speech Service via Speech Studio</h2><p>To play the speech service, you can use the <code>Speech Studio</code> tool. Just go to the <code>Speech Studio</code> page, and then click the <code>Get Started</code> button. Select the <code>Speech Translation</code> card. Let‚Äôs speech Chinese to English voice.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-studio.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-studio.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Azure Speech Studio - Speech Translation" style="width:800px;"/></div><span class="image-caption">Azure Speech Studio - Speech Translation</span></div><p>Now, our speech service is ready to use.</p><h2 id="Create-Web-applicaiton"><a href="#Create-Web-applicaiton" class="headerlink" title="Create Web applicaiton"></a>Create Web applicaiton</h2><p>To create the web application, we‚Äôll be using <code>Next.js</code> framework. The <code>Next.js</code> is a React framework that allows us to build server-side rendered (SSR) or client-side rendered (CSR) web applications. It is a powerful framework that allows us to build fast and efficient web applications.</p><p>To create the web application, we‚Äôll use the <code>create-next-app</code> command. Open the terminal and run the following command:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-next-app@latest</span><br></pre></td></tr></table></figure><p>Let‚Äôs build a simple web application that user can access the device microphone and translate the Chinese (ÊôÆÈÄöËØù), Cantonese (Á≤§ËØ≠) speech voice to English language voice in real-time. The UI of the web application will be simple and easy to use. Screenshots like below.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-translator-ui-1.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-translator-ui-1.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Speech Translator UI - Microphone" style="width:300px;"/></div><span class="image-caption">Speech Translator UI - Microphone</span></div><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-translator-ui-2.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-translator-ui-2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Speech Translator UI - Listening & Translation" style="width:300px;"/></div><span class="image-caption">Speech Translator UI - Listening & Translation</span></div><p>The UI is based on the <code>Tailwind CSS</code> framework. The <code>Tailwind CSS</code> is a utility-first CSS framework that allows us to build custom user interfaces with pre-defined classes. The <code>Tailwind CSS</code> framework provides a set of pre-defined classes that we can use to style our web application. The <code>Tailwind CSS</code> framework is very flexible and allows us to build custom user interfaces with pre-defined classes. Below are the <code>Tailwind CSS</code> classes that we can use to style our web application.</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">main</span> <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">geistSans.variable</span>&#125; $&#123;<span class="attr">geistMono.variable</span>&#125; <span class="attr">font-sans</span> <span class="attr">flex</span> <span class="attr">flex-col</span> <span class="attr">h-screen</span>`&#125;&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center pt-10 pb-10 gap-5&quot;</span>&gt;</span></span><br><span class="line">    &#123;OriginalLanguages.map((language) =&gt; &#123;</span><br><span class="line">      return (</span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center&quot;</span> <span class="attr">key</span>=<span class="string">&#123;language.value&#125;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&#123;</span>`<span class="attr">radio-</span>$&#123;<span class="attr">language.value</span>&#125;`&#125; <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&#123;language.value&#125;</span> <span class="attr">checked</span>=<span class="string">&#123;originalLanguage</span> === <span class="string">language.value&#125;</span> <span class="attr">disabled</span>=<span class="string">&#123;isRecording&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;()</span> =&gt;</span> setOriginalLanguage(language.value)&#125; name=&quot;default-radio&quot; className=&quot;w-8 h-8 text-blue-600 bg-gray-100 border-gray-30 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600&quot; /&gt;</span><br><span class="line">          <span class="tag">&lt;<span class="name">label</span> <span class="attr">htmlFor</span>=<span class="string">&#123;</span>`<span class="attr">radio-</span>$&#123;<span class="attr">language.value</span>&#125;`&#125; <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">isRecording</span>? &quot;<span class="attr">text-gray-400</span>&quot; <span class="attr">:</span> &quot;<span class="attr">text-gray-900</span>&quot;&#125; <span class="attr">ms-2</span> <span class="attr">text-2xl</span> <span class="attr">font-medium</span> <span class="attr">dark:text-gray-300</span>`&#125;&gt;</span>&#123;language.label&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      )</span><br><span class="line">    &#125;)&#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center flex-auto pb-20&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">isRecording</span>? &quot;<span class="attr">hidden</span>&quot; <span class="attr">:</span> &quot;<span class="attr">block</span>&quot;&#125; <span class="attr">flex</span> <span class="attr">items-center</span> <span class="attr">justify-center</span> <span class="attr">rounded-full</span> <span class="attr">size-64</span> <span class="attr">bg-blue-200</span> <span class="attr">mx-auto</span> <span class="attr">cursor-pointer</span> <span class="attr">hover:bg-blue-300</span> <span class="attr">transition-colors</span>`&#125;</span></span><br><span class="line"><span class="tag">    <span class="attr">onClick</span>=<span class="string">&#123;startRecording&#125;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center rounded-full size-48 bg-blue-400 hover:bg-blue-500 transition-colors&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/images/microphone.svg&quot;</span>  <span class="attr">alt</span>=<span class="string">&quot;Microphone&quot;</span> <span class="attr">className</span>=<span class="string">&quot;size-24&quot;</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">isRecording</span>? &quot;<span class="attr">block</span>&quot; <span class="attr">:</span> &quot;<span class="attr">hidden</span>&quot;&#125; <span class="attr">flex-col</span> <span class="attr">items-center</span> <span class="attr">justify-center</span>`&#125;&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center rounded-full size-64 bg-red-200 mx-auto cursor-pointer hover:bg-red-300 transition-colors&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">onClick</span>=<span class="string">&#123;stopRecording&#125;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center rounded-full size-48 bg-red-400 hover:bg-red-500 transition-colors&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;w-16 h-16 bg-white animate-pulse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center mt-2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;block w-64 items-center justify-start text-xl&quot;</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/images/speech.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;voice&quot;</span> <span class="attr">className</span>=<span class="string">&quot;inline-block ml-12 size-12&quot;</span> /&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;inline-block text-center font-medium ml-2&quot;</span>&gt;</span>Listening <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;inline-block font-medium&quot;</span>&gt;</span>&#123;listenLoading&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="Integrated-with-Azure-Speech-Service"><a href="#Integrated-with-Azure-Speech-Service" class="headerlink" title="Integrated with Azure Speech Service"></a>Integrated with Azure Speech Service</h2><p>The <code>Azure Speech Service</code> provides multiple language SDKs, including <code>JavaScript</code>, <code>Go</code>, <code>C#</code>, <code>Python</code>, <code>Java</code>, <code>Swift</code>, <code>Objective-C</code>, and <code>C++</code>. You can access this speech SDK link <a href="https://learn.microsoft.com/en-us/azure/ai-services/speech-service/speech-sdk">https://learn.microsoft.com/en-us/azure/ai-services/speech-service/speech-sdk</a>. We‚Äôll be using the <code>JavaScript</code> SDK to integrate with the speech service.</p><p>To install the <code>JavaScript</code> SDK, we‚Äôll use the <code>npm</code> command. Open the terminal and run the following command:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install microsoft-cognitiveservices-speech-sdk</span><br></pre></td></tr></table></figure><p>Accessing the device microhpone, we can use <code>navigator.mediaDevices.getUserMedia()</code> method. The <code>getUserMedia()</code> method returns a <code>Promise</code> that resolves with a <code>MediaStream</code> object representing the captured media. We can then pass this <code>MediaStream</code> object to the <code>SpeechSDK.AudioConfig</code> object to create a <code>SpeechSDK.AudioConfig</code> object that represents the audio input device.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">requestMicrophoneAccess</span> = (<span class="params">callback</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (navigator.<span class="property">mediaDevices</span> &amp;&amp; navigator.<span class="property">mediaDevices</span>.<span class="property">getUserMedia</span>) &#123;</span><br><span class="line">      navigator.<span class="property">mediaDevices</span>.<span class="title function_">getUserMedia</span>(&#123; <span class="attr">audio</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">stream</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Microphone access granted.&quot;</span>);</span><br><span class="line">          <span class="keyword">const</span> speechConfig = <span class="title class_">SpeechSDK</span>.<span class="property">SpeechTranslationConfig</span>.<span class="title function_">fromSubscription</span>(config.<span class="property">SPEECH_SUBSCRIPTION_KEY</span>, config.<span class="property">SPEECH_SERVICE_REGION</span>);</span><br><span class="line">          speechConfig.<span class="property">outputFormat</span> = <span class="title class_">SpeechSDK</span>.<span class="property">OutputFormat</span>.<span class="property">Detailed</span>;</span><br><span class="line">          speechConfig.<span class="property">speechRecognitionLanguage</span> = originalLanguage;</span><br><span class="line">          speechConfig.<span class="title function_">addTargetLanguage</span>(<span class="title class_">TargetLanguage</span>);</span><br><span class="line">          speechConfig.<span class="title function_">setProperty</span>(<span class="title class_">SpeechSDK</span>.<span class="property">PropertyId</span>.<span class="property">SpeechServiceConnection_TranslationVoice</span>, <span class="string">&quot;en-US-JennyNeural&quot;</span>);</span><br><span class="line">          <span class="keyword">const</span> audioConfig = <span class="title class_">SpeechSDK</span>.<span class="property">AudioConfig</span>.<span class="title function_">fromStreamInput</span>(stream);</span><br><span class="line">          <span class="keyword">const</span> recognizer = <span class="keyword">new</span> <span class="title class_">SpeechSDK</span>.<span class="title class_">TranslationRecognizer</span>(speechConfig, audioConfig);</span><br><span class="line">          recognizer.<span class="property">recognizing</span> = speechRecognizing;</span><br><span class="line">          recognizer.<span class="property">recognized</span> = speechRecognized;</span><br><span class="line">          recognizer.<span class="property">synthesizing</span> = speechSynthesizing;</span><br><span class="line">          callback &amp;&amp; <span class="title function_">callback</span>(recognizer);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error accessing microphone:&quot;</span>, error);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;getUserMedia is not supported in this browser.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In above code, we are using the <code>SpeechTranslationConfig</code> object to configure the speech translation service. We are setting the <code>outputFormat</code> to <code>Detailed</code> to get the detailed translation result. We are setting the <code>speechRecognitionLanguage</code> to the original language and the <code>addTargetLanguage</code> to the target language. We are setting the <code>SpeechServiceConnection_TranslationVoice</code> property to <code>en-US-JennyNeural</code> to get the neural voice for the target language. We are creating a <code>SpeechSDK.AudioConfig</code> object from the <code>MediaStream</code> object and passing it to the <code>SpeechSDK.TranslationRecognizer</code> object, and setting the <code>recognizing</code>, <code>recognized</code>, and <code>synthesizing</code> event handlers to get the translation result.</p><p>The <code>config.SPEECH_SUBSCRIPTION_KEY</code> and <code>config.SPEECH_SERVICE_REGION</code> are the subscription key and region for the speech service. We are using these values to configure the speech translation service.</p><p>The <code>recognizing</code> event handler is called when the speech service is processing the audio input, and the <code>recognized</code> event handler is called when the speech service has recognized the speech input. The <code>synthesizing</code> event handler is called when the speech service is synthesizing the translated text to speech.</p><p>Below are these event handlers.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">speechRecognizing</span> = (<span class="params">s, e</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Recognizing: <span class="subst">$&#123;e.result.text&#125;</span>`</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">speechRecognized</span> = (<span class="params">s, e</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">RecognizedSpeech</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Recognized: <span class="subst">$&#123;e.result.text&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">TranslatedSpeech</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Translate Recognized: <span class="subst">$&#123;e.result.text&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">NoMatch</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;No speech could be recognized.&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">Canceled</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> cancellation = <span class="title class_">SpeechSDK</span>.<span class="property">CancellationDetails</span>.<span class="title function_">fromResult</span>(e.<span class="property">result</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`CANCELED: Reason=<span class="subst">$&#123;cancellation.reason&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (cancellation.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">CancellationReason</span>.<span class="property">Error</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`CANCELED: ErrorCode=<span class="subst">$&#123;cancellation.errorCode&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`CANCELED: ErrorDetails=<span class="subst">$&#123;cancellation.errorDetails&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;CANCELED: Did you set the speech resource key and region values?&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">speechSynthesizing</span> = (<span class="params">s, e</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> audioSize = e.<span class="property">result</span>.<span class="property">audio</span> === <span class="literal">undefined</span> ? <span class="number">0</span> : e.<span class="property">result</span>.<span class="property">audio</span>.<span class="property">byteLength</span>;</span><br><span class="line">    <span class="keyword">var</span> text =<span class="string">&quot;&quot;</span>;</span><br><span class="line">    text += <span class="string">`(synthesizing) Reason: <span class="subst">$&#123;SpeechSDK.ResultReason[e.result.reason]&#125;</span>`</span></span><br><span class="line">        + <span class="string">` <span class="subst">$&#123;audioSize&#125;</span> bytes\r\n`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">audio</span> &amp;&amp; soundContext) &#123;</span><br><span class="line">        <span class="keyword">var</span> source = soundContext.<span class="title function_">createBufferSource</span>();</span><br><span class="line">        soundContext.<span class="title function_">decodeAudioData</span>(e.<span class="property">result</span>.<span class="property">audio</span>, <span class="keyword">function</span> (<span class="params">newBuffer</span>) &#123;</span><br><span class="line">            source.<span class="property">buffer</span> = newBuffer;</span><br><span class="line">            source.<span class="title function_">connect</span>(soundContext.<span class="property">destination</span>);</span><br><span class="line">            source.<span class="title function_">start</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>In <code>synthesizing</code> event handler, we are logging the <code>ResultReason</code> and the audio size. If the <code>audio</code> property is not <code>undefined</code>, we are decoding the <code>audio</code> data and playing it using the <code>Web Audio API</code>.</p><p>The above <code>soundContext</code> is a global variable that we are using to play the audio. We can create the <code>soundContext</code> object using the <code>AudioContext</code> constructor. Below is the code to create the <code>soundContext</code> object.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">getSoundContext</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">var</span> soundContext = <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">AudioContext</span> = <span class="variable language_">window</span>.<span class="property">AudioContext</span> || <span class="variable language_">window</span>.<span class="property">webkitAudioContext</span> || <span class="literal">false</span>;                          </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">AudioContext</span>) &#123;</span><br><span class="line">        soundContext = <span class="keyword">new</span> <span class="title class_">AudioContext</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Audio context not supported&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;no sound context found, no audio output. &quot;</span> + e);</span><br><span class="line">  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> soundContext;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> soundContext = <span class="title function_">getSoundContext</span>();</span><br></pre></td></tr></table></figure><h2 id="Play-it"><a href="#Play-it" class="headerlink" title="Play it"></a>Play it</h2><p>Now, we can run the web application using the <code>npm run dev</code> command. Open the web browser and go to <code>http://localhost:3000</code>. You should see the web application with the microphone icon. Click the microphone icon to start recording the speech. Speak Chinese Mandarin, Cantonese speech voice and the web application will translate the speech to English language voice in real-time.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/azure-speech-translator-demo.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/azure-speech-translator-demo.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Speech Translator Demo" style="width:800px;"/></div><span class="image-caption">Speech Translator Demo</span></div><p>In above screenshot, it is recognize the speech to the text and we print it in console log. Once speech recognized. It is translated to English language voice and played in the web application.</p><p>Below are major code in <code>index.js</code> for <code>Azure Speech Translator</code>. It is simple to using <code>Azure Speech Service</code> to do the continous <code>Speech Translation</code> in real-time.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&#x27;use client&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; useState, useEffect &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Geist</span>, <span class="title class_">Geist</span>_Mono &#125; <span class="keyword">from</span> <span class="string">&quot;next/font/google&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> <span class="title class_">SpeechSDK</span> <span class="keyword">from</span> <span class="string">&quot;microsoft-cognitiveservices-speech-sdk&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> config <span class="keyword">from</span> <span class="string">&quot;../config&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> geistSans = <span class="title class_">Geist</span>(&#123;</span><br><span class="line">  <span class="attr">variable</span>: <span class="string">&quot;--font-geist-sans&quot;</span>,</span><br><span class="line">  <span class="attr">subsets</span>: [<span class="string">&quot;latin&quot;</span>],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> geistMono = <span class="title class_">Geist</span>_Mono(&#123;</span><br><span class="line">  <span class="attr">variable</span>: <span class="string">&quot;--font-geist-mono&quot;</span>,</span><br><span class="line">  <span class="attr">subsets</span>: [<span class="string">&quot;latin&quot;</span>],</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">TargetLanguage</span> = <span class="string">&quot;en-US&quot;</span>; <span class="comment">// &quot;en-US&quot;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">OriginalLanguages</span> = [&#123;</span><br><span class="line">  <span class="attr">label</span>: <span class="string">&#x27;Mandarin&#x27;</span>,</span><br><span class="line">  <span class="attr">value</span>: <span class="string">&#x27;zh-CN&#x27;</span>,</span><br><span class="line">&#125;, &#123;</span><br><span class="line">  <span class="attr">label</span>: <span class="string">&quot;Cantonese&quot;</span>,</span><br><span class="line">  <span class="attr">value</span>: <span class="string">&quot;yue-cn&quot;</span>,</span><br><span class="line">&#125;];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">getSoundContext</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">var</span> soundContext = <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="title class_">AudioContext</span> = <span class="variable language_">window</span>.<span class="property">AudioContext</span> || <span class="variable language_">window</span>.<span class="property">webkitAudioContext</span> || <span class="literal">false</span>;                          </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="title class_">AudioContext</span>) &#123;</span><br><span class="line">        soundContext = <span class="keyword">new</span> <span class="title class_">AudioContext</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Audio context not supported&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;no sound context found, no audio output. &quot;</span> + e);</span><br><span class="line">  &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> soundContext;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> soundContext = <span class="title function_">getSoundContext</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">function</span> <span class="title function_">Home</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> [isRecording, setIsRecording] = <span class="title function_">useState</span>(<span class="literal">false</span>);</span><br><span class="line">  <span class="keyword">const</span> [speechRecognizer, setSpeechRecognizer] = <span class="title function_">useState</span>(<span class="literal">null</span>);</span><br><span class="line">  <span class="keyword">const</span> [originalLanguage, setOriginalLanguage] = <span class="title function_">useState</span>(<span class="string">&#x27;zh-CN&#x27;</span>);</span><br><span class="line">  <span class="keyword">const</span> [listenLoading, setlistenLoading] = <span class="title function_">useState</span>(<span class="string">&quot;...&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">startRecording</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="title function_">requestMicrophoneAccess</span>(<span class="function">(<span class="params">recognizer</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="title function_">setSpeechRecognizer</span>(recognizer);</span><br><span class="line">      <span class="title function_">setIsRecording</span>(<span class="literal">true</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Microphone access granted, starting recognition...&quot;</span>);</span><br><span class="line"></span><br><span class="line">      recognizer.<span class="title function_">startContinuousRecognitionAsync</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Continuous recognition started.&quot;</span>);</span><br><span class="line">      &#125;, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">stopRecording</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (speechRecognizer !== <span class="literal">null</span>) &#123;</span><br><span class="line">      speechRecognizer.<span class="title function_">stopContinuousRecognitionAsync</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Continuous recognition stopped.&quot;</span>);</span><br><span class="line">        <span class="title function_">setIsRecording</span>(<span class="literal">false</span>);</span><br><span class="line">      &#125;, <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(error);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">requestMicrophoneAccess</span> = (<span class="params">callback</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (navigator.<span class="property">mediaDevices</span> &amp;&amp; navigator.<span class="property">mediaDevices</span>.<span class="property">getUserMedia</span>) &#123;</span><br><span class="line">      navigator.<span class="property">mediaDevices</span>.<span class="title function_">getUserMedia</span>(&#123; <span class="attr">audio</span>: <span class="literal">true</span> &#125;)</span><br><span class="line">        .<span class="title function_">then</span>(<span class="function">(<span class="params">stream</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Microphone access granted.&quot;</span>);</span><br><span class="line">          <span class="keyword">const</span> speechConfig = <span class="title class_">SpeechSDK</span>.<span class="property">SpeechTranslationConfig</span>.<span class="title function_">fromSubscription</span>(config.<span class="property">SPEECH_SUBSCRIPTION_KEY</span>, config.<span class="property">SPEECH_SERVICE_REGION</span>);</span><br><span class="line">          speechConfig.<span class="property">outputFormat</span> = <span class="title class_">SpeechSDK</span>.<span class="property">OutputFormat</span>.<span class="property">Detailed</span>;</span><br><span class="line">          speechConfig.<span class="property">speechRecognitionLanguage</span> = originalLanguage;</span><br><span class="line">          speechConfig.<span class="title function_">addTargetLanguage</span>(<span class="title class_">TargetLanguage</span>);</span><br><span class="line">          speechConfig.<span class="title function_">setProperty</span>(<span class="title class_">SpeechSDK</span>.<span class="property">PropertyId</span>.<span class="property">SpeechServiceConnection_TranslationVoice</span>, <span class="string">&quot;en-US-JennyNeural&quot;</span>);</span><br><span class="line">          <span class="keyword">const</span> audioConfig = <span class="title class_">SpeechSDK</span>.<span class="property">AudioConfig</span>.<span class="title function_">fromStreamInput</span>(stream);</span><br><span class="line">          <span class="keyword">const</span> recognizer = <span class="keyword">new</span> <span class="title class_">SpeechSDK</span>.<span class="title class_">TranslationRecognizer</span>(speechConfig, audioConfig);</span><br><span class="line">          recognizer.<span class="property">recognizing</span> = speechRecognizing;</span><br><span class="line">          recognizer.<span class="property">recognized</span> = speechRecognized;</span><br><span class="line">          recognizer.<span class="property">synthesizing</span> = speechSynthesizing;</span><br><span class="line">          callback &amp;&amp; <span class="title function_">callback</span>(recognizer);</span><br><span class="line">        &#125;)</span><br><span class="line">        .<span class="title function_">catch</span>(<span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Error accessing microphone:&quot;</span>, error);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;getUserMedia is not supported in this browser.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">speechRecognizing</span> = (<span class="params">s, e</span>) =&gt; &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Recognizing: <span class="subst">$&#123;e.result.text&#125;</span>`</span>);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">speechRecognized</span> = (<span class="params">s, e</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">RecognizedSpeech</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Recognized: <span class="subst">$&#123;e.result.text&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">TranslatedSpeech</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Translate Recognized: <span class="subst">$&#123;e.result.text&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">NoMatch</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;No speech could be recognized.&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">ResultReason</span>.<span class="property">Canceled</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> cancellation = <span class="title class_">SpeechSDK</span>.<span class="property">CancellationDetails</span>.<span class="title function_">fromResult</span>(e.<span class="property">result</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`CANCELED: Reason=<span class="subst">$&#123;cancellation.reason&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (cancellation.<span class="property">reason</span> === <span class="title class_">SpeechSDK</span>.<span class="property">CancellationReason</span>.<span class="property">Error</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`CANCELED: ErrorCode=<span class="subst">$&#123;cancellation.errorCode&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`CANCELED: ErrorDetails=<span class="subst">$&#123;cancellation.errorDetails&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;CANCELED: Did you set the speech resource key and region values?&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">speechSynthesizing</span> = (<span class="params">s, e</span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">var</span> audioSize = e.<span class="property">result</span>.<span class="property">audio</span> === <span class="literal">undefined</span> ? <span class="number">0</span> : e.<span class="property">result</span>.<span class="property">audio</span>.<span class="property">byteLength</span>;</span><br><span class="line">    <span class="keyword">var</span> text =<span class="string">&quot;&quot;</span>;</span><br><span class="line">    text += <span class="string">`(synthesizing) Reason: <span class="subst">$&#123;SpeechSDK.ResultReason[e.result.reason]&#125;</span>`</span></span><br><span class="line">        + <span class="string">` <span class="subst">$&#123;audioSize&#125;</span> bytes\r\n`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">result</span>.<span class="property">audio</span> &amp;&amp; soundContext) &#123;</span><br><span class="line">        <span class="keyword">var</span> source = soundContext.<span class="title function_">createBufferSource</span>();</span><br><span class="line">        soundContext.<span class="title function_">decodeAudioData</span>(e.<span class="property">result</span>.<span class="property">audio</span>, <span class="keyword">function</span> (<span class="params">newBuffer</span>) &#123;</span><br><span class="line">            source.<span class="property">buffer</span> = newBuffer;</span><br><span class="line">            source.<span class="title function_">connect</span>(soundContext.<span class="property">destination</span>);</span><br><span class="line">            source.<span class="title function_">start</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!isRecording) &#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> listening = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (isRecording) &#123;</span><br><span class="line">        <span class="title function_">setlistenLoading</span>(<span class="function">(<span class="params">prev</span>) =&gt;</span> prev.<span class="property">length</span> &lt; <span class="number">5</span> ? prev + <span class="string">&quot;.&quot;</span> : <span class="string">&quot;&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, <span class="number">700</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="function">() =&gt;</span> <span class="built_in">clearInterval</span>(listening);</span><br><span class="line">  &#125;, [isRecording]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">main</span> <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">geistSans.variable</span>&#125; $&#123;<span class="attr">geistMono.variable</span>&#125; <span class="attr">font-sans</span> <span class="attr">flex</span> <span class="attr">flex-col</span> <span class="attr">h-screen</span>`&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center pt-10 pb-10 gap-5&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        &#123;OriginalLanguages.map((language) =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">          return (</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center&quot;</span> <span class="attr">key</span>=<span class="string">&#123;language.value&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">&#123;</span>`<span class="attr">radio-</span>$&#123;<span class="attr">language.value</span>&#125;`&#125; <span class="attr">type</span>=<span class="string">&quot;radio&quot;</span> <span class="attr">value</span>=<span class="string">&#123;language.value&#125;</span> <span class="attr">checked</span>=<span class="string">&#123;originalLanguage</span> === <span class="string">language.value&#125;</span> <span class="attr">disabled</span>=<span class="string">&#123;isRecording&#125;</span> <span class="attr">onChange</span>=<span class="string">&#123;()</span> =&gt;</span> setOriginalLanguage(language.value)&#125; name=&quot;default-radio&quot; className=&quot;w-8 h-8 text-blue-600 bg-gray-100 border-gray-30 dark:ring-offset-gray-800 dark:bg-gray-700 dark:border-gray-600&quot; /&gt;</span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">label</span> <span class="attr">htmlFor</span>=<span class="string">&#123;</span>`<span class="attr">radio-</span>$&#123;<span class="attr">language.value</span>&#125;`&#125; <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">isRecording</span>? &quot;<span class="attr">text-gray-400</span>&quot; <span class="attr">:</span> &quot;<span class="attr">text-gray-900</span>&quot;&#125; <span class="attr">ms-2</span> <span class="attr">text-2xl</span> <span class="attr">font-medium</span> <span class="attr">dark:text-gray-300</span>`&#125;&gt;</span>&#123;language.label&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          )</span></span><br><span class="line"><span class="language-xml">        &#125;)&#125;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center flex-auto pb-20&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">isRecording</span>? &quot;<span class="attr">hidden</span>&quot; <span class="attr">:</span> &quot;<span class="attr">block</span>&quot;&#125; <span class="attr">flex</span> <span class="attr">items-center</span> <span class="attr">justify-center</span> <span class="attr">rounded-full</span> <span class="attr">size-64</span> <span class="attr">bg-blue-200</span> <span class="attr">mx-auto</span> <span class="attr">cursor-pointer</span> <span class="attr">hover:bg-blue-300</span> <span class="attr">transition-colors</span>`&#125;</span></span></span><br><span class="line"><span class="tag"><span class="language-xml">        <span class="attr">onClick</span>=<span class="string">&#123;startRecording&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center rounded-full size-48 bg-blue-400 hover:bg-blue-500 transition-colors&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/images/microphone.svg&quot;</span>  <span class="attr">alt</span>=<span class="string">&quot;Microphone&quot;</span> <span class="attr">className</span>=<span class="string">&quot;size-24&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&#123;</span>`$&#123;<span class="attr">isRecording</span>? &quot;<span class="attr">block</span>&quot; <span class="attr">:</span> &quot;<span class="attr">hidden</span>&quot;&#125; <span class="attr">flex-col</span> <span class="attr">items-center</span> <span class="attr">justify-center</span>`&#125;&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center rounded-full size-64 bg-red-200 mx-auto cursor-pointer hover:bg-red-300 transition-colors&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">          <span class="attr">onClick</span>=<span class="string">&#123;stopRecording&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center rounded-full size-48 bg-red-400 hover:bg-red-500 transition-colors&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;w-16 h-16 bg-white animate-pulse&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;flex items-center justify-center mt-2&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;block w-64 items-center justify-start text-xl&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;/images/speech.svg&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;voice&quot;</span> <span class="attr">className</span>=<span class="string">&quot;inline-block ml-12 size-12&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;inline-block text-center font-medium ml-2&quot;</span>&gt;</span>Listening <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">p</span> <span class="attr">className</span>=<span class="string">&quot;inline-block font-medium&quot;</span>&gt;</span>&#123;listenLoading&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span>  </span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>The <code>Speech Service</code> of <code>Azure AI</code> is a cloud-based service that provides speech recognition and speech synthesis capabilities. It is a part of <code>Azure AI</code> suite. We can use it to build speech-enabled applications, such as speech-to-text, text-to-speech, and speech translation.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Today we‚Äôre going to talk about how to build a speech translator using &lt;code&gt;Azure Speech Service&lt;/code&gt; of &lt;code&gt;Azure AI&lt;/code&gt; . We‚Äôll</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="JavaScript" scheme="https://stonefishy.github.io/tags/JavaScript/"/>
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Cloud" scheme="https://stonefishy.github.io/tags/Cloud/"/>
    
    <category term="React" scheme="https://stonefishy.github.io/tags/React/"/>
    
    <category term="Azure" scheme="https://stonefishy.github.io/tags/Azure/"/>
    
    <category term="Next.js" scheme="https://stonefishy.github.io/tags/Next-js/"/>
    
    <category term="Tailwind" scheme="https://stonefishy.github.io/tags/Tailwind/"/>
    
  </entry>
  
  <entry>
    <title>Introduction to Generative AI Tools</title>
    <link href="https://stonefishy.github.io/2025/05/11/introduction-to-generative-ai-tools/"/>
    <id>https://stonefishy.github.io/2025/05/11/introduction-to-generative-ai-tools/</id>
    <published>2025-05-11T15:27:34.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Introduction-to-Generative-AI-Tools"><a href="#Introduction-to-Generative-AI-Tools" class="headerlink" title="Introduction to Generative AI Tools"></a>Introduction to Generative AI Tools</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-intro.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-intro.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Generative AI Tools" style="width:500px;"/></div><span class="image-caption">Generative AI Tools</span></div><p>Generative AI tools are revolutionizing the way content is created by leveraging advanced machine learning models. These tools enable users to generate <code>text</code>, <code>images</code>, <code>videos</code>, and more, offering innovative solutions across various industries.</p><h2 id="Popular-Generative-AI-Tools"><a href="#Popular-Generative-AI-Tools" class="headerlink" title="Popular Generative AI Tools"></a>Popular Generative AI Tools</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-popular.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-popular.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Popular Generative AI Tools" style="width:800px;"/></div><span class="image-caption">Popular Generative AI Tools</span></div><p>Several generative AI tools are widely used across industries. Tools like <code>ChatGPT</code> and <code>Jasper</code> are popular for generating human-like text, while platforms like <code>DALL¬∑E</code> and <code>Midjourney</code> excel in creating stunning visuals based on textual descriptions.</p><p>Other tools, such as <code>Runway</code> for video creation and <code>ElevenLabs</code> for AI-generated voices, showcase the versatility of generative AI. These tools simplify complex tasks, making them accessible to professionals and non-experts alike.</p><h3 id="AI-Tools-for-Text-Generation"><a href="#AI-Tools-for-Text-Generation" class="headerlink" title="AI Tools for Text Generation"></a>AI Tools for Text Generation</h3><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-text.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-text.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Text Generation AI Tools" style="width:800px;"/></div><span class="image-caption">Text Generation AI Tools</span></div><p>Generative AI tools for text creation include platforms like <code>Jasper</code> and <code>Anyword</code>, which assist in crafting marketing content and sales copy. These tools leverage advanced machine learning algorithms to produce human-like text tailored to specific audiences and purposes.</p><p><code>Quillbot</code> is another example, offering paraphrasing and summarization features that enhance writing efficiency. Such tools are widely used in industries ranging from education to marketing, streamlining workflows and boosting productivity.</p><h3 id="AI-Tools-for-Image-Creation"><a href="#AI-Tools-for-Image-Creation" class="headerlink" title="AI Tools for Image Creation"></a>AI Tools for Image Creation</h3><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-image.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-image.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Image Generation AI Tools" style="width:800px;"/></div><span class="image-caption">Image Generation AI Tools</span></div><p>Generative AI tools like <code>DALL¬∑E 3</code> and <code>Midjourney</code> are revolutionizing image creation by generating high-quality visuals from textual descriptions. These tools are ideal for creating unique artwork, marketing materials, and design prototypes.</p><p><code>Adobe Photoshop</code> also incorporates AI features for enhancing images, such as automated background removal and content-aware editing. These tools empower users to produce professional-grade visuals with minimal effort.</p><h3 id="Video-And-Audio-Generation-Platforms"><a href="#Video-And-Audio-Generation-Platforms" class="headerlink" title="Video And Audio Generation Platforms"></a>Video And Audio Generation Platforms</h3><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-audio-video.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-audio-video.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Audio and Video Generation AI Tools" style="width:800px;"/></div><span class="image-caption">Audio and Video Generation AI Tools</span></div><p><code>Runway</code> and <code>Wondershare Filmora</code> are popular generative AI tools for video creation, enabling users to produce creative and polished videos effortlessly. These platforms offer features like automated editing, special effects, and AI-driven enhancements.</p><p>For audio, <code>ElevenLabs</code> provides an extensive library of AI-generated voices, while <code>Suno</code> specializes in music generation. These tools are transforming the way multimedia content is created, making it accessible to professionals and hobbyists alike.</p><h2 id="Applications-Across-Industries"><a href="#Applications-Across-Industries" class="headerlink" title="Applications Across Industries"></a>Applications Across Industries</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-industries.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-industries.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Generative AI Tools for Industries" style="width:800px;"/></div><span class="image-caption">Generative AI Tools for Industries</span></div><p>Generative AI tools have diverse applications, from creating personalized marketing content to designing immersive <code>gaming</code> environments. In <code>healthcare</code>, these tools assist in generating synthetic data for research and training purposes.</p><p>In <code>education</code>, generative AI enhances learning experiences by creating tailored materials and automating grading. The technology‚Äôs adaptability ensures its relevance across various sectors, driving innovation and efficiency.</p><h3 id="Applications-in-Content-Generation"><a href="#Applications-in-Content-Generation" class="headerlink" title="Applications in Content Generation"></a>Applications in Content Generation</h3><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-applications.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-applications.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="20 Best AI Tools for Content Creation" style="width:800px;"/></div><span class="image-caption">20 Best AI Tools for Content Creation</span></div><p>Generative AI tools are widely used in content creation to streamline processes and enhance creativity. For instance, tools like <code>Jasper</code> and <code>DALL¬∑E 3</code> enable marketers to craft engaging campaigns with minimal manual effort.</p><p>In education, generative AI helps create personalized learning materials and automate grading. These applications demonstrate the versatility of generative AI in addressing diverse content needs across industries.</p><h2 id="Selecting-the-Right-Tool"><a href="#Selecting-the-Right-Tool" class="headerlink" title="Selecting the Right Tool"></a>Selecting the Right Tool</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/gen-ai-tool-choose.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/gen-ai-tool-choose.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Selecting the Right Generative AI Tool" style="width:800px;"/></div><span class="image-caption">Selecting the Right Generative AI Tool</span></div><p>Choosing the right generative AI tool depends on your specific needs and objectives. <span class='pbg sucess'>Consider factors such as the type of content you want to create</span></p><p>For instance, tools like <code>Jasper</code> are ideal for marketing professionals, while <code>DALL¬∑E</code> suits designers seeking AI-generated visuals. Evaluating the tool‚Äôs features and limitations ensures optimal results for your projects.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p><code>Generative AI</code> tools are transforming industries by enabling the creation of innovative and personalized content. By understanding their capabilities and applications, users can harness these tools to enhance creativity and streamline workflows.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Introduction-to-Generative-AI-Tools&quot;&gt;&lt;a href=&quot;#Introduction-to-Generative-AI-Tools&quot; class=&quot;headerlink&quot; title=&quot;Introduction to Genera</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="Tools" scheme="https://stonefishy.github.io/tags/Tools/"/>
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Generative AI" scheme="https://stonefishy.github.io/tags/Generative-AI/"/>
    
  </entry>
  
  <entry>
    <title>Traditional Programming vs Artificial Intelligence</title>
    <link href="https://stonefishy.github.io/2025/05/03/traditional-programming-vs-artificial-intelligence/"/>
    <id>https://stonefishy.github.io/2025/05/03/traditional-programming-vs-artificial-intelligence/</id>
    <published>2025-05-03T15:56:55.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p><strong>Traditional Programming</strong> relies on <code>algorithms</code> and <code>code</code> and is restricted to the limitations defined by the programmer. It follows <code>rules</code> and <code>logic</code>, making it ideal for problems with clear guidelines and well-defined logic.</p><p><strong>Artificial Intelligence (AI)</strong> is <code>data-driven</code> and learns from examples by <code>training</code> itself. AI relies on <code>large datasets</code> to identify patterns, make predictions, and make real-time decisions based on its <code>analysis of historical data</code>.</p><h2 id="Key-Differences-Between-AI-and-Traditional-Programming"><a href="#Key-Differences-Between-AI-and-Traditional-Programming" class="headerlink" title="Key Differences Between AI and Traditional Programming"></a>Key Differences Between AI and Traditional Programming</h2><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/ai-vs-traditional-programming.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/ai-vs-traditional-programming.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Traditional Programming vs Artificial Intelligence" style="width:800px;"/></div><span class="image-caption">Traditional Programming vs Artificial Intelligence</span></div><h3 id="Key-Differences-in-Outputs"><a href="#Key-Differences-in-Outputs" class="headerlink" title="Key Differences in Outputs"></a>Key Differences in Outputs</h3><p>Conventional programming produces reliable and <code>expected results</code>, delivering the <code>identical output</code> for the same input. This characteristic makes them perfect for activities demanding total accuracy, like mathematical computations or established procedures.</p><p>Conversely, AI outputs depend on <code>probabilities</code> and <code>patterns</code> that come from data. They are employed in situations characterized by uncertainty or variability, such as forecasting customer behavior or predicting the weather.</p><h3 id="When-to-Use-Traditional-Programming"><a href="#When-to-Use-Traditional-Programming" class="headerlink" title="When to Use Traditional Programming"></a>When to Use Traditional Programming</h3><p><strong>Traditional programming</strong> models are particularly <code>well-suited for scenarios where precision and consistency are crucial</code>. These models find their primary applications in fields such as <code>financial computations</code>, <code>engineering simulations</code>, and <code>software development</code> tailored for specific tasks.</p><p>Furthermore, these programming approaches are favored in situations where the <code>logic</code> and <code>rules</code> are clearly articulated and well-defined. They provide developers with the ability to meticulously control every step of the development process, which not only enhances the reliability of the final product but also simplifies the debugging process. This level of control is critical in ensuring that the applications function correctly and meet the high standards expected in various industries.</p><h3 id="When-to-Use-AI"><a href="#When-to-Use-AI" class="headerlink" title="When to Use AI"></a>When to Use AI</h3><p><strong>AI models</strong> are particularly adept at managing <code>complex and data-driven scenarios where outcomes are not predetermined</code>. AI solutions have been applied extensively across various fields, including <code>healthcare</code> for <code>predicting disease outbreaks</code>, <code>finance</code> for conducting thorough risk assessments, and <code>marketing</code> for effectively segmenting customers.</p><p>These advanced models utilize historical data to generate informed <code>predictions</code>, continuously learning and adapting to emerging new <code>patterns</code> and <code>trends</code>. This capacity for flexibility and evolution is what makes AI models especially invaluable in dynamic and uncertain environments where conditions frequently change and new challenges arise. Their ability to process and analyze vast amounts of data enables organizations to make informed decisions, mitigate risks, and optimize outcomes in a rapidly changing world.</p><h3 id="Advantages-and-Limitaitons-of-Each"><a href="#Advantages-and-Limitaitons-of-Each" class="headerlink" title="Advantages and Limitaitons of Each"></a>Advantages and Limitaitons of Each</h3><p><strong>Traditional programming</strong> models are praised for their <code>precision</code> and <code>simplicity</code>, which facilitate easy understanding and debugging. However, they struggle with flexibility, making it challenging to adapt to varying inputs and changing requirements.</p><p>In contrast, <strong>AI solutions</strong> excel at handling <code>complex</code>, <code>variable data</code> and can <code>learn</code> from new information, enabling greater adaptability and responsiveness. This inherent flexibility of AI comes at the cost of increased complexity in understanding and debugging compared to traditional programming.</p><p><strong>AI solutions</strong> can analyze vast datasets and uncover hidden patterns, enabling informed decision-making. However, <span class='pbg danger'>the effectiveness of AI is heavily dependent on the `quality and quantity of data` available</span></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;Traditional Programming&lt;/strong&gt; relies on &lt;code&gt;algorithms&lt;/code&gt; and &lt;code&gt;code&lt;/code&gt; and is restricted to the limitations def</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
  </entry>
  
  <entry>
    <title>The difference of set cookie in Tomcat and Jetty</title>
    <link href="https://stonefishy.github.io/2025/04/25/the-difference-of-set-cookie-in-tomcat-and-jetty/"/>
    <id>https://stonefishy.github.io/2025/04/25/the-difference-of-set-cookie-in-tomcat-and-jetty/</id>
    <published>2025-04-25T17:42:11.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>In previous blog <a href="https://stonefishy.github.io/2025/04/11/switching-tomcat-with-jetty-in-spring-boot-easily/">Switching Tomcat with Jetty in Spring Boot Easily</a>, to resolve the spring boot 2 tomcat security issue in short time, we switching <code>Tomcat</code> with <code>Jetty</code> in Spring Boot. We found there is a difference by set cookie handling between <code>Tomcat</code> and <code>Jetty</code> by default. Let‚Äôs first talk about the cookie.</p><h2 id="What-is-cookie"><a href="#What-is-cookie" class="headerlink" title="What is cookie?"></a>What is cookie?</h2><p>A cookie is a small piece of data that is stored on the user‚Äôs computer by the web server. It is used to store user preferences, login information, and other information that the user wants to be remembered. The cookie is sent to the user‚Äôs browser when the user makes a request to the web server. The browser then sends it back to the web server with subsequent requests.</p><h2 id="Cookie-Attributes"><a href="#Cookie-Attributes" class="headerlink" title="Cookie Attributes"></a>Cookie Attributes</h2><p>There are several attributes that can be set for a cookie:</p><ul><li><code>Domain</code>: The domain attribute specifies the domain for which the cookie is valid. If the domain is not specified, the cookie is valid for the entire domain.</li><li><code>Path</code>: The path attribute specifies the path on the server where the cookie is valid. If the path is not specified, the cookie is valid for the entire path.</li><li><code>Max-Age</code>: The max-age attribute specifies the maximum age of the cookie in seconds. If the max-age is not specified, the cookie is valid until the browser is closed.</li><li><code>Expires</code>: The expires attribute specifies the expiration date of the cookie. If the expires attribute is not specified, the cookie is valid until the browser is closed.</li><li><code>Secure</code>: The secure attribute specifies that the cookie should only be sent over HTTPS connections.</li><li><code>HttpOnly</code>: The httpOnly attribute specifies that the cookie should not be accessible to client-side scripts.</li><li><code>SameSite</code>: The sameSite attribute specifies whether the cookie should be sent with cross-site requests. The sameSite attribute can have the following values: <code>Strict</code>, <code>Lax</code>, or <code>None</code>.</li></ul><p>When <code>Max-Age</code> and <code>Expires</code> are not specified, the cookie is valid until the browser is closed. If <code>Max-Age</code> is specified, the cookie is valid for the specified number of seconds. If <code>Expires</code> is specified, the cookie is valid until the specified date. If both <code>Max-Age</code> and <code>Expires</code> are specified, the cookie is valid for the minimum of the two values.</p><h2 id="Set-Cookie-in-Spring-Boot"><a href="#Set-Cookie-in-Spring-Boot" class="headerlink" title="Set-Cookie in Spring Boot"></a>Set-Cookie in Spring Boot</h2><p>In Spring Boot, the <code>Set-Cookie</code> header is used to send cookies to the user‚Äôs browser. The <code>Set-Cookie</code> header is sent in the response to the user‚Äôs request. The <code>Set-Cookie</code> header contains the name, value, and other attributes of the cookie. Here is an example of the <code>Set-Cookie</code> header in Spring Boot:</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Set-Cookie: JSESSIONID=1234567890; Path=/; HttpOnly; Secure</span><br></pre></td></tr></table></figure><p>In this example, the <code>JSESSIONID</code> is the name of the cookie, <code>1234567890</code> is the value of the cookie, <code>Path</code> is the path on the server where the cookie is valid, <code>/</code> is the path, <code>HttpOnly</code> is a flag that indicates that the cookie should not be accessible to client-side scripts, <code>Secure</code> is a flag that indicates that the cookie should only be sent over HTTPS connections, and <code>SameSite</code> is not set.</p><p>In <code>Network</code> tab of <code>Chrome DevTools</code>, we can see the <code>Set-Cookie</code> header in the response headers. That means these cookie are set by web server and sent to the user‚Äôs browser and stored in the user‚Äôs computer.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/java/set-cookie-in-response-headers.png" class="lazyload placeholder" data-srcset="/assets/images/java/set-cookie-in-response-headers.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Set-Cookie in response headers"/></div><span class="image-caption">Set-Cookie in response headers</span></div><p>And we can also see the cookies in <code>Application</code> tab of <code>Chrome DevTools</code>. The cookies are stored in the user‚Äôs browser and can be accessed by the web server in subsequent requests.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/java/cookie-in-browser-application-tab.png" class="lazyload placeholder" data-srcset="/assets/images/java/cookie-in-browser-application-tab.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Cookies in Browser Application tab"/></div><span class="image-caption">Cookies in Browser Application tab</span></div><h2 id="Difference-of-Set-Cookie-in-Tomcat-and-Jetty"><a href="#Difference-of-Set-Cookie-in-Tomcat-and-Jetty" class="headerlink" title="Difference of Set-Cookie in Tomcat and Jetty"></a>Difference of Set-Cookie in Tomcat and Jetty</h2><p>Okay, let‚Äôs talk about the difference of <code>Set-Cookie</code> header handling between <code>Tomcat</code> and <code>Jetty</code>. Here we will use <code>curl</code> command to send a request to the server and see the <code>Set-Cookie</code> header in the response for default configuration.</p><h3 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h3><p>If we want to reduce <code>XSS cross-site scripting attacks</code> and <code>prevent reading and modifying cookie contents</code>, we can set the <code>HttpOnly</code> attribute for the cookie. In <code>Tomcat 6</code>,  we need to config it in the <code>tomcat/conf/context.xml</code> file. Add the <code>useHttpOnly=&quot;true&quot;</code> attribute in <code>&lt;Context&gt;</code> tag.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">Context</span> <span class="attr">useHttpOnly</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">Context</span>&gt;</span></span><br></pre></td></tr></table></figure><p>But for <code>Tomcat 7</code> and later version. We don‚Äôt need to config it in <code>context.xml</code> any more. The <code>useHttpOnly</code> attribute is set to <code>true</code> by default. It is introduced in <code>Tomcat 7</code> official doc (<a href="https://tomcat.apache.org/tomcat-7.0-doc/config/context.html">https://tomcat.apache.org/tomcat-7.0-doc/config/context.html</a>)</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/java/http-only-in-tomcat7.png" class="lazyload placeholder" data-srcset="/assets/images/java/http-only-in-tomcat7.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="HttpOnly in Tomcat 7"/></div><span class="image-caption">HttpOnly in Tomcat 7</span></div><p>Below is the screenshot that using <code>curl</code> command to send a request to our current Spring Boot application with <code>Tomcat</code> server:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/java/set-cookie-with-http-only.png" class="lazyload placeholder" data-srcset="/assets/images/java/set-cookie-with-http-only.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Set-Cookie with HttpOnly"/></div><span class="image-caption">Set-Cookie with HttpOnly</span></div><p>From the screenshot, you can see the <code>Set-Cookie</code> header in the response. The <code>HttpOnly</code> attribute is appended in the cookie by default.</p><p>BTW, from <code>Spring Boot</code> 2 version, it is starting use <code>Tomcat</code> 8 version which will set <code>HttpOnly</code> attribute by default in the cookie.</p><h3 id="Jetty"><a href="#Jetty" class="headerlink" title="Jetty"></a>Jetty</h3><p>For <code>Jetty</code>, the <code>HttpOnly</code> attribute is <code>not</code> set by default. We need to config it in the <code>web.xml</code> file. Add the <code>&lt;http-only&gt;</code> element in <code>&lt;cookie-config&gt;</code> tag.</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">cookie-config</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">http-only</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">cookie-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure><p>We also can set the <code>HttpOnly</code> attribute for the cookie in the code.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SessionCookieConfig.setHttpOnly(<span class="literal">true</span>);</span><br></pre></td></tr></table></figure><p>We can find the evidence in the <code>Jetty</code> official doc <a href="https://jetty.org/docs/jetty/12/programming-guide/server/session.html">https://jetty.org/docs/jetty/12/programming-guide/server/session.html</a>.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/java/http-only-in-jetty.png" class="lazyload placeholder" data-srcset="/assets/images/java/http-only-in-jetty.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="HttpOnly in Jetty"/></div><span class="image-caption">HttpOnly in Jetty</span></div><p>By default, the <code>HttpOnly</code> attribute is not set in the <code>Set-Cookie</code> header in jetty. Below is the screenshot that using <code>curl</code> command to send a request to our current Spring Boot application with <code>Jetty</code> server by default configuration:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/java/set-cookie-without-http-only.png" class="lazyload placeholder" data-srcset="/assets/images/java/set-cookie-without-http-only.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Set-Cookie without HttpOnly"/></div><span class="image-caption">Set-Cookie without HttpOnly</span></div><p>As you can see, the <code>HttpOnly</code> attribute is not set in the <code>Set-Cookie</code> header in <code>Jetty</code> by default when we use the <code>curl</code> command. The code are same, just simply switch <code>Tomcat</code> to <code>Jetty</code> in the <code>pom.xml</code> file in previous blog.</p><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>The <code>Set-Cookie</code> header is used to send cookies to the user‚Äôs browser. The <code>HttpOnly</code> attribute is used to prevent client-side scripts from accessing the cookie. The <code>Secure</code> attribute is used to ensure that the cookie is only sent over HTTPS connections. The <code>SameSite</code> attribute is used to prevent cross-site requests. The difference of <code>Set-Cookie</code> header handling between <code>Tomcat</code> and <code>Jetty</code> is that <code>Tomcat</code> set the <code>HttpOnly</code> attribute by default, while <code>Jetty</code> does not set it by default. We need to config it in the <code>web.xml</code> file for <code>Jetty</code> or set it in the code for <code>Tomcat</code>. So when you switche <code>Tomcat</code> to <code>Jetty</code>, you need to check the <code>HttpOnly</code> attribute in the <code>Set-Cookie</code> header for session id for security reason.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In previous blog &lt;a href=&quot;https://stonefishy.github.io/2025/04/11/switching-tomcat-with-jetty-in-spring-boot-easily/&quot;&gt;Switching Tomcat wi</summary>
      
    
    
    
    <category term="Backend" scheme="https://stonefishy.github.io/categories/Backend/"/>
    
    
    <category term="Java" scheme="https://stonefishy.github.io/tags/Java/"/>
    
    <category term="Spring" scheme="https://stonefishy.github.io/tags/Spring/"/>
    
    <category term="Spring Boot" scheme="https://stonefishy.github.io/tags/Spring-Boot/"/>
    
    <category term="Tomcat" scheme="https://stonefishy.github.io/tags/Tomcat/"/>
    
    <category term="Jetty" scheme="https://stonefishy.github.io/tags/Jetty/"/>
    
    <category term="Cookie" scheme="https://stonefishy.github.io/tags/Cookie/"/>
    
  </entry>
  
  <entry>
    <title>Understanding the Model Context Protocol (MCP)</title>
    <link href="https://stonefishy.github.io/2025/04/21/understanding-the-model-context-protocol-mcp/"/>
    <id>https://stonefishy.github.io/2025/04/21/understanding-the-model-context-protocol-mcp/</id>
    <published>2025-04-21T10:38:42.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>In the rapidly evolving landscape of artificial intelligence, ensuring the effective and efficient management of model contexts is crucial for the deployment and utilization of AI systems. The model context is refer to the set of information that is necessary for the <code>AI model</code> like <code>DeepSeek</code>, <code>Claude</code>, <code>ChatGPT</code>, <code>Gemini</code> to make a correct and efficient decision. However, managing the model context is not an easy task, as it requires a combination of technical expertise, domain knowledge, and business intelligence.</p><p>One significant protocol that has emerged to address this challenge is the <code>Model Context Protocol (MCP)</code>. Let‚Äôs talk about it in this blog.</p><h2 id="What-is-MCP"><a href="#What-is-MCP" class="headerlink" title="What is MCP?"></a>What is <code>MCP</code>?</h2><p>A brief overview of the <code>Model Context Protocol (MCP)</code> which introduced by official:</p><blockquote><p><code>The Model Context Protocol (MCP)</code> is an open protocol that enables seamless integration between LLM applications and external data sources and tools. Whether you‚Äôre building an AI-powered IDE, enhancing a chat interface, or creating custom AI workflows, MCP provides a standardized way to connect LLMs with the context they need.</p></blockquote><blockquote><p>Think of <code>MCP</code> like a USB-C port for AI applications. Just as USB-C provides a standardized way to connect your devices to various peripherals and accessories, MCP provides a standardized way to connect AI models to different data sources and tools.</p></blockquote><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/mcp-like-usb.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/mcp-like-usb.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div></div><p>So it‚Äôs a protocol that defines a standardized way to connect <code>LLMs</code> with the context they need. The <code>MCP</code> is designed to address the challenges of managing the model context. It‚Äôs introduced by <code>Anthropic</code> company at 2024, the <code>Claude Desktop</code> supports very well. </p><h2 id="Why-MCP-Came-Out"><a href="#Why-MCP-Came-Out" class="headerlink" title="Why MCP Came Out?"></a>Why MCP Came Out?</h2><p>Below  explains the Model Context Protocol‚Äôs architecture and capabilities, how it solves the inherent challenges of AI integration.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/mcp-before-after.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/mcp-before-after.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp"/></div></div><p>Before the <code>MCP</code>, we usually use the <code>Function calling</code>, which allows LLMs to invoke predetermined functions based on user requests, is a well-established feature of modern AI models. Sometimes referred to as ‚Äútool use,‚Äù function calling is not mutually exclusive with MCP; the new protocol simply standardizes how this API feature works. </p><p>Without MCP, when you use a function call directly with an LLM API, you need to:</p><ol><li>Define model-specific function schemas, which are JSON descriptions of the function, acceptable parameters, and what it returns.</li><li>Implement handlers (the actual code that executes when a function is called) for those functions.</li><li>Create different implementations for each model you support.</li></ol><p>With MCP, the MCP standardizes this process by:</p><ol><li>Defining a consistent way to specify tools (functions) across any AI system.</li><li>Providing a protocol for discovering available tools and executing them.</li><li>Creating a universal, plug-and-play format where any AI app can use any tool without custom integration code.</li></ol><p>You might be familiar with AI apps that use function calling, like Custom GPTs using GPT Actions. A Custom GPT can determine which API call resolves the user‚Äôs prompt, create the necessary JSON, then make the API call with it. While this allows some purpose-built tooling, it‚Äôs bound to OpenAI‚Äôs ecosystem. <code>MCP</code> brings similar capabilities to any AI application that implements the protocol, regardless of the underlying model vendor.</p><h2 id="MCP-Architectures-and-Core-Components"><a href="#MCP-Architectures-and-Core-Components" class="headerlink" title="MCP Architectures and Core Components"></a>MCP Architectures and Core Components</h2><p>Below is general architecture of <code>MCP</code>:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/mcp-general-architecture.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/mcp-general-architecture.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="MCP General Architecture"/></div><span class="image-caption">MCP General Architecture</span></div><p><strong>Host application</strong>: <code>LLMs</code> that interact with users and initiate connections. This includes <code>Claude Desktop</code>, AI-enhanced IDEs like <code>Cursor</code>, and standard web-based LLM chat interfaces.</p><p><strong>MCP client</strong>: Integrated within the host application to handle connections with MCP servers, translating between the host‚Äôs requirements and the Model Context Protocol. Clients are built into host applications, like the MCP client inside Claude Desktop.</p><p><strong>MCP server</strong>: Adds context and capabilities, exposing specific functions to AI apps through MCP. Each standalone server typically focuses on a specific integration point, like GitHub for repository access or a PostgreSQL for database operations.</p><p><strong>Data Source</strong>: The source of information or functionality that the MCP server connects to. This could be a database, API, or any other data source that the server can access.</p><ol><li><strong>Local Data Sources</strong>: Your computer‚Äôs files, databases, and services that MCP servers can securely access</li><li><strong>Remote Services</strong>: External systems available over the internet (e.g., through APIs) that MCP servers can connect to</li></ol><p><strong>Transport layer</strong>: The communication mechanism between clients and servers. MCP supports two primary transport methods:</p><ol><li><strong>STDIO (Standard Input&#x2F;Output)</strong>: Mainly local integrations where the server runs in the same environment as the client.</li><li><strong>HTTP+SSE (Server-Sent Events)</strong>: Remote connections, with HTTP for client requests and SS for server responses and streaming.</li></ol><p>All communication in MCP uses <code>JSON-RPC 2.0</code> as the underlying message standard, providing a standardized structure for requests, responses, and notifications.</p><h2 id="How-MCP-Works"><a href="#How-MCP-Works" class="headerlink" title="How MCP Works"></a>How MCP Works</h2><p>When a user interacts with a host application (an AI app) that supports <code>MCP</code>, several processes occur behind the scenes to enable quick and seamless communication between the AI and external systems. Let‚Äôs take a look the example.</p><h3 id="Protocol-handshake"><a href="#Protocol-handshake" class="headerlink" title="Protocol handshake"></a>Protocol handshake</h3><ol><li><strong>Initial connection</strong>: When an MCP client (like Claude Desktop) starts up, it connects to the configured MCP servers on your device.</li><li><strong>Capability discovery</strong>: The client asks each server ‚ÄúWhat capabilities do you offer?‚Äù Each server responds with its available tools, resources, and prompts.</li><li><strong>Registration</strong>: The client registers these capabilities, making them available for the AI to use during your conversation.</li></ol><h3 id="An-Example"><a href="#An-Example" class="headerlink" title="An Example"></a>An Example</h3><p>Let‚Äôs use an example to talk about it. Below is the example general communication flow of <code>MCP</code>:</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/ai-ml/mcp-communication-flow.png" class="lazyload placeholder" data-srcset="/assets/images/ai-ml/mcp-communication-flow.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="MCP How Works"/></div><span class="image-caption">MCP How Works</span></div><p>Let‚Äôs say you ask Claude, ‚ÄúWhat‚Äôs the weather like in San Francisco today?‚Äù Here‚Äôs what happens:</p><ol><li><strong>Need recognition</strong>: Claude analyzes your question and recognizes it needs external, real-time information that wasn‚Äôt in its training data.</li><li><strong>Tool or resource selection</strong>: Claude identifies that it needs to use an MCP capability to fulfill your request.</li><li><strong>Permission request</strong>: The client displays a permission prompt asking if you want to allow access to the external tool or resource. </li><li><strong>Information exchange</strong>: Once approved, the client sends a request to the appropriate MCP server using the standardized protocol format.</li><li><strong>External processing</strong>: The MCP server processes the request, performing whatever action is needed‚Äîquerying a weather service, reading a file, or accessing a database.</li><li><strong>Result return</strong>: The server returns the requested information to the client in a standardized format.</li><li><strong>Context integration</strong>: Claude receives this information and incorporates it into its understanding of the conversation.</li><li><strong>Response generation</strong>: Claude generates a response that includes the external information, providing you with an answer based on current data.</li></ol><h2 id="MCP-Servers"><a href="#MCP-Servers" class="headerlink" title="MCP Servers"></a>MCP Servers</h2><p>Since the MCP just released at end of the 2024 by Anthropic, but it is growing rapidly. There are many MCP servers available now, and they are categorized into different categories. There are some awsome MCP servers:</p><ul><li><strong>GitHub</strong>: MCP server for GitHub, which allows you to access repositories and files in your GitHub account.</li><li><strong>PostgreSQL</strong>: MCP server for PostgreSQL, which allows you to access and manage your PostgreSQL databases.</li><li><strong>Docker</strong>: MCP server for Docker, which allows you to manage your Docker containers and images.</li><li><strong>Kubernetes</strong>: MCP server for Kubernetes, which allows you to manage your Kubernetes clusters and resources.</li><li><strong>Google Cloud Platform</strong>: MCP server for Google Cloud Platform, which allows you to access and manage your Google Cloud resources.</li><li><strong>Amazon Web Services</strong>: MCP server for Amazon Web Services, which allows you to access and manage your AWS resources.</li></ul><p>There is a MCP servers collections link: <a href="https://github.com/punkpeye/awesome-mcp-servers">https://github.com/punkpeye/awesome-mcp-servers</a>, you can find existing MCP servers and their capabilities. Also, you can create your own MCP server by following the MCP server development guide. We will talk about it in the future.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;In the rapidly evolving landscape of artificial intelligence, ensuring the effective and efficient management of model contexts is crucia</summary>
      
    
    
    
    <category term="AI/ML" scheme="https://stonefishy.github.io/categories/AI-ML/"/>
    
    
    <category term="AI" scheme="https://stonefishy.github.io/tags/AI/"/>
    
    <category term="Chatbot" scheme="https://stonefishy.github.io/tags/Chatbot/"/>
    
    <category term="MCP" scheme="https://stonefishy.github.io/tags/MCP/"/>
    
  </entry>
  
  <entry>
    <title>Supercharge Your Python project with UV: The Lightning-Fast Package Manager</title>
    <link href="https://stonefishy.github.io/2025/04/16/supercharge-your-python-project-with-uv-the-lightning-fast-package-manager/"/>
    <id>https://stonefishy.github.io/2025/04/16/supercharge-your-python-project-with-uv-the-lightning-fast-package-manager/</id>
    <published>2025-04-16T14:00:23.000Z</published>
    <updated>2025-11-19T06:45:19.102Z</updated>
    
    <content type="html"><![CDATA[<p>Python‚Äôs ecosystem thrives on its rich library of packages, but managing dependencies can sometimes feel sluggish, especially in large projects. Enter <code>UV</code>, a modern package manager and resolver designed to supercharge your workflow. Developed by <code>Astral</code> (the team behind the popular Ruff linter), <code>UV</code> promises blazing speed and seamless integration with existing Python tools. Let‚Äôs explore why UV might become your new go-to for dependency management.</p><h2 id="What-is-UV"><a href="#What-is-UV" class="headerlink" title="What is UV?"></a>What is UV?</h2><p><code>UV</code> is a Rust-powered tool that combines a package installer (<code>pip</code>) and virtual environment manager (<code>venv</code>) into one ultra-fast solution. It aims to replace traditional tools like <code>pip</code>, <code>pipenv</code>, and <code>poetry</code> while staying fully compatible with their workflows. By leveraging Rust‚Äôs performance advantages, UV dramatically reduces installation and resolution times‚Äîoften by <code>10-100x</code> compared to older tools.</p><h2 id="Why-Use-UV"><a href="#Why-Use-UV" class="headerlink" title="Why Use UV?"></a>Why Use UV?</h2><p><strong>Speed</strong>: <code>UV</code> resolves and installs dependencies in seconds, even for complex projects.<br><strong>Simplicity</strong>: It‚Äôs a drop-in replacement for <code>pip</code> and <code>venv</code>, requiring no workflow changes.<br><strong>Modern Features</strong>: Supports <code>pyproject.toml</code>, <code>lock</code> files, and advanced dependency resolution.<br><strong>Cross-Platform</strong>: Works on Windows, macOS, and Linux.</p><h2 id="Getting-Started-with-UV"><a href="#Getting-Started-with-UV" class="headerlink" title="Getting Started with UV"></a>Getting Started with UV</h2><h3 id="Installation"><a href="#Installation" class="headerlink" title="Installation"></a>Installation</h3><p><code>UV</code> is distributed as a static binary, so installation is straightforward:</p><h4 id="Install-via-pip-recommended"><a href="#Install-via-pip-recommended" class="headerlink" title="Install via pip (recommended)"></a>Install via pip (recommended)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uv</span><br></pre></td></tr></table></figure><h4 id="Or-use-curl-Mac-Linux-only"><a href="#Or-use-curl-Mac-Linux-only" class="headerlink" title="Or use curl (Mac&#x2F;Linux only)"></a>Or use curl (Mac&#x2F;Linux only)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -LsSf https://astral.sh/uv/install.sh | sh</span><br></pre></td></tr></table></figure><p>Once the installation is complete, you can verify the installation by running:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv --version</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-version.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-version.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="UV version"/></div><span class="image-caption">UV version</span></div><p>Running below command to get the help message:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv --<span class="built_in">help</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-help.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-help.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="UV help"/></div><span class="image-caption">UV help</span></div><h3 id="Creating-a-Project"><a href="#Creating-a-Project" class="headerlink" title="Creating a Project"></a>Creating a Project</h3><p>To create a new project with <code>UV</code>, run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv init &lt;project-name&gt;</span><br></pre></td></tr></table></figure><p>This will create a new project called <project-name> directory with a <code>pyproject.toml</code> file and a <code>uv.lock</code> file. The <code>pyproject.toml</code> file is where you can specify your project‚Äôs dependencies and other metadata. The <code>uv.lock</code> file is where <code>UV</code> stores the resolved dependencies and their versions.</p><p>Let‚Äôs create a new project called <code>uv-sample</code>:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv init uv-sample</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-init1.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-init1.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="UV init project"/></div><span class="image-caption">UV init project</span></div><p>It also creates associated with the <code>git</code> for this project, <code>.python-version</code> file for managing Python version, and a sample <code>main.py</code> python file.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-init2.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-init2.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Project files generated by UV init"/></div><span class="image-caption">Project files generated by UV init</span></div><p>The <code>pyproject.toml</code> file is where you can specify your project‚Äôs dependencies and other metadata. Since this project doesn‚Äôt have any dependencies, so the <code>uv.lock</code> file is empty. Below is <code>uv-sample</code> <code>pyproject.toml</code> file:</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[project]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;uv-sample&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;Add your description here&quot;</span></span><br><span class="line"><span class="attr">readme</span> = <span class="string">&quot;README.md&quot;</span></span><br><span class="line"><span class="attr">requires-python</span> = <span class="string">&quot;&gt;=3.12&quot;</span></span><br><span class="line"><span class="attr">dependencies</span> = []</span><br></pre></td></tr></table></figure><h3 id="Manage-Dependencies"><a href="#Manage-Dependencies" class="headerlink" title="Manage Dependencies"></a>Manage Dependencies</h3><p>Using <code>uv</code> to manage dependencies is as simple as adding them to the <code>dependencies</code> section of the <code>pyproject.toml</code> file. For example, to add <code>pandas</code> as a dependency, we can run:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv add pandas</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-add-dependency.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-add-dependency.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="UV Add dependency"/></div><span class="image-caption">UV Add dependency</span></div><p>From the screenshot, you can see before adding the dependency in python project. The <code>uv</code> also help us to create a virtual environment for our project. The package and dependencies installed in the virtual environment will be isolated from the system-wide packages.</p><p>The <code>uv.lock</code> file will be updated with the installed dependencies and their versions. And the <code>pyproject.toml</code> file will be updated with the new dependency.</p><p><code>pyproject.toml</code> file after adding <code>pandas</code> as a dependency:</p><figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[project]</span></span><br><span class="line"><span class="attr">name</span> = <span class="string">&quot;uv-sample&quot;</span></span><br><span class="line"><span class="attr">version</span> = <span class="string">&quot;0.1.0&quot;</span></span><br><span class="line"><span class="attr">description</span> = <span class="string">&quot;Add your description here&quot;</span></span><br><span class="line"><span class="attr">readme</span> = <span class="string">&quot;README.md&quot;</span></span><br><span class="line"><span class="attr">requires-python</span> = <span class="string">&quot;&gt;=3.12&quot;</span></span><br><span class="line"><span class="attr">dependencies</span> = [</span><br><span class="line">    <span class="string">&quot;pandas&gt;=2.2.3&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><code>uv.lock</code> file is like a <code>package-lock.json</code> file for <code>npm</code> or <code>yarn</code>. It contains the resolved dependencies and their versions. We can see the installed dependencies and their versions in the <code>uv.lock</code> file. Please don‚Äôt edit this file manually.</p><p>To see the dependencies tree, we can run <code>uv tree</code> command.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv tree</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-tree.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-tree.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Dependencies via UV tree"/></div><span class="image-caption">Dependencies via UV tree</span></div><p>It lists all the dependencies and their dependencies recursively.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-lock-file.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-lock-file.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="UV lock file"/></div><span class="image-caption">UV lock file</span></div><p>You can also remove the dependency by running: <code>uv remove &lt;dependency-name&gt;</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv remove pandas</span><br></pre></td></tr></table></figure><p>If your project is cloned. And you want to setup the development environment on your local. You can run <code>uv sync</code> to install the dependencies from the <code>uv.lock</code> file.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv <span class="built_in">sync</span></span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-sync.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-sync.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Install dependencies from UV sync"/></div><span class="image-caption">Install dependencies from UV sync</span></div><p>See, it‚Äôs very easy. It created a virtual environment for our project and installed the dependencies from the <code>uv.lock</code> file.</p><p>The <code>uv</code> has more features like using <code>uv</code> to install and select specific python verison, run the python code.</p><h3 id="Manage-Python-Version"><a href="#Manage-Python-Version" class="headerlink" title="Manage Python Version"></a>Manage Python Version</h3><p>Using the <code>uv</code> also can manage the python version for your project. Below is the snapshot to manage the python.</p><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-python.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-python.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="UV python"/></div><span class="image-caption">UV python</span></div><p>List all the available downloaded python.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv python list</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-python-list.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-python-list.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="List of python versions"/></div><span class="image-caption">List of python versions</span></div><p>You can download and install the specific python version. </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv python install &lt;version&gt;</span><br></pre></td></tr></table></figure><p>Let‚Äôs install the python version 3.14. See below screenshot.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv python install 3.14</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-python-install.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-python-install.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Install python version"/></div><span class="image-caption">Install python version</span></div><p>So using <code>uv</code> we can manage multiple python versions at same time. It‚Äôs like <code>nvm</code> for node.js. For more using <code>uv</code> to manage the python version, you can type <code>uv python --help</code> to get the help message.</p><h3 id="Run-Python-Code"><a href="#Run-Python-Code" class="headerlink" title="Run Python Code"></a>Run Python Code</h3><p>Before <code>uv</code>, we running the python code usuallly by using <code>python &lt;python-file&gt;</code>. In <code>uv</code>, we can run the python code using <code>uv run</code> command.</p><p><code>main.py</code> example file.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello from uv-sample!&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><p>Executing below command to run the python code.</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uv run main.py</span><br></pre></td></tr></table></figure><div class="img-wrap"><div class="img-bg"><img class="img lazyload placeholder" src="/assets/images/python/uv-run-python.png" class="lazyload placeholder" data-srcset="/assets/images/python/uv-run-python.png" srcset="https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp" alt="Run python code"/></div><span class="image-caption">Run python code</span></div><h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p><code>UV</code> is a modern package manager and resolver designed to supercharge your workflow. It promises blazing speed and seamless integration with existing Python tools. It‚Äôs a drop-in replacement for <code>pip</code> and <code>venv</code>, requiring no workflow changes. It works on Windows, macOS, and Linux.</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Python‚Äôs ecosystem thrives on its rich library of packages, but managing dependencies can sometimes feel sluggish, especially in large pr</summary>
      
    
    
    
    <category term="Backend" scheme="https://stonefishy.github.io/categories/Backend/"/>
    
    
    <category term="Python" scheme="https://stonefishy.github.io/tags/Python/"/>
    
    <category term="UV" scheme="https://stonefishy.github.io/tags/UV/"/>
    
  </entry>
  
</feed>
